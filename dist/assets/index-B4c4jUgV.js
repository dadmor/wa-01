var $m=n=>{throw TypeError(n)};var Bu=(n,t,s)=>t.has(n)||$m("Cannot "+s);var j=(n,t,s)=>(Bu(n,t,"read from private field"),s?s.call(n):t.get(n)),pe=(n,t,s)=>t.has(n)?$m("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,s),X=(n,t,s,i)=>(Bu(n,t,"write to private field"),i?i.call(n,s):t.set(n,s),s),Ee=(n,t,s)=>(Bu(n,t,"access private method"),s);var Sl=(n,t,s,i)=>({set _(o){X(n,t,o,s)},get _(){return j(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();function cg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function h0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var s=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),s}var qu={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function f0(){if(Am)return Re;Am=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function S(C,q,te){this.props=C,this.context=q,this.refs=_,this.updater=te||k}S.prototype.isReactComponent={},S.prototype.setState=function(C,q){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,q,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function P(){}P.prototype=S.prototype;function F(C,q,te){this.props=C,this.context=q,this.refs=_,this.updater=te||k}var $=F.prototype=new P;$.constructor=F,N($,S.prototype),$.isPureReactComponent=!0;var B=Array.isArray,Q=Object.prototype.hasOwnProperty,z={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function fe(C,q,te){var ve,xe={},qe=null,Pe=null;if(q!=null)for(ve in q.ref!==void 0&&(Pe=q.ref),q.key!==void 0&&(qe=""+q.key),q)Q.call(q,ve)&&!ae.hasOwnProperty(ve)&&(xe[ve]=q[ve]);var He=arguments.length-2;if(He===1)xe.children=te;else if(1<He){for(var Ue=Array(He),St=0;St<He;St++)Ue[St]=arguments[St+2];xe.children=Ue}if(C&&C.defaultProps)for(ve in He=C.defaultProps,He)xe[ve]===void 0&&(xe[ve]=He[ve]);return{$$typeof:n,type:C,key:qe,ref:Pe,props:xe,_owner:z.current}}function re(C,q){return{$$typeof:n,type:C.type,key:q,ref:C.ref,props:C.props,_owner:C._owner}}function we(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Qe(C){var q={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(te){return q[te]})}var Xe=/\/+/g;function Je(C,q){return typeof C=="object"&&C!==null&&C.key!=null?Qe(""+C.key):q.toString(36)}function Ce(C,q,te,ve,xe){var qe=typeof C;(qe==="undefined"||qe==="boolean")&&(C=null);var Pe=!1;if(C===null)Pe=!0;else switch(qe){case"string":case"number":Pe=!0;break;case"object":switch(C.$$typeof){case n:case t:Pe=!0}}if(Pe)return Pe=C,xe=xe(Pe),C=ve===""?"."+Je(Pe,0):ve,B(xe)?(te="",C!=null&&(te=C.replace(Xe,"$&/")+"/"),Ce(xe,q,te,"",function(St){return St})):xe!=null&&(we(xe)&&(xe=re(xe,te+(!xe.key||Pe&&Pe.key===xe.key?"":(""+xe.key).replace(Xe,"$&/")+"/")+C)),q.push(xe)),1;if(Pe=0,ve=ve===""?".":ve+":",B(C))for(var He=0;He<C.length;He++){qe=C[He];var Ue=ve+Je(qe,He);Pe+=Ce(qe,q,te,Ue,xe)}else if(Ue=x(C),typeof Ue=="function")for(C=Ue.call(C),He=0;!(qe=C.next()).done;)qe=qe.value,Ue=ve+Je(qe,He++),Pe+=Ce(qe,q,te,Ue,xe);else if(qe==="object")throw q=String(C),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Pe}function Be(C,q,te){if(C==null)return C;var ve=[],xe=0;return Ce(C,ve,"","",function(qe){return q.call(te,qe,xe++)}),ve}function Se(C){if(C._status===-1){var q=C._result;q=q(),q.then(function(te){(C._status===0||C._status===-1)&&(C._status=1,C._result=te)},function(te){(C._status===0||C._status===-1)&&(C._status=2,C._result=te)}),C._status===-1&&(C._status=0,C._result=q)}if(C._status===1)return C._result.default;throw C._result}var je={current:null},J={transition:null},se={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:J,ReactCurrentOwner:z};return Re.Children={map:Be,forEach:function(C,q,te){Be(C,function(){q.apply(this,arguments)},te)},count:function(C){var q=0;return Be(C,function(){q++}),q},toArray:function(C){return Be(C,function(q){return q})||[]},only:function(C){if(!we(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Re.Component=S,Re.Fragment=s,Re.Profiler=o,Re.PureComponent=F,Re.StrictMode=i,Re.Suspense=m,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Re.cloneElement=function(C,q,te){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ve=N({},C.props),xe=C.key,qe=C.ref,Pe=C._owner;if(q!=null){if(q.ref!==void 0&&(qe=q.ref,Pe=z.current),q.key!==void 0&&(xe=""+q.key),C.type&&C.type.defaultProps)var He=C.type.defaultProps;for(Ue in q)Q.call(q,Ue)&&!ae.hasOwnProperty(Ue)&&(ve[Ue]=q[Ue]===void 0&&He!==void 0?He[Ue]:q[Ue])}var Ue=arguments.length-2;if(Ue===1)ve.children=te;else if(1<Ue){He=Array(Ue);for(var St=0;St<Ue;St++)He[St]=arguments[St+2];ve.children=He}return{$$typeof:n,type:C.type,key:xe,ref:qe,props:ve,_owner:Pe}},Re.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},Re.createElement=fe,Re.createFactory=function(C){var q=fe.bind(null,C);return q.type=C,q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(C){return{$$typeof:f,render:C}},Re.isValidElement=we,Re.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:Se}},Re.memo=function(C,q){return{$$typeof:g,type:C,compare:q===void 0?null:q}},Re.startTransition=function(C){var q=J.transition;J.transition={};try{C()}finally{J.transition=q}},Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.useCallback=function(C,q){return je.current.useCallback(C,q)},Re.useContext=function(C){return je.current.useContext(C)},Re.useDebugValue=function(){},Re.useDeferredValue=function(C){return je.current.useDeferredValue(C)},Re.useEffect=function(C,q){return je.current.useEffect(C,q)},Re.useId=function(){return je.current.useId()},Re.useImperativeHandle=function(C,q,te){return je.current.useImperativeHandle(C,q,te)},Re.useInsertionEffect=function(C,q){return je.current.useInsertionEffect(C,q)},Re.useLayoutEffect=function(C,q){return je.current.useLayoutEffect(C,q)},Re.useMemo=function(C,q){return je.current.useMemo(C,q)},Re.useReducer=function(C,q,te){return je.current.useReducer(C,q,te)},Re.useRef=function(C){return je.current.useRef(C)},Re.useState=function(C){return je.current.useState(C)},Re.useSyncExternalStore=function(C,q,te){return je.current.useSyncExternalStore(C,q,te)},Re.useTransition=function(){return je.current.useTransition()},Re.version="18.2.0",Re}var Dm;function Dd(){return Dm||(Dm=1,qu.exports=f0()),qu.exports}var O=Dd();const m0=cg(O);var El={},Wu={exports:{}},Kt={},Hu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function p0(){return Mm||(Mm=1,function(n){function t(J,se){var C=J.length;J.push(se);e:for(;0<C;){var q=C-1>>>1,te=J[q];if(0<o(te,se))J[q]=se,J[C]=te,C=q;else break e}}function s(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var se=J[0],C=J.pop();if(C!==se){J[0]=C;e:for(var q=0,te=J.length,ve=te>>>1;q<ve;){var xe=2*(q+1)-1,qe=J[xe],Pe=xe+1,He=J[Pe];if(0>o(qe,C))Pe<te&&0>o(He,qe)?(J[q]=He,J[Pe]=C,q=Pe):(J[q]=qe,J[xe]=C,q=xe);else if(Pe<te&&0>o(He,C))J[q]=He,J[Pe]=C,q=Pe;else break e}}return se}function o(J,se){var C=J.sortIndex-se.sortIndex;return C!==0?C:J.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],g=[],y=1,v=null,x=3,k=!1,N=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(J){for(var se=s(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=J)i(g),se.sortIndex=se.expirationTime,t(m,se);else break;se=s(g)}}function B(J){if(_=!1,$(J),!N)if(s(m)!==null)N=!0,Se(Q);else{var se=s(g);se!==null&&je(B,se.startTime-J)}}function Q(J,se){N=!1,_&&(_=!1,P(fe),fe=-1),k=!0;var C=x;try{for($(se),v=s(m);v!==null&&(!(v.expirationTime>se)||J&&!Qe());){var q=v.callback;if(typeof q=="function"){v.callback=null,x=v.priorityLevel;var te=q(v.expirationTime<=se);se=n.unstable_now(),typeof te=="function"?v.callback=te:v===s(m)&&i(m),$(se)}else i(m);v=s(m)}if(v!==null)var ve=!0;else{var xe=s(g);xe!==null&&je(B,xe.startTime-se),ve=!1}return ve}finally{v=null,x=C,k=!1}}var z=!1,ae=null,fe=-1,re=5,we=-1;function Qe(){return!(n.unstable_now()-we<re)}function Xe(){if(ae!==null){var J=n.unstable_now();we=J;var se=!0;try{se=ae(!0,J)}finally{se?Je():(z=!1,ae=null)}}else z=!1}var Je;if(typeof F=="function")Je=function(){F(Xe)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Be=Ce.port2;Ce.port1.onmessage=Xe,Je=function(){Be.postMessage(null)}}else Je=function(){S(Xe,0)};function Se(J){ae=J,z||(z=!0,Je())}function je(J,se){fe=S(function(){J(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){N||k||(N=!0,Se(Q))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(J){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var C=x;x=se;try{return J()}finally{x=C}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var C=x;x=J;try{return se()}finally{x=C}},n.unstable_scheduleCallback=function(J,se,C){var q=n.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?q+C:q):C=q,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=C+te,J={id:y++,callback:se,priorityLevel:J,startTime:C,expirationTime:te,sortIndex:-1},C>q?(J.sortIndex=C,t(g,J),s(m)===null&&J===s(g)&&(_?(P(fe),fe=-1):_=!0,je(B,C-q))):(J.sortIndex=te,t(m,J),N||k||(N=!0,Se(Q))),J},n.unstable_shouldYield=Qe,n.unstable_wrapCallback=function(J){var se=x;return function(){var C=x;x=se;try{return J.apply(this,arguments)}finally{x=C}}}}(Vu)),Vu}var Im;function g0(){return Im||(Im=1,Hu.exports=p0()),Hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function y0(){if(Um)return Kt;Um=1;var n=Dd(),t=g0();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,r){u(e,r),u(e+"Capture",r)}function u(e,r){for(o[e]=r,e=0;e<r.length;e++)i.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(e){return m.call(v,e)?!0:m.call(y,e)?!1:g.test(e)?v[e]=!0:(y[e]=!0,!1)}function k(e,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,r,a,c){if(r===null||typeof r>"u"||k(e,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function _(e,r,a,c,h,p,b){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=e,this.type=r,this.sanitizeURL=p,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];S[r]=new _(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(P,F);S[r]=new _(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(P,F);S[r]=new _(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(P,F);S[r]=new _(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,r,a,c){var h=S.hasOwnProperty(r)?S[r]:null;(h!==null?h.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,a,h,c)&&(a=null),c||h===null?x(r)&&(a===null?e.removeAttribute(r):e.setAttribute(r,""+a)):h.mustUseProperty?e[h.propertyName]=a===null?h.type===3?!1:"":a:(r=h.attributeName,c=h.attributeNamespace,a===null?e.removeAttribute(r):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?e.setAttributeNS(c,r,a):e.setAttribute(r,a))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),z=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),Qe=Symbol.for("react.context"),Xe=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),J=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var C=Object.assign,q;function te(e){if(q===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);q=r&&r[1]||""}return`
`+q+e}var ve=!1;function xe(e,r){if(!e||ve)return"";ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(I){var c=I}Reflect.construct(e,[],r)}else{try{r.call()}catch(I){c=I}e.call(r.prototype)}else{try{throw Error()}catch(I){c=I}e()}}catch(I){if(I&&c&&typeof I.stack=="string"){for(var h=I.stack.split(`
`),p=c.stack.split(`
`),b=h.length-1,E=p.length-1;1<=b&&0<=E&&h[b]!==p[E];)E--;for(;1<=b&&0<=E;b--,E--)if(h[b]!==p[E]){if(b!==1||E!==1)do if(b--,E--,0>E||h[b]!==p[E]){var R=`
`+h[b].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=b&&0<=E);break}}}finally{ve=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?te(e):""}function qe(e){switch(e.tag){case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1),e;case 11:return e=xe(e.type.render,!1),e;case 1:return e=xe(e.type,!0),e;default:return""}}function Pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case z:return"Portal";case re:return"Profiler";case fe:return"StrictMode";case Je:return"Suspense";case Ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qe:return(e.displayName||"Context")+".Consumer";case we:return(e._context.displayName||"Context")+".Provider";case Xe:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Be:return r=e.displayName||null,r!==null?r:Pe(e.type)||"Memo";case Se:r=e._payload,e=e._init;try{return Pe(e(r))}catch{}}return null}function He(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function St(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _t(e){var r=St(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),c=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){c=""+b,p.call(this,b)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function gr(e){e._valueTracker||(e._valueTracker=_t(e))}function Ki(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return e&&(c=St(e)?e.checked?"true":"false":e.value),e=c,e!==a?(r.setValue(e),!0):!1}function qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yr(e,r){var a=r.checked;return C({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function po(e,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Ue(r.value!=null?r.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function go(e,r){r=r.checked,r!=null&&$(e,"checked",r,!1)}function Ws(e,r){go(e,r);var a=Ue(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Qi(e,r.type,a):r.hasOwnProperty("defaultValue")&&Qi(e,r.type,Ue(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function yo(e,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,a||r===e.value||(e.value=r),e.defaultValue=r}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Qi(e,r,a){(r!=="number"||qs(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var ns=Array.isArray;function hn(e,r,a,c){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function vr(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return C({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fn(e,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(ns(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}e._wrapperState={initialValue:Ue(a)}}function Gi(e,r){var a=Ue(r.value),c=Ue(r.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),r.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function Hs(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function wr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yt(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?wr(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ss,Vs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,h){MSApp.execUnsafeLocalFunction(function(){return e(r,a,c,h)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function is(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vo=["Webkit","ms","Moz","O"];Object.keys(Mt).forEach(function(e){vo.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Mt[r]=Mt[e]})});function Ji(e,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Mt.hasOwnProperty(e)&&Mt[e]?(""+r).trim():r+"px"}function Yi(e,r){e=e.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Ji(a,r[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,h):e[a]=h}}var oc=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ks(e,r){if(r){if(oc[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function mn(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qs=null;function as(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Hr=null,pn=null;function Xi(e){if(e=wa(e)){if(typeof Zi!="function")throw Error(s(280));var r=e.stateNode;r&&(r=Uo(r),Zi(e.stateNode,e.type,r))}}function os(e){Hr?pn?pn.push(e):pn=[e]:Hr=e}function ls(){if(Hr){var e=Hr,r=pn;if(pn=Hr=null,Xi(e),r)for(e=0;e<r.length;e++)Xi(r[e])}}function wo(e,r){return e(r)}function bo(){}var T=!1;function A(e,r,a){if(T)return e(r,a);T=!0;try{return wo(e,r,a)}finally{T=!1,(Hr!==null||pn!==null)&&(bo(),ls())}}function U(e,r){var a=e.stateNode;if(a===null)return null;var c=Uo(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var V=!1;if(f)try{var Y={};Object.defineProperty(Y,"passive",{get:function(){V=!0}}),window.addEventListener("test",Y,Y),window.removeEventListener("test",Y,Y)}catch{V=!1}function ue(e,r,a,c,h,p,b,E,R){var I=Array.prototype.slice.call(arguments,3);try{r.apply(a,I)}catch(H){this.onError(H)}}var me=!1,ee=null,ce=!1,de=null,_e={onError:function(e){me=!0,ee=e}};function he(e,r,a,c,h,p,b,E,R){me=!1,ee=null,ue.apply(_e,arguments)}function ke(e,r,a,c,h,p,b,E,R){if(he.apply(this,arguments),me){if(me){var I=ee;me=!1,ee=null}else throw Error(s(198));ce||(ce=!0,de=I)}}function De(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function it(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function ht(e){if(De(e)!==e)throw Error(s(188))}function Rt(e){var r=e.alternate;if(!r){if(r=De(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,c=r;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return ht(h),e;if(p===c)return ht(h),r;p=p.sibling}throw Error(s(188))}if(a.return!==c.return)a=h,c=p;else{for(var b=!1,E=h.child;E;){if(E===a){b=!0,a=h,c=p;break}if(E===c){b=!0,c=h,a=p;break}E=E.sibling}if(!b){for(E=p.child;E;){if(E===a){b=!0,a=p,c=h;break}if(E===c){b=!0,c=p,a=h;break}E=E.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function $e(e){return e=Rt(e),e!==null?gn(e):null}function gn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=gn(e);if(r!==null)return r;e=e.sibling}return null}var $r=t.unstable_scheduleCallback,yn=t.unstable_cancelCallback,It=t.unstable_shouldYield,cs=t.unstable_requestPaint,Ge=t.unstable_now,ea=t.unstable_getCurrentPriorityLevel,br=t.unstable_ImmediatePriority,us=t.unstable_UserBlockingPriority,Me=t.unstable_NormalPriority,Ut=t.unstable_LowPriority,xr=t.unstable_IdlePriority,Vr=null,Ft=null;function at(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Vr,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Ty,xo=Math.log,lc=Math.LN2;function Ty(e){return e>>>=0,e===0?32:31-(xo(e)/lc|0)|0}var _o=64,ko=4194304;function ta(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function No(e,r){var a=e.pendingLanes;if(a===0)return 0;var c=0,h=e.suspendedLanes,p=e.pingedLanes,b=a&268435455;if(b!==0){var E=b&~h;E!==0?c=ta(E):(p&=b,p!==0&&(c=ta(p)))}else b=a&~h,b!==0?c=ta(b):p!==0&&(c=ta(p));if(c===0)return 0;if(r!==0&&r!==c&&(r&h)===0&&(h=c&-c,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=c;0<r;)a=31-gt(r),h=1<<a,c|=e[a],r&=~h;return c}function Ry(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oy(e,r){for(var a=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes;0<p;){var b=31-gt(p),E=1<<b,R=h[b];R===-1?((E&a)===0||(E&c)!==0)&&(h[b]=Ry(E,r)):R<=r&&(e.expiredLanes|=E),p&=~E}}function cc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=_o;return _o<<=1,(_o&4194240)===0&&(_o=64),e}function uc(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function ra(e,r,a){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-gt(r),e[r]=a}function Ly(e,r){var a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var h=31-gt(a),p=1<<h;r[h]=0,c[h]=-1,e[h]=-1,a&=~p}}function dc(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var c=31-gt(a),h=1<<c;h&r|e[c]&r&&(e[c]|=r),a&=~h}}var Ve=0;function dh(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var hh,hc,fh,mh,ph,fc=!1,So=[],vn=null,wn=null,bn=null,na=new Map,sa=new Map,xn=[],zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gh(e,r){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":na.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(r.pointerId)}}function ia(e,r,a,c,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},r!==null&&(r=wa(r),r!==null&&hc(r)),e):(e.eventSystemFlags|=c,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function $y(e,r,a,c,h){switch(r){case"focusin":return vn=ia(vn,e,r,a,c,h),!0;case"dragenter":return wn=ia(wn,e,r,a,c,h),!0;case"mouseover":return bn=ia(bn,e,r,a,c,h),!0;case"pointerover":var p=h.pointerId;return na.set(p,ia(na.get(p)||null,e,r,a,c,h)),!0;case"gotpointercapture":return p=h.pointerId,sa.set(p,ia(sa.get(p)||null,e,r,a,c,h)),!0}return!1}function yh(e){var r=ds(e.target);if(r!==null){var a=De(r);if(a!==null){if(r=a.tag,r===13){if(r=it(a),r!==null){e.blockedOn=r,ph(e.priority,function(){fh(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=pc(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);Qs=c,a.target.dispatchEvent(c),Qs=null}else return r=wa(a),r!==null&&hc(r),e.blockedOn=a,!1;r.shift()}return!0}function vh(e,r,a){Eo(e)&&a.delete(r)}function Ay(){fc=!1,vn!==null&&Eo(vn)&&(vn=null),wn!==null&&Eo(wn)&&(wn=null),bn!==null&&Eo(bn)&&(bn=null),na.forEach(vh),sa.forEach(vh)}function aa(e,r){e.blockedOn===r&&(e.blockedOn=null,fc||(fc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ay)))}function oa(e){function r(h){return aa(h,e)}if(0<So.length){aa(So[0],e);for(var a=1;a<So.length;a++){var c=So[a];c.blockedOn===e&&(c.blockedOn=null)}}for(vn!==null&&aa(vn,e),wn!==null&&aa(wn,e),bn!==null&&aa(bn,e),na.forEach(r),sa.forEach(r),a=0;a<xn.length;a++)c=xn[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<xn.length&&(a=xn[0],a.blockedOn===null);)yh(a),a.blockedOn===null&&xn.shift()}var Gs=B.ReactCurrentBatchConfig,Co=!0;function Dy(e,r,a,c){var h=Ve,p=Gs.transition;Gs.transition=null;try{Ve=1,mc(e,r,a,c)}finally{Ve=h,Gs.transition=p}}function My(e,r,a,c){var h=Ve,p=Gs.transition;Gs.transition=null;try{Ve=4,mc(e,r,a,c)}finally{Ve=h,Gs.transition=p}}function mc(e,r,a,c){if(Co){var h=pc(e,r,a,c);if(h===null)Oc(e,r,c,Po,a),gh(e,c);else if($y(h,e,r,a,c))c.stopPropagation();else if(gh(e,c),r&4&&-1<zy.indexOf(e)){for(;h!==null;){var p=wa(h);if(p!==null&&hh(p),p=pc(e,r,a,c),p===null&&Oc(e,r,c,Po,a),p===h)break;h=p}h!==null&&c.stopPropagation()}else Oc(e,r,c,null,a)}}var Po=null;function pc(e,r,a,c){if(Po=null,e=as(c),e=ds(e),e!==null)if(r=De(e),r===null)e=null;else if(a=r.tag,a===13){if(e=it(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Po=e,null}function wh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ea()){case br:return 1;case us:return 4;case Me:case Ut:return 16;case xr:return 536870912;default:return 16}default:return 16}}var _n=null,gc=null,jo=null;function bh(){if(jo)return jo;var e,r=gc,a=r.length,c,h="value"in _n?_n.value:_n.textContent,p=h.length;for(e=0;e<a&&r[e]===h[e];e++);var b=a-e;for(c=1;c<=b&&r[a-c]===h[p-c];c++);return jo=h.slice(e,1<c?1-c:void 0)}function To(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ro(){return!0}function xh(){return!1}function Zt(e){function r(a,c,h,p,b){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ro:xh,this.isPropagationStopped=xh,this}return C(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),r}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=Zt(Js),la=C({},Js,{view:0,detail:0}),Iy=Zt(la),vc,wc,ca,Oo=C({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ca&&(ca&&e.type==="mousemove"?(vc=e.screenX-ca.screenX,wc=e.screenY-ca.screenY):wc=vc=0,ca=e),vc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),_h=Zt(Oo),Uy=C({},Oo,{dataTransfer:0}),Fy=Zt(Uy),By=C({},la,{relatedTarget:0}),bc=Zt(By),qy=C({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Wy=Zt(qy),Hy=C({},Js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vy=Zt(Hy),Ky=C({},Js,{data:0}),kh=Zt(Ky),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Jy[e])?!!r[e]:!1}function xc(){return Yy}var Zy=C({},la,{key:function(e){if(e.key){var r=Qy[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=To(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?To(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?To(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xy=Zt(Zy),ev=C({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=Zt(ev),tv=C({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),rv=Zt(tv),nv=C({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Zt(nv),iv=C({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),av=Zt(iv),ov=[9,13,27,32],_c=f&&"CompositionEvent"in window,ua=null;f&&"documentMode"in document&&(ua=document.documentMode);var lv=f&&"TextEvent"in window&&!ua,Sh=f&&(!_c||ua&&8<ua&&11>=ua),Eh=" ",Ch=!1;function Ph(e,r){switch(e){case"keyup":return ov.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function cv(e,r){switch(e){case"compositionend":return jh(r);case"keypress":return r.which!==32?null:(Ch=!0,Eh);case"textInput":return e=r.data,e===Eh&&Ch?null:e;default:return null}}function uv(e,r){if(Ys)return e==="compositionend"||!_c&&Ph(e,r)?(e=bh(),jo=gc=_n=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Sh&&r.locale!=="ko"?null:r.data;default:return null}}var dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!dv[e.type]:r==="textarea"}function Rh(e,r,a,c){os(c),r=Do(r,"onChange"),0<r.length&&(a=new yc("onChange","change",null,a,c),e.push({event:a,listeners:r}))}var da=null,ha=null;function hv(e){Gh(e,0)}function Lo(e){var r=ri(e);if(Ki(r))return e}function fv(e,r){if(e==="change")return r}var Oh=!1;if(f){var kc;if(f){var Nc="oninput"in document;if(!Nc){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Nc=typeof Lh.oninput=="function"}kc=Nc}else kc=!1;Oh=kc&&(!document.documentMode||9<document.documentMode)}function zh(){da&&(da.detachEvent("onpropertychange",$h),ha=da=null)}function $h(e){if(e.propertyName==="value"&&Lo(ha)){var r=[];Rh(r,ha,e,as(e)),A(hv,r)}}function mv(e,r,a){e==="focusin"?(zh(),da=r,ha=a,da.attachEvent("onpropertychange",$h)):e==="focusout"&&zh()}function pv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lo(ha)}function gv(e,r){if(e==="click")return Lo(r)}function yv(e,r){if(e==="input"||e==="change")return Lo(r)}function vv(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var _r=typeof Object.is=="function"?Object.is:vv;function fa(e,r){if(_r(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!m.call(r,h)||!_r(e[h],r[h]))return!1}return!0}function Ah(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dh(e,r){var a=Ah(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=r&&c>=r)return{node:a,offset:r-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ah(a)}}function Mh(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Mh(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Ih(){for(var e=window,r=qs();r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=qs(e.document)}return r}function Sc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function wv(e){var r=Ih(),a=e.focusedElem,c=e.selectionRange;if(r!==a&&a&&a.ownerDocument&&Mh(a.ownerDocument.documentElement,a)){if(c!==null&&Sc(a)){if(r=c.start,e=c.end,e===void 0&&(e=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(e,a.value.length);else if(e=(r=a.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var h=a.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!e.extend&&p>c&&(h=c,c=p,p=h),h=Dh(a,p);var b=Dh(a,c);h&&b&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),e.removeAllRanges(),p>c?(e.addRange(r),e.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),e.addRange(r)))}}for(r=[],e=a;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)e=r[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bv=f&&"documentMode"in document&&11>=document.documentMode,Zs=null,Ec=null,ma=null,Cc=!1;function Uh(e,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cc||Zs==null||Zs!==qs(c)||(c=Zs,"selectionStart"in c&&Sc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ma&&fa(ma,c)||(ma=c,c=Do(Ec,"onSelect"),0<c.length&&(r=new yc("onSelect","select",null,r,a),e.push({event:r,listeners:c}),r.target=Zs)))}function zo(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Xs={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},Pc={},Fh={};f&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function $o(e){if(Pc[e])return Pc[e];if(!Xs[e])return e;var r=Xs[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Fh)return Pc[e]=r[a];return e}var Bh=$o("animationend"),qh=$o("animationiteration"),Wh=$o("animationstart"),Hh=$o("transitionend"),Vh=new Map,Kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,r){Vh.set(e,r),l(r,[e])}for(var jc=0;jc<Kh.length;jc++){var Tc=Kh[jc],xv=Tc.toLowerCase(),_v=Tc[0].toUpperCase()+Tc.slice(1);kn(xv,"on"+_v)}kn(Bh,"onAnimationEnd"),kn(qh,"onAnimationIteration"),kn(Wh,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Hh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Qh(e,r,a){var c=e.type||"unknown-event";e.currentTarget=a,ke(c,r,void 0,e),e.currentTarget=null}function Gh(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],h=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var b=c.length-1;0<=b;b--){var E=c[b],R=E.instance,I=E.currentTarget;if(E=E.listener,R!==p&&h.isPropagationStopped())break e;Qh(h,E,I),p=R}else for(b=0;b<c.length;b++){if(E=c[b],R=E.instance,I=E.currentTarget,E=E.listener,R!==p&&h.isPropagationStopped())break e;Qh(h,E,I),p=R}}}if(ce)throw e=de,ce=!1,de=null,e}function et(e,r){var a=r[Mc];a===void 0&&(a=r[Mc]=new Set);var c=e+"__bubble";a.has(c)||(Jh(r,e,2,!1),a.add(c))}function Rc(e,r,a){var c=0;r&&(c|=4),Jh(a,e,c,r)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function ga(e){if(!e[Ao]){e[Ao]=!0,i.forEach(function(a){a!=="selectionchange"&&(kv.has(a)||Rc(a,!1,e),Rc(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ao]||(r[Ao]=!0,Rc("selectionchange",!1,r))}}function Jh(e,r,a,c){switch(wh(r)){case 1:var h=Dy;break;case 4:h=My;break;default:h=mc}a=h.bind(null,r,a,e),h=void 0,!V||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function Oc(e,r,a,c,h){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(b===4)for(b=c.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;b=b.return}for(;E!==null;){if(b=ds(E),b===null)return;if(R=b.tag,R===5||R===6){c=p=b;continue e}E=E.parentNode}}c=c.return}A(function(){var I=p,H=as(a),K=[];e:{var W=Vh.get(e);if(W!==void 0){var Z=yc,ie=e;switch(e){case"keypress":if(To(a)===0)break e;case"keydown":case"keyup":Z=Xy;break;case"focusin":ie="focus",Z=bc;break;case"focusout":ie="blur",Z=bc;break;case"beforeblur":case"afterblur":Z=bc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=rv;break;case Bh:case qh:case Wh:Z=Wy;break;case Hh:Z=sv;break;case"scroll":Z=Iy;break;case"wheel":Z=av;break;case"copy":case"cut":case"paste":Z=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Nh}var oe=(r&4)!==0,ct=!oe&&e==="scroll",D=oe?W!==null?W+"Capture":null:W;oe=[];for(var L=I,M;L!==null;){M=L;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,D!==null&&(G=U(L,D),G!=null&&oe.push(ya(L,G,M)))),ct)break;L=L.return}0<oe.length&&(W=new Z(W,ie,null,a,H),K.push({event:W,listeners:oe}))}}if((r&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",W&&a!==Qs&&(ie=a.relatedTarget||a.fromElement)&&(ds(ie)||ie[Kr]))break e;if((Z||W)&&(W=H.window===H?H:(W=H.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(ie=a.relatedTarget||a.toElement,Z=I,ie=ie?ds(ie):null,ie!==null&&(ct=De(ie),ie!==ct||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=I),Z!==ie)){if(oe=_h,G="onMouseLeave",D="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Nh,G="onPointerLeave",D="onPointerEnter",L="pointer"),ct=Z==null?W:ri(Z),M=ie==null?W:ri(ie),W=new oe(G,L+"leave",Z,a,H),W.target=ct,W.relatedTarget=M,G=null,ds(H)===I&&(oe=new oe(D,L+"enter",ie,a,H),oe.target=M,oe.relatedTarget=ct,G=oe),ct=G,Z&&ie)t:{for(oe=Z,D=ie,L=0,M=oe;M;M=ei(M))L++;for(M=0,G=D;G;G=ei(G))M++;for(;0<L-M;)oe=ei(oe),L--;for(;0<M-L;)D=ei(D),M--;for(;L--;){if(oe===D||D!==null&&oe===D.alternate)break t;oe=ei(oe),D=ei(D)}oe=null}else oe=null;Z!==null&&Yh(K,W,Z,oe,!1),ie!==null&&ct!==null&&Yh(K,ct,ie,oe,!0)}}e:{if(W=I?ri(I):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var le=fv;else if(Th(W))if(Oh)le=yv;else{le=pv;var ge=mv}else(Z=W.nodeName)&&Z.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(le=gv);if(le&&(le=le(e,I))){Rh(K,le,a,H);break e}ge&&ge(e,W,I),e==="focusout"&&(ge=W._wrapperState)&&ge.controlled&&W.type==="number"&&Qi(W,"number",W.value)}switch(ge=I?ri(I):window,e){case"focusin":(Th(ge)||ge.contentEditable==="true")&&(Zs=ge,Ec=I,ma=null);break;case"focusout":ma=Ec=Zs=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Uh(K,a,H);break;case"selectionchange":if(bv)break;case"keydown":case"keyup":Uh(K,a,H)}var ye;if(_c)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ys?Ph(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Sh&&a.locale!=="ko"&&(Ys||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ys&&(ye=bh()):(_n=H,gc="value"in _n?_n.value:_n.textContent,Ys=!0)),ge=Do(I,be),0<ge.length&&(be=new kh(be,e,null,a,H),K.push({event:be,listeners:ge}),ye?be.data=ye:(ye=jh(a),ye!==null&&(be.data=ye)))),(ye=lv?cv(e,a):uv(e,a))&&(I=Do(I,"onBeforeInput"),0<I.length&&(H=new kh("onBeforeInput","beforeinput",null,a,H),K.push({event:H,listeners:I}),H.data=ye))}Gh(K,r)})}function ya(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Do(e,r){for(var a=r+"Capture",c=[];e!==null;){var h=e,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=U(e,a),p!=null&&c.unshift(ya(e,p,h)),p=U(e,r),p!=null&&c.push(ya(e,p,h))),e=e.return}return c}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yh(e,r,a,c,h){for(var p=r._reactName,b=[];a!==null&&a!==c;){var E=a,R=E.alternate,I=E.stateNode;if(R!==null&&R===c)break;E.tag===5&&I!==null&&(E=I,h?(R=U(a,p),R!=null&&b.unshift(ya(a,R,E))):h||(R=U(a,p),R!=null&&b.push(ya(a,R,E)))),a=a.return}b.length!==0&&e.push({event:r,listeners:b})}var Nv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function Zh(e){return(typeof e=="string"?e:""+e).replace(Nv,`
`).replace(Sv,"")}function Mo(e,r,a){if(r=Zh(r),Zh(e)!==r&&a)throw Error(s(425))}function Io(){}var Lc=null,zc=null;function $c(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ac=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(e){return Xh.resolve(null).then(e).catch(Pv)}:Ac;function Pv(e){setTimeout(function(){throw e})}function Dc(e,r){var a=r,c=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){e.removeChild(h),oa(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);oa(r)}function Nn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Ar="__reactFiber$"+ti,va="__reactProps$"+ti,Kr="__reactContainer$"+ti,Mc="__reactEvents$"+ti,jv="__reactListeners$"+ti,Tv="__reactHandles$"+ti;function ds(e){var r=e[Ar];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Kr]||a[Ar]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=ef(e);e!==null;){if(a=e[Ar])return a;e=ef(e)}return r}e=a,a=e.parentNode}return null}function wa(e){return e=e[Ar]||e[Kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Uo(e){return e[va]||null}var Ic=[],ni=-1;function Sn(e){return{current:e}}function tt(e){0>ni||(e.current=Ic[ni],Ic[ni]=null,ni--)}function Ye(e,r){ni++,Ic[ni]=e.current,e.current=r}var En={},Et=Sn(En),Bt=Sn(!1),hs=En;function si(e,r){var a=e.type.contextTypes;if(!a)return En;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=r[p];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=h),h}function qt(e){return e=e.childContextTypes,e!=null}function Fo(){tt(Bt),tt(Et)}function tf(e,r,a){if(Et.current!==En)throw Error(s(168));Ye(Et,r),Ye(Bt,a)}function rf(e,r,a){var c=e.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in r))throw Error(s(108,He(e)||"Unknown",h));return C({},a,c)}function Bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,hs=Et.current,Ye(Et,e),Ye(Bt,Bt.current),!0}function nf(e,r,a){var c=e.stateNode;if(!c)throw Error(s(169));a?(e=rf(e,r,hs),c.__reactInternalMemoizedMergedChildContext=e,tt(Bt),tt(Et),Ye(Et,e)):tt(Bt),Ye(Bt,a)}var Qr=null,qo=!1,Uc=!1;function sf(e){Qr===null?Qr=[e]:Qr.push(e)}function Rv(e){qo=!0,sf(e)}function Cn(){if(!Uc&&Qr!==null){Uc=!0;var e=0,r=Ve;try{var a=Qr;for(Ve=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}Qr=null,qo=!1}catch(h){throw Qr!==null&&(Qr=Qr.slice(e+1)),$r(br,Cn),h}finally{Ve=r,Uc=!1}}return null}var ii=[],ai=0,Wo=null,Ho=0,ar=[],or=0,fs=null,Gr=1,Jr="";function ms(e,r){ii[ai++]=Ho,ii[ai++]=Wo,Wo=e,Ho=r}function af(e,r,a){ar[or++]=Gr,ar[or++]=Jr,ar[or++]=fs,fs=e;var c=Gr;e=Jr;var h=32-gt(c)-1;c&=~(1<<h),a+=1;var p=32-gt(r)+h;if(30<p){var b=h-h%5;p=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Gr=1<<32-gt(r)+h|a<<h|c,Jr=p+e}else Gr=1<<p|a<<h|c,Jr=e}function Fc(e){e.return!==null&&(ms(e,1),af(e,1,0))}function Bc(e){for(;e===Wo;)Wo=ii[--ai],ii[ai]=null,Ho=ii[--ai],ii[ai]=null;for(;e===fs;)fs=ar[--or],ar[or]=null,Jr=ar[--or],ar[or]=null,Gr=ar[--or],ar[or]=null}var Xt=null,er=null,rt=!1,kr=null;function of(e,r){var a=dr(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=e,r=e.deletions,r===null?(e.deletions=[a],e.flags|=16):r.push(a)}function lf(e,r){switch(e.tag){case 5:var a=e.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Xt=e,er=Nn(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Xt=e,er=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=fs!==null?{id:Gr,overflow:Jr}:null,e.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=dr(18,null,null,0),a.stateNode=r,a.return=e,e.child=a,Xt=e,er=null,!0):!1;default:return!1}}function qc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wc(e){if(rt){var r=er;if(r){var a=r;if(!lf(e,r)){if(qc(e))throw Error(s(418));r=Nn(a.nextSibling);var c=Xt;r&&lf(e,r)?of(c,a):(e.flags=e.flags&-4097|2,rt=!1,Xt=e)}}else{if(qc(e))throw Error(s(418));e.flags=e.flags&-4097|2,rt=!1,Xt=e}}}function cf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Vo(e){if(e!==Xt)return!1;if(!rt)return cf(e),rt=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!$c(e.type,e.memoizedProps)),r&&(r=er)){if(qc(e))throw uf(),Error(s(418));for(;r;)of(e,r),r=Nn(r.nextSibling)}if(cf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(r===0){er=Nn(e.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}e=e.nextSibling}er=null}}else er=Xt?Nn(e.stateNode.nextSibling):null;return!0}function uf(){for(var e=er;e;)e=Nn(e.nextSibling)}function oi(){er=Xt=null,rt=!1}function Hc(e){kr===null?kr=[e]:kr.push(e)}var Ov=B.ReactCurrentBatchConfig;function Nr(e,r){if(e&&e.defaultProps){r=C({},r),e=e.defaultProps;for(var a in e)r[a]===void 0&&(r[a]=e[a]);return r}return r}var Ko=Sn(null),Qo=null,li=null,Vc=null;function Kc(){Vc=li=Qo=null}function Qc(e){var r=Ko.current;tt(Ko),e._currentValue=r}function Gc(e,r,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),e===a)break;e=e.return}}function ci(e,r){Qo=e,Vc=li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(Wt=!0),e.firstContext=null)}function lr(e){var r=e._currentValue;if(Vc!==e)if(e={context:e,memoizedValue:r,next:null},li===null){if(Qo===null)throw Error(s(308));li=e,Qo.dependencies={lanes:0,firstContext:e}}else li=li.next=e;return r}var ps=null;function Jc(e){ps===null?ps=[e]:ps.push(e)}function df(e,r,a,c){var h=r.interleaved;return h===null?(a.next=a,Jc(r)):(a.next=h.next,h.next=a),r.interleaved=a,Yr(e,c)}function Yr(e,r){e.lanes|=r;var a=e.alternate;for(a!==null&&(a.lanes|=r),a=e,e=e.return;e!==null;)e.childLanes|=r,a=e.alternate,a!==null&&(a.childLanes|=r),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Pn=!1;function Yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function jn(e,r,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ie&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,Yr(e,a)}return h=c.interleaved,h===null?(r.next=r,Jc(c)):(r.next=h.next,h.next=r),c.interleaved=r,Yr(e,a)}function Go(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,dc(e,a)}}function ff(e,r){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?h=p=r:p=p.next=r}else h=p=r;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}function Jo(e,r,a,c){var h=e.updateQueue;Pn=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,I=R.next;R.next=null,b===null?p=I:b.next=I,b=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==b&&(E===null?H.firstBaseUpdate=I:E.next=I,H.lastBaseUpdate=R))}if(p!==null){var K=h.baseState;b=0,H=I=R=null,E=p;do{var W=E.lane,Z=E.eventTime;if((c&W)===W){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ie=e,oe=E;switch(W=r,Z=a,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){K=ie.call(Z,K,W);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,W=typeof ie=="function"?ie.call(Z,K,W):ie,W==null)break e;K=C({},K,W);break e;case 2:Pn=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,W=h.effects,W===null?h.effects=[E]:W.push(E))}else Z={eventTime:Z,lane:W,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(I=H=Z,R=K):H=H.next=Z,b|=W;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;W=E,E=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);if(H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=I,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do b|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);vs|=b,e.lanes=b,e.memoizedState=K}}function mf(e,r,a){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var c=e[r],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(s(191,h));h.call(c)}}}var pf=new n.Component().refs;function Zc(e,r,a,c){r=e.memoizedState,a=a(c,r),a=a==null?r:C({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yo={isMounted:function(e){return(e=e._reactInternals)?De(e)===e:!1},enqueueSetState:function(e,r,a){e=e._reactInternals;var c=Lt(),h=Ln(e),p=Zr(c,h);p.payload=r,a!=null&&(p.callback=a),r=jn(e,p,h),r!==null&&(Cr(r,e,h,c),Go(r,e,h))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var c=Lt(),h=Ln(e),p=Zr(c,h);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=jn(e,p,h),r!==null&&(Cr(r,e,h,c),Go(r,e,h))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Lt(),c=Ln(e),h=Zr(a,c);h.tag=2,r!=null&&(h.callback=r),r=jn(e,h,c),r!==null&&(Cr(r,e,c,a),Go(r,e,c))}};function gf(e,r,a,c,h,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,b):r.prototype&&r.prototype.isPureReactComponent?!fa(a,c)||!fa(h,p):!0}function yf(e,r,a){var c=!1,h=En,p=r.contextType;return typeof p=="object"&&p!==null?p=lr(p):(h=qt(r)?hs:Et.current,c=r.contextTypes,p=(c=c!=null)?si(e,h):En),r=new r(a,p),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Yo,e.stateNode=r,r._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=p),r}function vf(e,r,a,c){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==e&&Yo.enqueueReplaceState(r,r.state,null)}function Xc(e,r,a,c){var h=e.stateNode;h.props=a,h.state=e.memoizedState,h.refs=pf,Yc(e);var p=r.contextType;typeof p=="object"&&p!==null?h.context=lr(p):(p=qt(r)?hs:Et.current,h.context=si(e,p)),h.state=e.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Zc(e,r,p,a),h.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Yo.enqueueReplaceState(h,h.state,null),Jo(e,a,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ba(e,r,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var c=a.stateNode}if(!c)throw Error(s(147,e));var h=c,p=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(b){var E=h.refs;E===pf&&(E=h.refs={}),b===null?delete E[p]:E[p]=b},r._stringRef=p,r)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function Zo(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function wf(e){var r=e._init;return r(e._payload)}function bf(e){function r(D,L){if(e){var M=D.deletions;M===null?(D.deletions=[L],D.flags|=16):M.push(L)}}function a(D,L){if(!e)return null;for(;L!==null;)r(D,L),L=L.sibling;return null}function c(D,L){for(D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(D,L){return D=$n(D,L),D.index=0,D.sibling=null,D}function p(D,L,M){return D.index=M,e?(M=D.alternate,M!==null?(M=M.index,M<L?(D.flags|=2,L):M):(D.flags|=2,L)):(D.flags|=1048576,L)}function b(D){return e&&D.alternate===null&&(D.flags|=2),D}function E(D,L,M,G){return L===null||L.tag!==6?(L=Au(M,D.mode,G),L.return=D,L):(L=h(L,M),L.return=D,L)}function R(D,L,M,G){var le=M.type;return le===ae?H(D,L,M.props.children,G,M.key):L!==null&&(L.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Se&&wf(le)===L.type)?(G=h(L,M.props),G.ref=ba(D,L,M),G.return=D,G):(G=yl(M.type,M.key,M.props,null,D.mode,G),G.ref=ba(D,L,M),G.return=D,G)}function I(D,L,M,G){return L===null||L.tag!==4||L.stateNode.containerInfo!==M.containerInfo||L.stateNode.implementation!==M.implementation?(L=Du(M,D.mode,G),L.return=D,L):(L=h(L,M.children||[]),L.return=D,L)}function H(D,L,M,G,le){return L===null||L.tag!==7?(L=_s(M,D.mode,G,le),L.return=D,L):(L=h(L,M),L.return=D,L)}function K(D,L,M){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Au(""+L,D.mode,M),L.return=D,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return M=yl(L.type,L.key,L.props,null,D.mode,M),M.ref=ba(D,null,L),M.return=D,M;case z:return L=Du(L,D.mode,M),L.return=D,L;case Se:var G=L._init;return K(D,G(L._payload),M)}if(ns(L)||se(L))return L=_s(L,D.mode,M,null),L.return=D,L;Zo(D,L)}return null}function W(D,L,M,G){var le=L!==null?L.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return le!==null?null:E(D,L,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return M.key===le?R(D,L,M,G):null;case z:return M.key===le?I(D,L,M,G):null;case Se:return le=M._init,W(D,L,le(M._payload),G)}if(ns(M)||se(M))return le!==null?null:H(D,L,M,G,null);Zo(D,M)}return null}function Z(D,L,M,G,le){if(typeof G=="string"&&G!==""||typeof G=="number")return D=D.get(M)||null,E(L,D,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return D=D.get(G.key===null?M:G.key)||null,R(L,D,G,le);case z:return D=D.get(G.key===null?M:G.key)||null,I(L,D,G,le);case Se:var ge=G._init;return Z(D,L,M,ge(G._payload),le)}if(ns(G)||se(G))return D=D.get(M)||null,H(L,D,G,le,null);Zo(L,G)}return null}function ie(D,L,M,G){for(var le=null,ge=null,ye=L,be=L=0,wt=null;ye!==null&&be<M.length;be++){ye.index>be?(wt=ye,ye=null):wt=ye.sibling;var Fe=W(D,ye,M[be],G);if(Fe===null){ye===null&&(ye=wt);break}e&&ye&&Fe.alternate===null&&r(D,ye),L=p(Fe,L,be),ge===null?le=Fe:ge.sibling=Fe,ge=Fe,ye=wt}if(be===M.length)return a(D,ye),rt&&ms(D,be),le;if(ye===null){for(;be<M.length;be++)ye=K(D,M[be],G),ye!==null&&(L=p(ye,L,be),ge===null?le=ye:ge.sibling=ye,ge=ye);return rt&&ms(D,be),le}for(ye=c(D,ye);be<M.length;be++)wt=Z(ye,D,be,M[be],G),wt!==null&&(e&&wt.alternate!==null&&ye.delete(wt.key===null?be:wt.key),L=p(wt,L,be),ge===null?le=wt:ge.sibling=wt,ge=wt);return e&&ye.forEach(function(An){return r(D,An)}),rt&&ms(D,be),le}function oe(D,L,M,G){var le=se(M);if(typeof le!="function")throw Error(s(150));if(M=le.call(M),M==null)throw Error(s(151));for(var ge=le=null,ye=L,be=L=0,wt=null,Fe=M.next();ye!==null&&!Fe.done;be++,Fe=M.next()){ye.index>be?(wt=ye,ye=null):wt=ye.sibling;var An=W(D,ye,Fe.value,G);if(An===null){ye===null&&(ye=wt);break}e&&ye&&An.alternate===null&&r(D,ye),L=p(An,L,be),ge===null?le=An:ge.sibling=An,ge=An,ye=wt}if(Fe.done)return a(D,ye),rt&&ms(D,be),le;if(ye===null){for(;!Fe.done;be++,Fe=M.next())Fe=K(D,Fe.value,G),Fe!==null&&(L=p(Fe,L,be),ge===null?le=Fe:ge.sibling=Fe,ge=Fe);return rt&&ms(D,be),le}for(ye=c(D,ye);!Fe.done;be++,Fe=M.next())Fe=Z(ye,D,be,Fe.value,G),Fe!==null&&(e&&Fe.alternate!==null&&ye.delete(Fe.key===null?be:Fe.key),L=p(Fe,L,be),ge===null?le=Fe:ge.sibling=Fe,ge=Fe);return e&&ye.forEach(function(d0){return r(D,d0)}),rt&&ms(D,be),le}function ct(D,L,M,G){if(typeof M=="object"&&M!==null&&M.type===ae&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:e:{for(var le=M.key,ge=L;ge!==null;){if(ge.key===le){if(le=M.type,le===ae){if(ge.tag===7){a(D,ge.sibling),L=h(ge,M.props.children),L.return=D,D=L;break e}}else if(ge.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Se&&wf(le)===ge.type){a(D,ge.sibling),L=h(ge,M.props),L.ref=ba(D,ge,M),L.return=D,D=L;break e}a(D,ge);break}else r(D,ge);ge=ge.sibling}M.type===ae?(L=_s(M.props.children,D.mode,G,M.key),L.return=D,D=L):(G=yl(M.type,M.key,M.props,null,D.mode,G),G.ref=ba(D,L,M),G.return=D,D=G)}return b(D);case z:e:{for(ge=M.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===M.containerInfo&&L.stateNode.implementation===M.implementation){a(D,L.sibling),L=h(L,M.children||[]),L.return=D,D=L;break e}else{a(D,L);break}else r(D,L);L=L.sibling}L=Du(M,D.mode,G),L.return=D,D=L}return b(D);case Se:return ge=M._init,ct(D,L,ge(M._payload),G)}if(ns(M))return ie(D,L,M,G);if(se(M))return oe(D,L,M,G);Zo(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,L!==null&&L.tag===6?(a(D,L.sibling),L=h(L,M),L.return=D,D=L):(a(D,L),L=Au(M,D.mode,G),L.return=D,D=L),b(D)):a(D,L)}return ct}var ui=bf(!0),xf=bf(!1),xa={},Dr=Sn(xa),_a=Sn(xa),ka=Sn(xa);function gs(e){if(e===xa)throw Error(s(174));return e}function eu(e,r){switch(Ye(ka,r),Ye(_a,e),Ye(Dr,xa),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Yt(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Yt(r,e)}tt(Dr),Ye(Dr,r)}function di(){tt(Dr),tt(_a),tt(ka)}function _f(e){gs(ka.current);var r=gs(Dr.current),a=Yt(r,e.type);r!==a&&(Ye(_a,e),Ye(Dr,a))}function tu(e){_a.current===e&&(tt(Dr),tt(_a))}var nt=Sn(0);function Xo(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ru=[];function nu(){for(var e=0;e<ru.length;e++)ru[e]._workInProgressVersionPrimary=null;ru.length=0}var el=B.ReactCurrentDispatcher,su=B.ReactCurrentBatchConfig,ys=0,st=null,ft=null,yt=null,tl=!1,Na=!1,Sa=0,Lv=0;function Ct(){throw Error(s(321))}function iu(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!_r(e[a],r[a]))return!1;return!0}function au(e,r,a,c,h,p){if(ys=p,st=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,el.current=e===null||e.memoizedState===null?Dv:Mv,e=a(c,h),Na){p=0;do{if(Na=!1,Sa=0,25<=p)throw Error(s(301));p+=1,yt=ft=null,r.updateQueue=null,el.current=Iv,e=a(c,h)}while(Na)}if(el.current=sl,r=ft!==null&&ft.next!==null,ys=0,yt=ft=st=null,tl=!1,r)throw Error(s(300));return e}function ou(){var e=Sa!==0;return Sa=0,e}function Mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?st.memoizedState=yt=e:yt=yt.next=e,yt}function cr(){if(ft===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var r=yt===null?st.memoizedState:yt.next;if(r!==null)yt=r,ft=e;else{if(e===null)throw Error(s(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},yt===null?st.memoizedState=yt=e:yt=yt.next=e}return yt}function Ea(e,r){return typeof r=="function"?r(e):r}function lu(e){var r=cr(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=ft,h=c.baseQueue,p=a.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}c.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,c=c.baseState;var E=b=null,R=null,I=p;do{var H=I.lane;if((ys&H)===H)R!==null&&(R=R.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),c=I.hasEagerState?I.eagerState:e(c,I.action);else{var K={lane:H,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};R===null?(E=R=K,b=c):R=R.next=K,st.lanes|=H,vs|=H}I=I.next}while(I!==null&&I!==p);R===null?b=c:R.next=E,_r(c,r.memoizedState)||(Wt=!0),r.memoizedState=c,r.baseState=b,r.baseQueue=R,a.lastRenderedState=c}if(e=a.interleaved,e!==null){h=e;do p=h.lane,st.lanes|=p,vs|=p,h=h.next;while(h!==e)}else h===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function cu(e){var r=cr(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,h=a.pending,p=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do p=e(p,b.action),b=b.next;while(b!==h);_r(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,c]}function kf(){}function Nf(e,r){var a=st,c=cr(),h=r(),p=!_r(c.memoizedState,h);if(p&&(c.memoizedState=h,Wt=!0),c=c.queue,uu(Cf.bind(null,a,c,e),[e]),c.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(a.flags|=2048,Ca(9,Ef.bind(null,a,c,h,r),void 0,null),vt===null)throw Error(s(349));(ys&30)!==0||Sf(a,r,h)}return h}function Sf(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=st.updateQueue,r===null?(r={lastEffect:null,stores:null},st.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Ef(e,r,a,c){r.value=a,r.getSnapshot=c,Pf(r)&&jf(e)}function Cf(e,r,a){return a(function(){Pf(r)&&jf(e)})}function Pf(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!_r(e,a)}catch{return!0}}function jf(e){var r=Yr(e,1);r!==null&&Cr(r,e,1,-1)}function Tf(e){var r=Mr();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},r.queue=e,e=e.dispatch=Av.bind(null,st,e),[r.memoizedState,e]}function Ca(e,r,a,c){return e={tag:e,create:r,destroy:a,deps:c,next:null},r=st.updateQueue,r===null?(r={lastEffect:null,stores:null},st.updateQueue=r,r.lastEffect=e.next=e):(a=r.lastEffect,a===null?r.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,r.lastEffect=e)),e}function Rf(){return cr().memoizedState}function rl(e,r,a,c){var h=Mr();st.flags|=e,h.memoizedState=Ca(1|r,a,void 0,c===void 0?null:c)}function nl(e,r,a,c){var h=cr();c=c===void 0?null:c;var p=void 0;if(ft!==null){var b=ft.memoizedState;if(p=b.destroy,c!==null&&iu(c,b.deps)){h.memoizedState=Ca(r,a,p,c);return}}st.flags|=e,h.memoizedState=Ca(1|r,a,p,c)}function Of(e,r){return rl(8390656,8,e,r)}function uu(e,r){return nl(2048,8,e,r)}function Lf(e,r){return nl(4,2,e,r)}function zf(e,r){return nl(4,4,e,r)}function $f(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Af(e,r,a){return a=a!=null?a.concat([e]):null,nl(4,4,$f.bind(null,r,e),a)}function du(){}function Df(e,r){var a=cr();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&iu(r,c[1])?c[0]:(a.memoizedState=[e,r],e)}function Mf(e,r){var a=cr();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&iu(r,c[1])?c[0]:(e=e(),a.memoizedState=[e,r],e)}function If(e,r,a){return(ys&21)===0?(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=a):(_r(a,r)||(a=uh(),st.lanes|=a,vs|=a,e.baseState=!0),r)}function zv(e,r){var a=Ve;Ve=a!==0&&4>a?a:4,e(!0);var c=su.transition;su.transition={};try{e(!1),r()}finally{Ve=a,su.transition=c}}function Uf(){return cr().memoizedState}function $v(e,r,a){var c=Ln(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ff(e))Bf(r,a);else if(a=df(e,r,a,c),a!==null){var h=Lt();Cr(a,e,c,h),qf(a,r,c)}}function Av(e,r,a){var c=Ln(e),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ff(e))Bf(r,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,E=p(b,a);if(h.hasEagerState=!0,h.eagerState=E,_r(E,b)){var R=r.interleaved;R===null?(h.next=h,Jc(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}a=df(e,r,h,c),a!==null&&(h=Lt(),Cr(a,e,c,h),qf(a,r,c))}}function Ff(e){var r=e.alternate;return e===st||r!==null&&r===st}function Bf(e,r){Na=tl=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function qf(e,r,a){if((a&4194240)!==0){var c=r.lanes;c&=e.pendingLanes,a|=c,r.lanes=a,dc(e,a)}}var sl={readContext:lr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Dv={readContext:lr,useCallback:function(e,r){return Mr().memoizedState=[e,r===void 0?null:r],e},useContext:lr,useEffect:Of,useImperativeHandle:function(e,r,a){return a=a!=null?a.concat([e]):null,rl(4194308,4,$f.bind(null,r,e),a)},useLayoutEffect:function(e,r){return rl(4194308,4,e,r)},useInsertionEffect:function(e,r){return rl(4,2,e,r)},useMemo:function(e,r){var a=Mr();return r=r===void 0?null:r,e=e(),a.memoizedState=[e,r],e},useReducer:function(e,r,a){var c=Mr();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},c.queue=e,e=e.dispatch=$v.bind(null,st,e),[c.memoizedState,e]},useRef:function(e){var r=Mr();return e={current:e},r.memoizedState=e},useState:Tf,useDebugValue:du,useDeferredValue:function(e){return Mr().memoizedState=e},useTransition:function(){var e=Tf(!1),r=e[0];return e=zv.bind(null,e[1]),Mr().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,a){var c=st,h=Mr();if(rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),vt===null)throw Error(s(349));(ys&30)!==0||Sf(c,r,a)}h.memoizedState=a;var p={value:a,getSnapshot:r};return h.queue=p,Of(Cf.bind(null,c,p,e),[e]),c.flags|=2048,Ca(9,Ef.bind(null,c,p,a,r),void 0,null),a},useId:function(){var e=Mr(),r=vt.identifierPrefix;if(rt){var a=Jr,c=Gr;a=(c&~(1<<32-gt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=Sa++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Lv++,r=":"+r+"r"+a.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Mv={readContext:lr,useCallback:Df,useContext:lr,useEffect:uu,useImperativeHandle:Af,useInsertionEffect:Lf,useLayoutEffect:zf,useMemo:Mf,useReducer:lu,useRef:Rf,useState:function(){return lu(Ea)},useDebugValue:du,useDeferredValue:function(e){var r=cr();return If(r,ft.memoizedState,e)},useTransition:function(){var e=lu(Ea)[0],r=cr().memoizedState;return[e,r]},useMutableSource:kf,useSyncExternalStore:Nf,useId:Uf,unstable_isNewReconciler:!1},Iv={readContext:lr,useCallback:Df,useContext:lr,useEffect:uu,useImperativeHandle:Af,useInsertionEffect:Lf,useLayoutEffect:zf,useMemo:Mf,useReducer:cu,useRef:Rf,useState:function(){return cu(Ea)},useDebugValue:du,useDeferredValue:function(e){var r=cr();return ft===null?r.memoizedState=e:If(r,ft.memoizedState,e)},useTransition:function(){var e=cu(Ea)[0],r=cr().memoizedState;return[e,r]},useMutableSource:kf,useSyncExternalStore:Nf,useId:Uf,unstable_isNewReconciler:!1};function hi(e,r){try{var a="",c=r;do a+=qe(c),c=c.return;while(c);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:r,stack:h,digest:null}}function hu(e,r,a){return{value:e,source:null,stack:a??null,digest:r??null}}function fu(e,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Uv=typeof WeakMap=="function"?WeakMap:Map;function Wf(e,r,a){a=Zr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){dl||(dl=!0,Pu=c),fu(e,r)},a}function Hf(e,r,a){a=Zr(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;a.payload=function(){return c(h)},a.callback=function(){fu(e,r)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){fu(e,r),typeof c!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),a}function Vf(e,r,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Uv;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(a)||(h.add(a),e=e0.bind(null,e,r,a),r.then(e,e))}function Kf(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Qf(e,r,a,c,h){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Zr(-1,1),r.tag=2,jn(a,r,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Fv=B.ReactCurrentOwner,Wt=!1;function Ot(e,r,a,c){r.child=e===null?xf(r,null,a,c):ui(r,e.child,a,c)}function Gf(e,r,a,c,h){a=a.render;var p=r.ref;return ci(r,h),c=au(e,r,a,c,p,h),a=ou(),e!==null&&!Wt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,Xr(e,r,h)):(rt&&a&&Fc(r),r.flags|=1,Ot(e,r,c,h),r.child)}function Jf(e,r,a,c,h){if(e===null){var p=a.type;return typeof p=="function"&&!$u(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=p,Yf(e,r,p,c,h)):(e=yl(a.type,null,c,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,(e.lanes&h)===0){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:fa,a(b,c)&&e.ref===r.ref)return Xr(e,r,h)}return r.flags|=1,e=$n(p,c),e.ref=r.ref,e.return=r,r.child=e}function Yf(e,r,a,c,h){if(e!==null){var p=e.memoizedProps;if(fa(p,c)&&e.ref===r.ref)if(Wt=!1,r.pendingProps=c=p,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Wt=!0);else return r.lanes=e.lanes,Xr(e,r,h)}return mu(e,r,a,c,h)}function Zf(e,r,a){var c=r.pendingProps,h=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(mi,tr),tr|=a;else{if((a&1073741824)===0)return e=p!==null?p.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ye(mi,tr),tr|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Ye(mi,tr),tr|=c}else p!==null?(c=p.baseLanes|a,r.memoizedState=null):c=a,Ye(mi,tr),tr|=c;return Ot(e,r,h,a),r.child}function Xf(e,r){var a=r.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function mu(e,r,a,c,h){var p=qt(a)?hs:Et.current;return p=si(r,p),ci(r,h),a=au(e,r,a,c,p,h),c=ou(),e!==null&&!Wt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,Xr(e,r,h)):(rt&&c&&Fc(r),r.flags|=1,Ot(e,r,a,h),r.child)}function em(e,r,a,c,h){if(qt(a)){var p=!0;Bo(r)}else p=!1;if(ci(r,h),r.stateNode===null)al(e,r),yf(r,a,c),Xc(r,a,c,h),c=!0;else if(e===null){var b=r.stateNode,E=r.memoizedProps;b.props=E;var R=b.context,I=a.contextType;typeof I=="object"&&I!==null?I=lr(I):(I=qt(a)?hs:Et.current,I=si(r,I));var H=a.getDerivedStateFromProps,K=typeof H=="function"||typeof b.getSnapshotBeforeUpdate=="function";K||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==c||R!==I)&&vf(r,b,c,I),Pn=!1;var W=r.memoizedState;b.state=W,Jo(r,c,b,h),R=r.memoizedState,E!==c||W!==R||Bt.current||Pn?(typeof H=="function"&&(Zc(r,a,H,c),R=r.memoizedState),(E=Pn||gf(r,a,E,c,W,R,I))?(K||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=R),b.props=c,b.state=R,b.context=I,c=E):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{b=r.stateNode,hf(e,r),E=r.memoizedProps,I=r.type===r.elementType?E:Nr(r.type,E),b.props=I,K=r.pendingProps,W=b.context,R=a.contextType,typeof R=="object"&&R!==null?R=lr(R):(R=qt(a)?hs:Et.current,R=si(r,R));var Z=a.getDerivedStateFromProps;(H=typeof Z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==K||W!==R)&&vf(r,b,c,R),Pn=!1,W=r.memoizedState,b.state=W,Jo(r,c,b,h);var ie=r.memoizedState;E!==K||W!==ie||Bt.current||Pn?(typeof Z=="function"&&(Zc(r,a,Z,c),ie=r.memoizedState),(I=Pn||gf(r,a,I,c,W,ie,R)||!1)?(H||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ie,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ie,R)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ie),b.props=c,b.state=ie,b.context=R,c=I):(typeof b.componentDidUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(r.flags|=1024),c=!1)}return pu(e,r,a,c,p,h)}function pu(e,r,a,c,h,p){Xf(e,r);var b=(r.flags&128)!==0;if(!c&&!b)return h&&nf(r,a,!1),Xr(e,r,p);c=r.stateNode,Fv.current=r;var E=b&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,e!==null&&b?(r.child=ui(r,e.child,null,p),r.child=ui(r,null,E,p)):Ot(e,r,E,p),r.memoizedState=c.state,h&&nf(r,a,!0),r.child}function tm(e){var r=e.stateNode;r.pendingContext?tf(e,r.pendingContext,r.pendingContext!==r.context):r.context&&tf(e,r.context,!1),eu(e,r.containerInfo)}function rm(e,r,a,c,h){return oi(),Hc(h),r.flags|=256,Ot(e,r,a,c),r.child}var gu={dehydrated:null,treeContext:null,retryLane:0};function yu(e){return{baseLanes:e,cachePool:null,transitions:null}}function nm(e,r,a){var c=r.pendingProps,h=nt.current,p=!1,b=(r.flags&128)!==0,E;if((E=b)||(E=e!==null&&e.memoizedState===null?!1:(h&2)!==0),E?(p=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ye(nt,h&1),e===null)return Wc(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(b=c.children,e=c.fallback,p?(c=r.mode,p=r.child,b={mode:"hidden",children:b},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=b):p=vl(b,c,0,null),e=_s(e,c,a,null),p.return=r,e.return=r,p.sibling=e,r.child=p,r.child.memoizedState=yu(a),r.memoizedState=gu,e):vu(r,b));if(h=e.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return Bv(e,r,b,c,E,h,a);if(p){p=c.fallback,b=r.mode,h=e.child,E=h.sibling;var R={mode:"hidden",children:c.children};return(b&1)===0&&r.child!==h?(c=r.child,c.childLanes=0,c.pendingProps=R,r.deletions=null):(c=$n(h,R),c.subtreeFlags=h.subtreeFlags&14680064),E!==null?p=$n(E,p):(p=_s(p,b,a,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,b=e.child.memoizedState,b=b===null?yu(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},p.memoizedState=b,p.childLanes=e.childLanes&~a,r.memoizedState=gu,c}return p=e.child,e=p.sibling,c=$n(p,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,e!==null&&(a=r.deletions,a===null?(r.deletions=[e],r.flags|=16):a.push(e)),r.child=c,r.memoizedState=null,c}function vu(e,r){return r=vl({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function il(e,r,a,c){return c!==null&&Hc(c),ui(r,e.child,null,a),e=vu(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Bv(e,r,a,c,h,p,b){if(a)return r.flags&256?(r.flags&=-257,c=hu(Error(s(422))),il(e,r,b,c)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(p=c.fallback,h=r.mode,c=vl({mode:"visible",children:c.children},h,0,null),p=_s(p,h,b,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,(r.mode&1)!==0&&ui(r,e.child,null,b),r.child.memoizedState=yu(b),r.memoizedState=gu,p);if((r.mode&1)===0)return il(e,r,b,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var E=c.dgst;return c=E,p=Error(s(419)),c=hu(p,c,void 0),il(e,r,b,c)}if(E=(b&e.childLanes)!==0,Wt||E){if(c=vt,c!==null){switch(b&-b){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|b))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Yr(e,h),Cr(c,e,h,-1))}return zu(),c=hu(Error(s(421))),il(e,r,b,c)}return h.data==="$?"?(r.flags|=128,r.child=e.child,r=t0.bind(null,e),h._reactRetry=r,null):(e=p.treeContext,er=Nn(h.nextSibling),Xt=r,rt=!0,kr=null,e!==null&&(ar[or++]=Gr,ar[or++]=Jr,ar[or++]=fs,Gr=e.id,Jr=e.overflow,fs=r),r=vu(r,c.children),r.flags|=4096,r)}function sm(e,r,a){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r),Gc(e.return,r,a)}function wu(e,r,a,c,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=h)}function im(e,r,a){var c=r.pendingProps,h=c.revealOrder,p=c.tail;if(Ot(e,r,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sm(e,a,r);else if(e.tag===19)sm(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Ye(nt,c),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&Xo(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),wu(r,!1,h,a,p);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Xo(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}wu(r,!0,a,null,p);break;case"together":wu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function al(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Xr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),vs|=r.lanes,(a&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=$n(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=$n(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function qv(e,r,a){switch(r.tag){case 3:tm(r),oi();break;case 5:_f(r);break;case 1:qt(r.type)&&Bo(r);break;case 4:eu(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,h=r.memoizedProps.value;Ye(Ko,c._currentValue),c._currentValue=h;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ye(nt,nt.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?nm(e,r,a):(Ye(nt,nt.current&1),e=Xr(e,r,a),e!==null?e.sibling:null);Ye(nt,nt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(e.flags&128)!==0){if(c)return im(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ye(nt,nt.current),c)break;return null;case 22:case 23:return r.lanes=0,Zf(e,r,a)}return Xr(e,r,a)}var am,bu,om,lm;am=function(e,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},bu=function(){},om=function(e,r,a,c){var h=e.memoizedProps;if(h!==c){e=r.stateNode,gs(Dr.current);var p=null;switch(a){case"input":h=yr(e,h),c=yr(e,c),p=[];break;case"select":h=C({},h,{value:void 0}),c=C({},c,{value:void 0}),p=[];break;case"textarea":h=vr(e,h),c=vr(e,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Io)}Ks(a,c);var b;a=null;for(I in h)if(!c.hasOwnProperty(I)&&h.hasOwnProperty(I)&&h[I]!=null)if(I==="style"){var E=h[I];for(b in E)E.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?p||(p=[]):(p=p||[]).push(I,null));for(I in c){var R=c[I];if(E=h!=null?h[I]:void 0,c.hasOwnProperty(I)&&R!==E&&(R!=null||E!=null))if(I==="style")if(E){for(b in E)!E.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in R)R.hasOwnProperty(b)&&E[b]!==R[b]&&(a||(a={}),a[b]=R[b])}else a||(p||(p=[]),p.push(I,a)),a=R;else I==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,E=E?E.__html:void 0,R!=null&&E!==R&&(p=p||[]).push(I,R)):I==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(I,""+R):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(o.hasOwnProperty(I)?(R!=null&&I==="onScroll"&&et("scroll",e),p||E===R||(p=[])):(p=p||[]).push(I,R))}a&&(p=p||[]).push("style",a);var I=p;(r.updateQueue=I)&&(r.flags|=4)}},lm=function(e,r,a,c){a!==c&&(r.flags|=4)};function Pa(e,r){if(!rt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Pt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=a,r}function Wv(e,r,a){var c=r.pendingProps;switch(Bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(r),null;case 1:return qt(r.type)&&Fo(),Pt(r),null;case 3:return c=r.stateNode,di(),tt(Bt),tt(Et),nu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Vo(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kr!==null&&(Ru(kr),kr=null))),bu(e,r),Pt(r),null;case 5:tu(r);var h=gs(ka.current);if(a=r.type,e!==null&&r.stateNode!=null)om(e,r,a,c,h),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(s(166));return Pt(r),null}if(e=gs(Dr.current),Vo(r)){c=r.stateNode,a=r.type;var p=r.memoizedProps;switch(c[Ar]=r,c[va]=p,e=(r.mode&1)!==0,a){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(h=0;h<pa.length;h++)et(pa[h],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":po(c,p),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},et("invalid",c);break;case"textarea":fn(c,p),et("invalid",c)}Ks(a,p),h=null;for(var b in p)if(p.hasOwnProperty(b)){var E=p[b];b==="children"?typeof E=="string"?c.textContent!==E&&(p.suppressHydrationWarning!==!0&&Mo(c.textContent,E,e),h=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(p.suppressHydrationWarning!==!0&&Mo(c.textContent,E,e),h=["children",""+E]):o.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&et("scroll",c)}switch(a){case"input":gr(c),yo(c,p,!0);break;case"textarea":gr(c),Hs(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Io)}c=h,r.updateQueue=c,c!==null&&(r.flags|=4)}else{b=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wr(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=b.createElement(a,{is:c.is}):(e=b.createElement(a),a==="select"&&(b=e,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):e=b.createElementNS(e,a),e[Ar]=r,e[va]=c,am(e,r,!1,!1),r.stateNode=e;e:{switch(b=mn(a,c),a){case"dialog":et("cancel",e),et("close",e),h=c;break;case"iframe":case"object":case"embed":et("load",e),h=c;break;case"video":case"audio":for(h=0;h<pa.length;h++)et(pa[h],e);h=c;break;case"source":et("error",e),h=c;break;case"img":case"image":case"link":et("error",e),et("load",e),h=c;break;case"details":et("toggle",e),h=c;break;case"input":po(e,c),h=yr(e,c),et("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=C({},c,{value:void 0}),et("invalid",e);break;case"textarea":fn(e,c),h=vr(e,c),et("invalid",e);break;default:h=c}Ks(a,h),E=h;for(p in E)if(E.hasOwnProperty(p)){var R=E[p];p==="style"?Yi(e,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Vs(e,R)):p==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&is(e,R):typeof R=="number"&&is(e,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?R!=null&&p==="onScroll"&&et("scroll",e):R!=null&&$(e,p,R,b))}switch(a){case"input":gr(e),yo(e,c,!1);break;case"textarea":gr(e),Hs(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Ue(c.value));break;case"select":e.multiple=!!c.multiple,p=c.value,p!=null?hn(e,!!c.multiple,p,!1):c.defaultValue!=null&&hn(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Io)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pt(r),null;case 6:if(e&&r.stateNode!=null)lm(e,r,e.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(a=gs(ka.current),gs(Dr.current),Vo(r)){if(c=r.stateNode,a=r.memoizedProps,c[Ar]=r,(p=c.nodeValue!==a)&&(e=Xt,e!==null))switch(e.tag){case 3:Mo(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mo(c.nodeValue,a,(e.mode&1)!==0)}p&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Ar]=r,r.stateNode=c}return Pt(r),null;case 13:if(tt(nt),c=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&er!==null&&(r.mode&1)!==0&&(r.flags&128)===0)uf(),oi(),r.flags|=98560,p=!1;else if(p=Vo(r),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ar]=r}else oi(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Pt(r),p=!1}else kr!==null&&(Ru(kr),kr=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(nt.current&1)!==0?mt===0&&(mt=3):zu())),r.updateQueue!==null&&(r.flags|=4),Pt(r),null);case 4:return di(),bu(e,r),e===null&&ga(r.stateNode.containerInfo),Pt(r),null;case 10:return Qc(r.type._context),Pt(r),null;case 17:return qt(r.type)&&Fo(),Pt(r),null;case 19:if(tt(nt),p=r.memoizedState,p===null)return Pt(r),null;if(c=(r.flags&128)!==0,b=p.rendering,b===null)if(c)Pa(p,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(b=Xo(e),b!==null){for(r.flags|=128,Pa(p,!1),c=b.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)p=a,e=c,p.flags&=14680066,b=p.alternate,b===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=b.childLanes,p.lanes=b.lanes,p.child=b.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=b.memoizedProps,p.memoizedState=b.memoizedState,p.updateQueue=b.updateQueue,p.type=b.type,e=b.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ye(nt,nt.current&1|2),r.child}e=e.sibling}p.tail!==null&&Ge()>pi&&(r.flags|=128,c=!0,Pa(p,!1),r.lanes=4194304)}else{if(!c)if(e=Xo(b),e!==null){if(r.flags|=128,c=!0,a=e.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Pa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!rt)return Pt(r),null}else 2*Ge()-p.renderingStartTime>pi&&a!==1073741824&&(r.flags|=128,c=!0,Pa(p,!1),r.lanes=4194304);p.isBackwards?(b.sibling=r.child,r.child=b):(a=p.last,a!==null?a.sibling=b:r.child=b,p.last=b)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ge(),r.sibling=null,a=nt.current,Ye(nt,c?a&1|2:a&1),r):(Pt(r),null);case 22:case 23:return Lu(),c=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(tr&1073741824)!==0&&(Pt(r),r.subtreeFlags&6&&(r.flags|=8192)):Pt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Hv(e,r){switch(Bc(r),r.tag){case 1:return qt(r.type)&&Fo(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return di(),tt(Bt),tt(Et),nu(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return tu(r),null;case 13:if(tt(nt),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));oi()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return tt(nt),null;case 4:return di(),null;case 10:return Qc(r.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var ol=!1,jt=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,ne=null;function fi(e,r){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(e,r,c)}else a.current=null}function xu(e,r,a){try{a()}catch(c){ot(e,r,c)}}var cm=!1;function Kv(e,r){if(Lc=Co,e=Ih(),Sc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var b=0,E=-1,R=-1,I=0,H=0,K=e,W=null;t:for(;;){for(var Z;K!==a||h!==0&&K.nodeType!==3||(E=b+h),K!==p||c!==0&&K.nodeType!==3||(R=b+c),K.nodeType===3&&(b+=K.nodeValue.length),(Z=K.firstChild)!==null;)W=K,K=Z;for(;;){if(K===e)break t;if(W===a&&++I===h&&(E=b),W===p&&++H===c&&(R=b),(Z=K.nextSibling)!==null)break;K=W,W=K.parentNode}K=Z}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(zc={focusedElem:e,selectionRange:a},Co=!1,ne=r;ne!==null;)if(r=ne,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ne=e;else for(;ne!==null;){r=ne;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,ct=ie.memoizedState,D=r.stateNode,L=D.getSnapshotBeforeUpdate(r.elementType===r.type?oe:Nr(r.type,oe),ct);D.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(G){ot(r,r.return,G)}if(e=r.sibling,e!==null){e.return=r.return,ne=e;break}ne=r.return}return ie=cm,cm=!1,ie}function ja(e,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var p=h.destroy;h.destroy=void 0,p!==void 0&&xu(r,a,p)}h=h.next}while(h!==c)}}function ll(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function _u(e){var r=e.ref;if(r!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof r=="function"?r(e):r.current=e}}function um(e){var r=e.alternate;r!==null&&(e.alternate=null,um(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Ar],delete r[va],delete r[Mc],delete r[jv],delete r[Tv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dm(e){return e.tag===5||e.tag===3||e.tag===4}function hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(e,r):a.insertBefore(e,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(e,a)):(r=a,r.appendChild(e)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Io));else if(c!==4&&(e=e.child,e!==null))for(ku(e,r,a),e=e.sibling;e!==null;)ku(e,r,a),e=e.sibling}function Nu(e,r,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Nu(e,r,a),e=e.sibling;e!==null;)Nu(e,r,a),e=e.sibling}var kt=null,Sr=!1;function Tn(e,r,a){for(a=a.child;a!==null;)fm(e,r,a),a=a.sibling}function fm(e,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Vr,a)}catch{}switch(a.tag){case 5:jt||fi(a,r);case 6:var c=kt,h=Sr;kt=null,Tn(e,r,a),kt=c,Sr=h,kt!==null&&(Sr?(e=kt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(Sr?(e=kt,a=a.stateNode,e.nodeType===8?Dc(e.parentNode,a):e.nodeType===1&&Dc(e,a),oa(e)):Dc(kt,a.stateNode));break;case 4:c=kt,h=Sr,kt=a.stateNode.containerInfo,Sr=!0,Tn(e,r,a),kt=c,Sr=h;break;case 0:case 11:case 14:case 15:if(!jt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,b=p.destroy;p=p.tag,b!==void 0&&((p&2)!==0||(p&4)!==0)&&xu(a,r,b),h=h.next}while(h!==c)}Tn(e,r,a);break;case 1:if(!jt&&(fi(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(E){ot(a,r,E)}Tn(e,r,a);break;case 21:Tn(e,r,a);break;case 22:a.mode&1?(jt=(c=jt)||a.memoizedState!==null,Tn(e,r,a),jt=c):Tn(e,r,a);break;default:Tn(e,r,a)}}function mm(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Vv),r.forEach(function(c){var h=r0.bind(null,e,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Er(e,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var p=e,b=r,E=b;e:for(;E!==null;){switch(E.tag){case 5:kt=E.stateNode,Sr=!1;break e;case 3:kt=E.stateNode.containerInfo,Sr=!0;break e;case 4:kt=E.stateNode.containerInfo,Sr=!0;break e}E=E.return}if(kt===null)throw Error(s(160));fm(p,b,h),kt=null,Sr=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(I){ot(h,r,I)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)pm(r,e),r=r.sibling}function pm(e,r){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Er(r,e),Ir(e),c&4){try{ja(3,e,e.return),ll(3,e)}catch(oe){ot(e,e.return,oe)}try{ja(5,e,e.return)}catch(oe){ot(e,e.return,oe)}}break;case 1:Er(r,e),Ir(e),c&512&&a!==null&&fi(a,a.return);break;case 5:if(Er(r,e),Ir(e),c&512&&a!==null&&fi(a,a.return),e.flags&32){var h=e.stateNode;try{is(h,"")}catch(oe){ot(e,e.return,oe)}}if(c&4&&(h=e.stateNode,h!=null)){var p=e.memoizedProps,b=a!==null?a.memoizedProps:p,E=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{E==="input"&&p.type==="radio"&&p.name!=null&&go(h,p),mn(E,b);var I=mn(E,p);for(b=0;b<R.length;b+=2){var H=R[b],K=R[b+1];H==="style"?Yi(h,K):H==="dangerouslySetInnerHTML"?Vs(h,K):H==="children"?is(h,K):$(h,H,K,I)}switch(E){case"input":Ws(h,p);break;case"textarea":Gi(h,p);break;case"select":var W=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?hn(h,!!p.multiple,Z,!1):W!==!!p.multiple&&(p.defaultValue!=null?hn(h,!!p.multiple,p.defaultValue,!0):hn(h,!!p.multiple,p.multiple?[]:"",!1))}h[va]=p}catch(oe){ot(e,e.return,oe)}}break;case 6:if(Er(r,e),Ir(e),c&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,p=e.memoizedProps;try{h.nodeValue=p}catch(oe){ot(e,e.return,oe)}}break;case 3:if(Er(r,e),Ir(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{oa(r.containerInfo)}catch(oe){ot(e,e.return,oe)}break;case 4:Er(r,e),Ir(e);break;case 13:Er(r,e),Ir(e),h=e.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Cu=Ge())),c&4&&mm(e);break;case 22:if(H=a!==null&&a.memoizedState!==null,e.mode&1?(jt=(I=jt)||H,Er(r,e),jt=I):Er(r,e),Ir(e),c&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!H&&(e.mode&1)!==0)for(ne=e,H=e.child;H!==null;){for(K=ne=H;ne!==null;){switch(W=ne,Z=W.child,W.tag){case 0:case 11:case 14:case 15:ja(4,W,W.return);break;case 1:fi(W,W.return);var ie=W.stateNode;if(typeof ie.componentWillUnmount=="function"){c=W,a=W.return;try{r=c,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(oe){ot(c,a,oe)}}break;case 5:fi(W,W.return);break;case 22:if(W.memoizedState!==null){vm(K);continue}}Z!==null?(Z.return=W,ne=Z):vm(K)}H=H.sibling}e:for(H=null,K=e;;){if(K.tag===5){if(H===null){H=K;try{h=K.stateNode,I?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(E=K.stateNode,R=K.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,E.style.display=Ji("display",b))}catch(oe){ot(e,e.return,oe)}}}else if(K.tag===6){if(H===null)try{K.stateNode.nodeValue=I?"":K.memoizedProps}catch(oe){ot(e,e.return,oe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;H===K&&(H=null),K=K.return}H===K&&(H=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Er(r,e),Ir(e),c&4&&mm(e);break;case 21:break;default:Er(r,e),Ir(e)}}function Ir(e){var r=e.flags;if(r&2){try{e:{for(var a=e.return;a!==null;){if(dm(a)){var c=a;break e}a=a.return}throw Error(s(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(is(h,""),c.flags&=-33);var p=hm(e);Nu(e,p,h);break;case 3:case 4:var b=c.stateNode.containerInfo,E=hm(e);ku(e,E,b);break;default:throw Error(s(161))}}catch(R){ot(e,e.return,R)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Qv(e,r,a){ne=e,gm(e)}function gm(e,r,a){for(var c=(e.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&c){var b=h.memoizedState!==null||ol;if(!b){var E=h.alternate,R=E!==null&&E.memoizedState!==null||jt;E=ol;var I=jt;if(ol=b,(jt=R)&&!I)for(ne=h;ne!==null;)b=ne,R=b.child,b.tag===22&&b.memoizedState!==null?wm(h):R!==null?(R.return=b,ne=R):wm(h);for(;p!==null;)ne=p,gm(p),p=p.sibling;ne=h,ol=E,jt=I}ym(e)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ne=p):ym(e)}}function ym(e){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:jt||ll(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!jt)if(a===null)c.componentDidMount();else{var h=r.elementType===r.type?a.memoizedProps:Nr(r.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&mf(r,p,c);break;case 3:var b=r.updateQueue;if(b!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}mf(r,b,a)}break;case 5:var E=r.stateNode;if(a===null&&r.flags&4){a=E;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var I=r.alternate;if(I!==null){var H=I.memoizedState;if(H!==null){var K=H.dehydrated;K!==null&&oa(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}jt||r.flags&512&&_u(r)}catch(W){ot(r,r.return,W)}}if(r===e){ne=null;break}if(a=r.sibling,a!==null){a.return=r.return,ne=a;break}ne=r.return}}function vm(e){for(;ne!==null;){var r=ne;if(r===e){ne=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ne=a;break}ne=r.return}}function wm(e){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{ll(4,r)}catch(R){ot(r,a,R)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var h=r.return;try{c.componentDidMount()}catch(R){ot(r,h,R)}}var p=r.return;try{_u(r)}catch(R){ot(r,p,R)}break;case 5:var b=r.return;try{_u(r)}catch(R){ot(r,b,R)}}}catch(R){ot(r,r.return,R)}if(r===e){ne=null;break}var E=r.sibling;if(E!==null){E.return=r.return,ne=E;break}ne=r.return}}var Gv=Math.ceil,cl=B.ReactCurrentDispatcher,Su=B.ReactCurrentOwner,ur=B.ReactCurrentBatchConfig,Ie=0,vt=null,dt=null,Nt=0,tr=0,mi=Sn(0),mt=0,Ta=null,vs=0,ul=0,Eu=0,Ra=null,Ht=null,Cu=0,pi=1/0,en=null,dl=!1,Pu=null,Rn=null,hl=!1,On=null,fl=0,Oa=0,ju=null,ml=-1,pl=0;function Lt(){return(Ie&6)!==0?Ge():ml!==-1?ml:ml=Ge()}function Ln(e){return(e.mode&1)===0?1:(Ie&2)!==0&&Nt!==0?Nt&-Nt:Ov.transition!==null?(pl===0&&(pl=uh()),pl):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:wh(e.type)),e)}function Cr(e,r,a,c){if(50<Oa)throw Oa=0,ju=null,Error(s(185));ra(e,a,c),((Ie&2)===0||e!==vt)&&(e===vt&&((Ie&2)===0&&(ul|=a),mt===4&&zn(e,Nt)),Vt(e,c),a===1&&Ie===0&&(r.mode&1)===0&&(pi=Ge()+500,qo&&Cn()))}function Vt(e,r){var a=e.callbackNode;Oy(e,r);var c=No(e,e===vt?Nt:0);if(c===0)a!==null&&yn(a),e.callbackNode=null,e.callbackPriority=0;else if(r=c&-c,e.callbackPriority!==r){if(a!=null&&yn(a),r===1)e.tag===0?Rv(xm.bind(null,e)):sf(xm.bind(null,e)),Cv(function(){(Ie&6)===0&&Cn()}),a=null;else{switch(dh(c)){case 1:a=br;break;case 4:a=us;break;case 16:a=Me;break;case 536870912:a=xr;break;default:a=Me}a=jm(a,bm.bind(null,e))}e.callbackPriority=r,e.callbackNode=a}}function bm(e,r){if(ml=-1,pl=0,(Ie&6)!==0)throw Error(s(327));var a=e.callbackNode;if(gi()&&e.callbackNode!==a)return null;var c=No(e,e===vt?Nt:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||r)r=gl(e,c);else{r=c;var h=Ie;Ie|=2;var p=km();(vt!==e||Nt!==r)&&(en=null,pi=Ge()+500,bs(e,r));do try{Zv();break}catch(E){_m(e,E)}while(!0);Kc(),cl.current=p,Ie=h,dt!==null?r=0:(vt=null,Nt=0,r=mt)}if(r!==0){if(r===2&&(h=cc(e),h!==0&&(c=h,r=Tu(e,h))),r===1)throw a=Ta,bs(e,0),zn(e,c),Vt(e,Ge()),a;if(r===6)zn(e,c);else{if(h=e.current.alternate,(c&30)===0&&!Jv(h)&&(r=gl(e,c),r===2&&(p=cc(e),p!==0&&(c=p,r=Tu(e,p))),r===1))throw a=Ta,bs(e,0),zn(e,c),Vt(e,Ge()),a;switch(e.finishedWork=h,e.finishedLanes=c,r){case 0:case 1:throw Error(s(345));case 2:xs(e,Ht,en);break;case 3:if(zn(e,c),(c&130023424)===c&&(r=Cu+500-Ge(),10<r)){if(No(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){Lt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ac(xs.bind(null,e,Ht,en),r);break}xs(e,Ht,en);break;case 4:if(zn(e,c),(c&4194240)===c)break;for(r=e.eventTimes,h=-1;0<c;){var b=31-gt(c);p=1<<b,b=r[b],b>h&&(h=b),c&=~p}if(c=h,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Gv(c/1960))-c,10<c){e.timeoutHandle=Ac(xs.bind(null,e,Ht,en),c);break}xs(e,Ht,en);break;case 5:xs(e,Ht,en);break;default:throw Error(s(329))}}}return Vt(e,Ge()),e.callbackNode===a?bm.bind(null,e):null}function Tu(e,r){var a=Ra;return e.current.memoizedState.isDehydrated&&(bs(e,r).flags|=256),e=gl(e,r),e!==2&&(r=Ht,Ht=a,r!==null&&Ru(r)),e}function Ru(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function Jv(e){for(var r=e;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],p=h.getSnapshot;h=h.value;try{if(!_r(p(),h))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zn(e,r){for(r&=~Eu,r&=~ul,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var a=31-gt(r),c=1<<a;e[a]=-1,r&=~c}}function xm(e){if((Ie&6)!==0)throw Error(s(327));gi();var r=No(e,0);if((r&1)===0)return Vt(e,Ge()),null;var a=gl(e,r);if(e.tag!==0&&a===2){var c=cc(e);c!==0&&(r=c,a=Tu(e,c))}if(a===1)throw a=Ta,bs(e,0),zn(e,r),Vt(e,Ge()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,xs(e,Ht,en),Vt(e,Ge()),null}function Ou(e,r){var a=Ie;Ie|=1;try{return e(r)}finally{Ie=a,Ie===0&&(pi=Ge()+500,qo&&Cn())}}function ws(e){On!==null&&On.tag===0&&(Ie&6)===0&&gi();var r=Ie;Ie|=1;var a=ur.transition,c=Ve;try{if(ur.transition=null,Ve=1,e)return e()}finally{Ve=c,ur.transition=a,Ie=r,(Ie&6)===0&&Cn()}}function Lu(){tr=mi.current,tt(mi)}function bs(e,r){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Ev(a)),dt!==null)for(a=dt.return;a!==null;){var c=a;switch(Bc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Fo();break;case 3:di(),tt(Bt),tt(Et),nu();break;case 5:tu(c);break;case 4:di();break;case 13:tt(nt);break;case 19:tt(nt);break;case 10:Qc(c.type._context);break;case 22:case 23:Lu()}a=a.return}if(vt=e,dt=e=$n(e.current,null),Nt=tr=r,mt=0,Ta=null,Eu=ul=vs=0,Ht=Ra=null,ps!==null){for(r=0;r<ps.length;r++)if(a=ps[r],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,p=a.pending;if(p!==null){var b=p.next;p.next=h,c.next=b}a.pending=c}ps=null}return e}function _m(e,r){do{var a=dt;try{if(Kc(),el.current=sl,tl){for(var c=st.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}tl=!1}if(ys=0,yt=ft=st=null,Na=!1,Sa=0,Su.current=null,a===null||a.return===null){mt=1,Ta=r,dt=null;break}e:{var p=e,b=a.return,E=a,R=r;if(r=Nt,E.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var I=R,H=E,K=H.tag;if((H.mode&1)===0&&(K===0||K===11||K===15)){var W=H.alternate;W?(H.updateQueue=W.updateQueue,H.memoizedState=W.memoizedState,H.lanes=W.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Kf(b);if(Z!==null){Z.flags&=-257,Qf(Z,b,E,p,r),Z.mode&1&&Vf(p,I,r),r=Z,R=I;var ie=r.updateQueue;if(ie===null){var oe=new Set;oe.add(R),r.updateQueue=oe}else ie.add(R);break e}else{if((r&1)===0){Vf(p,I,r),zu();break e}R=Error(s(426))}}else if(rt&&E.mode&1){var ct=Kf(b);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Qf(ct,b,E,p,r),Hc(hi(R,E));break e}}p=R=hi(R,E),mt!==4&&(mt=2),Ra===null?Ra=[p]:Ra.push(p),p=b;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var D=Wf(p,R,r);ff(p,D);break e;case 1:E=R;var L=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Rn===null||!Rn.has(M)))){p.flags|=65536,r&=-r,p.lanes|=r;var G=Hf(p,E,r);ff(p,G);break e}}p=p.return}while(p!==null)}Sm(a)}catch(le){r=le,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function km(){var e=cl.current;return cl.current=sl,e===null?sl:e}function zu(){(mt===0||mt===3||mt===2)&&(mt=4),vt===null||(vs&268435455)===0&&(ul&268435455)===0||zn(vt,Nt)}function gl(e,r){var a=Ie;Ie|=2;var c=km();(vt!==e||Nt!==r)&&(en=null,bs(e,r));do try{Yv();break}catch(h){_m(e,h)}while(!0);if(Kc(),Ie=a,cl.current=c,dt!==null)throw Error(s(261));return vt=null,Nt=0,mt}function Yv(){for(;dt!==null;)Nm(dt)}function Zv(){for(;dt!==null&&!It();)Nm(dt)}function Nm(e){var r=Pm(e.alternate,e,tr);e.memoizedProps=e.pendingProps,r===null?Sm(e):dt=r,Su.current=null}function Sm(e){var r=e;do{var a=r.alternate;if(e=r.return,(r.flags&32768)===0){if(a=Wv(a,r,tr),a!==null){dt=a;return}}else{if(a=Hv(a,r),a!==null){a.flags&=32767,dt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,dt=null;return}}if(r=r.sibling,r!==null){dt=r;return}dt=r=e}while(r!==null);mt===0&&(mt=5)}function xs(e,r,a){var c=Ve,h=ur.transition;try{ur.transition=null,Ve=1,Xv(e,r,a,c)}finally{ur.transition=h,Ve=c}return null}function Xv(e,r,a,c){do gi();while(On!==null);if((Ie&6)!==0)throw Error(s(327));a=e.finishedWork;var h=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var p=a.lanes|a.childLanes;if(Ly(e,p),e===vt&&(dt=vt=null,Nt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||hl||(hl=!0,jm(Me,function(){return gi(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=ur.transition,ur.transition=null;var b=Ve;Ve=1;var E=Ie;Ie|=4,Su.current=null,Kv(e,a),pm(a,e),wv(zc),Co=!!Lc,zc=Lc=null,e.current=a,Qv(a),cs(),Ie=E,Ve=b,ur.transition=p}else e.current=a;if(hl&&(hl=!1,On=e,fl=h),p=e.pendingLanes,p===0&&(Rn=null),at(a.stateNode),Vt(e,Ge()),r!==null)for(c=e.onRecoverableError,a=0;a<r.length;a++)h=r[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(dl)throw dl=!1,e=Pu,Pu=null,e;return(fl&1)!==0&&e.tag!==0&&gi(),p=e.pendingLanes,(p&1)!==0?e===ju?Oa++:(Oa=0,ju=e):Oa=0,Cn(),null}function gi(){if(On!==null){var e=dh(fl),r=ur.transition,a=Ve;try{if(ur.transition=null,Ve=16>e?16:e,On===null)var c=!1;else{if(e=On,On=null,fl=0,(Ie&6)!==0)throw Error(s(331));var h=Ie;for(Ie|=4,ne=e.current;ne!==null;){var p=ne,b=p.child;if((ne.flags&16)!==0){var E=p.deletions;if(E!==null){for(var R=0;R<E.length;R++){var I=E[R];for(ne=I;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:ja(8,H,p)}var K=H.child;if(K!==null)K.return=H,ne=K;else for(;ne!==null;){H=ne;var W=H.sibling,Z=H.return;if(um(H),H===I){ne=null;break}if(W!==null){W.return=Z,ne=W;break}ne=Z}}}var ie=p.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var ct=oe.sibling;oe.sibling=null,oe=ct}while(oe!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&b!==null)b.return=p,ne=b;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:ja(9,p,p.return)}var D=p.sibling;if(D!==null){D.return=p.return,ne=D;break e}ne=p.return}}var L=e.current;for(ne=L;ne!==null;){b=ne;var M=b.child;if((b.subtreeFlags&2064)!==0&&M!==null)M.return=b,ne=M;else e:for(b=L;ne!==null;){if(E=ne,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:ll(9,E)}}catch(le){ot(E,E.return,le)}if(E===b){ne=null;break e}var G=E.sibling;if(G!==null){G.return=E.return,ne=G;break e}ne=E.return}}if(Ie=h,Cn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Vr,e)}catch{}c=!0}return c}finally{Ve=a,ur.transition=r}}return!1}function Em(e,r,a){r=hi(a,r),r=Wf(e,r,1),e=jn(e,r,1),r=Lt(),e!==null&&(ra(e,1,r),Vt(e,r))}function ot(e,r,a){if(e.tag===3)Em(e,e,a);else for(;r!==null;){if(r.tag===3){Em(r,e,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rn===null||!Rn.has(c))){e=hi(a,e),e=Hf(r,e,1),r=jn(r,e,1),e=Lt(),r!==null&&(ra(r,1,e),Vt(r,e));break}}r=r.return}}function e0(e,r,a){var c=e.pingCache;c!==null&&c.delete(r),r=Lt(),e.pingedLanes|=e.suspendedLanes&a,vt===e&&(Nt&a)===a&&(mt===4||mt===3&&(Nt&130023424)===Nt&&500>Ge()-Cu?bs(e,0):Eu|=a),Vt(e,r)}function Cm(e,r){r===0&&((e.mode&1)===0?r=1:(r=ko,ko<<=1,(ko&130023424)===0&&(ko=4194304)));var a=Lt();e=Yr(e,r),e!==null&&(ra(e,r,a),Vt(e,a))}function t0(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Cm(e,a)}function r0(e,r){var a=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(r),Cm(e,a)}var Pm;Pm=function(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps||Bt.current)Wt=!0;else{if((e.lanes&a)===0&&(r.flags&128)===0)return Wt=!1,qv(e,r,a);Wt=(e.flags&131072)!==0}else Wt=!1,rt&&(r.flags&1048576)!==0&&af(r,Ho,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;al(e,r),e=r.pendingProps;var h=si(r,Et.current);ci(r,a),h=au(null,r,c,e,h,a);var p=ou();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(c)?(p=!0,Bo(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Yc(r),h.updater=Yo,r.stateNode=h,h._reactInternals=r,Xc(r,c,e,a),r=pu(null,r,c,!0,p,a)):(r.tag=0,rt&&p&&Fc(r),Ot(null,r,h,a),r=r.child),r;case 16:c=r.elementType;e:{switch(al(e,r),e=r.pendingProps,h=c._init,c=h(c._payload),r.type=c,h=r.tag=s0(c),e=Nr(c,e),h){case 0:r=mu(null,r,c,e,a);break e;case 1:r=em(null,r,c,e,a);break e;case 11:r=Gf(null,r,c,e,a);break e;case 14:r=Jf(null,r,c,Nr(c.type,e),a);break e}throw Error(s(306,c,""))}return r;case 0:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nr(c,h),mu(e,r,c,h,a);case 1:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nr(c,h),em(e,r,c,h,a);case 3:e:{if(tm(r),e===null)throw Error(s(387));c=r.pendingProps,p=r.memoizedState,h=p.element,hf(e,r),Jo(r,c,null,a);var b=r.memoizedState;if(c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=hi(Error(s(423)),r),r=rm(e,r,c,a,h);break e}else if(c!==h){h=hi(Error(s(424)),r),r=rm(e,r,c,a,h);break e}else for(er=Nn(r.stateNode.containerInfo.firstChild),Xt=r,rt=!0,kr=null,a=xf(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(oi(),c===h){r=Xr(e,r,a);break e}Ot(e,r,c,a)}r=r.child}return r;case 5:return _f(r),e===null&&Wc(r),c=r.type,h=r.pendingProps,p=e!==null?e.memoizedProps:null,b=h.children,$c(c,h)?b=null:p!==null&&$c(c,p)&&(r.flags|=32),Xf(e,r),Ot(e,r,b,a),r.child;case 6:return e===null&&Wc(r),null;case 13:return nm(e,r,a);case 4:return eu(r,r.stateNode.containerInfo),c=r.pendingProps,e===null?r.child=ui(r,null,c,a):Ot(e,r,c,a),r.child;case 11:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nr(c,h),Gf(e,r,c,h,a);case 7:return Ot(e,r,r.pendingProps,a),r.child;case 8:return Ot(e,r,r.pendingProps.children,a),r.child;case 12:return Ot(e,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,h=r.pendingProps,p=r.memoizedProps,b=h.value,Ye(Ko,c._currentValue),c._currentValue=b,p!==null)if(_r(p.value,b)){if(p.children===h.children&&!Bt.current){r=Xr(e,r,a);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var E=p.dependencies;if(E!==null){b=p.child;for(var R=E.firstContext;R!==null;){if(R.context===c){if(p.tag===1){R=Zr(-1,a&-a),R.tag=2;var I=p.updateQueue;if(I!==null){I=I.shared;var H=I.pending;H===null?R.next=R:(R.next=H.next,H.next=R),I.pending=R}}p.lanes|=a,R=p.alternate,R!==null&&(R.lanes|=a),Gc(p.return,a,r),E.lanes|=a;break}R=R.next}}else if(p.tag===10)b=p.type===r.type?null:p.child;else if(p.tag===18){if(b=p.return,b===null)throw Error(s(341));b.lanes|=a,E=b.alternate,E!==null&&(E.lanes|=a),Gc(b,a,r),b=p.sibling}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===r){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}Ot(e,r,h.children,a),r=r.child}return r;case 9:return h=r.type,c=r.pendingProps.children,ci(r,a),h=lr(h),c=c(h),r.flags|=1,Ot(e,r,c,a),r.child;case 14:return c=r.type,h=Nr(c,r.pendingProps),h=Nr(c.type,h),Jf(e,r,c,h,a);case 15:return Yf(e,r,r.type,r.pendingProps,a);case 17:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:Nr(c,h),al(e,r),r.tag=1,qt(c)?(e=!0,Bo(r)):e=!1,ci(r,a),yf(r,c,h),Xc(r,c,h,a),pu(null,r,c,!0,e,a);case 19:return im(e,r,a);case 22:return Zf(e,r,a)}throw Error(s(156,r.tag))};function jm(e,r){return $r(e,r)}function n0(e,r,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,r,a,c){return new n0(e,r,a,c)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s0(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xe)return 11;if(e===Be)return 14}return 2}function $n(e,r){var a=e.alternate;return a===null?(a=dr(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function yl(e,r,a,c,h,p){var b=2;if(c=e,typeof e=="function")$u(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case ae:return _s(a.children,h,p,r);case fe:b=8,h|=8;break;case re:return e=dr(12,a,r,h|2),e.elementType=re,e.lanes=p,e;case Je:return e=dr(13,a,r,h),e.elementType=Je,e.lanes=p,e;case Ce:return e=dr(19,a,r,h),e.elementType=Ce,e.lanes=p,e;case je:return vl(a,h,p,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:b=10;break e;case Qe:b=9;break e;case Xe:b=11;break e;case Be:b=14;break e;case Se:b=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=dr(b,a,r,h),r.elementType=e,r.type=c,r.lanes=p,r}function _s(e,r,a,c){return e=dr(7,e,c,r),e.lanes=a,e}function vl(e,r,a,c){return e=dr(22,e,c,r),e.elementType=je,e.lanes=a,e.stateNode={isHidden:!1},e}function Au(e,r,a){return e=dr(6,e,null,r),e.lanes=a,e}function Du(e,r,a){return r=dr(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function i0(e,r,a,c,h){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Mu(e,r,a,c,h,p,b,E,R){return e=new i0(e,r,a,E,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=dr(3,null,null,r),e.current=p,p.stateNode=e,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yc(p),e}function a0(e,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:c==null?null:""+c,children:e,containerInfo:r,implementation:a}}function Tm(e){if(!e)return En;e=e._reactInternals;e:{if(De(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if(qt(a))return rf(e,a,r)}return r}function Rm(e,r,a,c,h,p,b,E,R){return e=Mu(a,c,!0,e,h,p,b,E,R),e.context=Tm(null),a=e.current,c=Lt(),h=Ln(a),p=Zr(c,h),p.callback=r??null,jn(a,p,h),e.current.lanes=h,ra(e,h,c),Vt(e,c),e}function wl(e,r,a,c){var h=r.current,p=Lt(),b=Ln(h);return a=Tm(a),r.context===null?r.context=a:r.pendingContext=a,r=Zr(p,b),r.payload={element:e},c=c===void 0?null:c,c!==null&&(r.callback=c),e=jn(h,r,b),e!==null&&(Cr(e,h,b,p),Go(e,h,b)),b}function bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Om(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Iu(e,r){Om(e,r),(e=e.alternate)&&Om(e,r)}function o0(){return null}var Lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}xl.prototype.render=Uu.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));wl(e,r,null,null)},xl.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ws(function(){wl(null,e,null,null)}),r[Kr]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var r=mh();e={blockedOn:null,target:e,priority:r};for(var a=0;a<xn.length&&r!==0&&r<xn[a].priority;a++);xn.splice(a,0,e),a===0&&yh(e)}};function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zm(){}function l0(e,r,a,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var I=bl(b);p.call(I)}}var b=Rm(r,c,e,0,null,!1,!1,"",zm);return e._reactRootContainer=b,e[Kr]=b.current,ga(e.nodeType===8?e.parentNode:e),ws(),b}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var E=c;c=function(){var I=bl(R);E.call(I)}}var R=Mu(e,0,!1,null,null,!1,!1,"",zm);return e._reactRootContainer=R,e[Kr]=R.current,ga(e.nodeType===8?e.parentNode:e),ws(function(){wl(r,R,a,c)}),R}function kl(e,r,a,c,h){var p=a._reactRootContainer;if(p){var b=p;if(typeof h=="function"){var E=h;h=function(){var R=bl(b);E.call(R)}}wl(r,b,e,h)}else b=l0(a,r,e,h,c);return bl(b)}hh=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var a=ta(r.pendingLanes);a!==0&&(dc(r,a|1),Vt(r,Ge()),(Ie&6)===0&&(pi=Ge()+500,Cn()))}break;case 13:ws(function(){var c=Yr(e,1);if(c!==null){var h=Lt();Cr(c,e,1,h)}}),Iu(e,1)}},hc=function(e){if(e.tag===13){var r=Yr(e,134217728);if(r!==null){var a=Lt();Cr(r,e,134217728,a)}Iu(e,134217728)}},fh=function(e){if(e.tag===13){var r=Ln(e),a=Yr(e,r);if(a!==null){var c=Lt();Cr(a,e,r,c)}Iu(e,r)}},mh=function(){return Ve},ph=function(e,r){var a=Ve;try{return Ve=e,r()}finally{Ve=a}},Zi=function(e,r,a){switch(r){case"input":if(Ws(e,a),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==e&&c.form===e.form){var h=Uo(c);if(!h)throw Error(s(90));Ki(c),Ws(c,h)}}}break;case"textarea":Gi(e,a);break;case"select":r=a.value,r!=null&&hn(e,!!a.multiple,r,!1)}},wo=Ou,bo=ws;var c0={usingClientEntryPoint:!1,Events:[wa,ri,Uo,os,ls,Ou]},La={findFiberByHostInstance:ds,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},u0={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$e(e),e===null?null:e.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Vr=Nl.inject(u0),Ft=Nl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0,Kt.createPortal=function(e,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(r))throw Error(s(200));return a0(e,r,null,a)},Kt.createRoot=function(e,r){if(!Fu(e))throw Error(s(299));var a=!1,c="",h=Lm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Mu(e,1,!1,null,null,a,!1,c,h),e[Kr]=r.current,ga(e.nodeType===8?e.parentNode:e),new Uu(r)},Kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=$e(r),e=e===null?null:e.stateNode,e},Kt.flushSync=function(e){return ws(e)},Kt.hydrate=function(e,r,a){if(!_l(r))throw Error(s(200));return kl(null,e,r,!0,a)},Kt.hydrateRoot=function(e,r,a){if(!Fu(e))throw Error(s(405));var c=a!=null&&a.hydratedSources||null,h=!1,p="",b=Lm;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),r=Rm(r,null,e,1,a??null,h,!1,p,b),e[Kr]=r.current,ga(e),c)for(e=0;e<c.length;e++)a=c[e],h=a._getVersion,h=h(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,h]:r.mutableSourceEagerHydrationData.push(a,h);return new xl(r)},Kt.render=function(e,r,a){if(!_l(r))throw Error(s(200));return kl(null,e,r,!1,a)},Kt.unmountComponentAtNode=function(e){if(!_l(e))throw Error(s(40));return e._reactRootContainer?(ws(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[Kr]=null})}),!0):!1},Kt.unstable_batchedUpdates=Ou,Kt.unstable_renderSubtreeIntoContainer=function(e,r,a,c){if(!_l(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return kl(e,r,a,!1,c)},Kt.version="18.2.0-next-9e3b772b8-20220608",Kt}var Fm;function ug(){if(Fm)return Wu.exports;Fm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Wu.exports=y0(),Wu.exports}var Bm;function v0(){if(Bm)return El;Bm=1;var n=ug();return El.createRoot=n.createRoot,El.hydrateRoot=n.hydrateRoot,El}var w0=v0();const b0="modulepreload",x0=function(n){return"/"+n},qm={},io=function(t,s,i){let o=Promise.resolve();if(s&&s.length>0){let u=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=u(s.map(g=>{if(g=x0(g),g in qm)return;qm[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":b0,y||(x.as="script"),x.crossOrigin="",x.href=g,m&&x.setAttribute("nonce",m),document.head.appendChild(x),y)return new Promise((k,N)=>{x.addEventListener("load",k),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};var Hi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ds=typeof window>"u"||"Deno"in globalThis;function Dt(){}function _0(n,t){return typeof n=="function"?n(t):n}function ad(n){return typeof n=="number"&&n>=0&&n!==1/0}function dg(n,t){return Math.max(n+(t||0)-Date.now(),0)}function Xn(n,t){return typeof n=="function"?n(t):n}function Or(n,t){return typeof n=="function"?n(t):n}function Wm(n,t){const{type:s="all",exact:i,fetchStatus:o,predicate:l,queryKey:u,stale:f}=n;if(u){if(i){if(t.queryHash!==Md(u,t.options))return!1}else if(!Ga(t.queryKey,u))return!1}if(s!=="all"){const m=t.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||l&&!l(t))}function Hm(n,t){const{exact:s,status:i,predicate:o,mutationKey:l}=n;if(l){if(!t.options.mutationKey)return!1;if(s){if(Ms(t.options.mutationKey)!==Ms(l))return!1}else if(!Ga(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function Md(n,t){return((t==null?void 0:t.queryKeyHashFn)||Ms)(n)}function Ms(n){return JSON.stringify(n,(t,s)=>od(s)?Object.keys(s).sort().reduce((i,o)=>(i[o]=s[o],i),{}):s)}function Ga(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(s=>Ga(n[s],t[s])):!1}function hg(n,t){if(n===t)return n;const s=Vm(n)&&Vm(t);if(s||od(n)&&od(t)){const i=s?n:Object.keys(n),o=i.length,l=s?t:Object.keys(t),u=l.length,f=s?[]:{},m=new Set(i);let g=0;for(let y=0;y<u;y++){const v=s?y:l[y];(!s&&m.has(v)||s)&&n[v]===void 0&&t[v]===void 0?(f[v]=void 0,g++):(f[v]=hg(n[v],t[v]),f[v]===n[v]&&n[v]!==void 0&&g++)}return o===u&&g===o?n:f}return t}function Fl(n,t){if(!t||Object.keys(n).length!==Object.keys(t).length)return!1;for(const s in n)if(n[s]!==t[s])return!1;return!0}function Vm(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function od(n){if(!Km(n))return!1;const t=n.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Km(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Km(n){return Object.prototype.toString.call(n)==="[object Object]"}function k0(n){return new Promise(t=>{setTimeout(t,n)})}function ld(n,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(n,t):s.structuralSharing!==!1?hg(n,t):t}function N0(n,t,s=0){const i=[...n,t];return s&&i.length>s?i.slice(1):i}function S0(n,t,s=0){const i=[t,...n];return s&&i.length>s?i.slice(0,-1):i}var Id=Symbol();function fg(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===Id?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function mg(n,t){return typeof n=="function"?n(...t):!!n}var Ps,qn,Ri,Xp,E0=(Xp=class extends Hi{constructor(){super();pe(this,Ps);pe(this,qn);pe(this,Ri);X(this,Ri,t=>{if(!Ds&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){j(this,qn)||this.setEventListener(j(this,Ri))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,qn))==null||t.call(this),X(this,qn,void 0))}setEventListener(t){var s;X(this,Ri,t),(s=j(this,qn))==null||s.call(this),X(this,qn,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){j(this,Ps)!==t&&(X(this,Ps,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof j(this,Ps)=="boolean"?j(this,Ps):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ps=new WeakMap,qn=new WeakMap,Ri=new WeakMap,Xp),Ud=new E0,Oi,Wn,Li,eg,C0=(eg=class extends Hi{constructor(){super();pe(this,Oi,!0);pe(this,Wn);pe(this,Li);X(this,Li,t=>{if(!Ds&&window.addEventListener){const s=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){j(this,Wn)||this.setEventListener(j(this,Li))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,Wn))==null||t.call(this),X(this,Wn,void 0))}setEventListener(t){var s;X(this,Li,t),(s=j(this,Wn))==null||s.call(this),X(this,Wn,t(this.setOnline.bind(this)))}setOnline(t){j(this,Oi)!==t&&(X(this,Oi,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return j(this,Oi)}},Oi=new WeakMap,Wn=new WeakMap,Li=new WeakMap,eg),Bl=new C0;function cd(){let n,t;const s=new Promise((o,l)=>{n=o,t=l});s.status="pending",s.catch(()=>{});function i(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{i({status:"fulfilled",value:o}),n(o)},s.reject=o=>{i({status:"rejected",reason:o}),t(o)},s}function P0(n){return Math.min(1e3*2**n,3e4)}function pg(n){return(n??"online")==="online"?Bl.isOnline():!0}var gg=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Ku(n){return n instanceof gg}function yg(n){let t=!1,s=0,i=!1,o;const l=cd(),u=_=>{var S;i||(x(new gg(_)),(S=n.abort)==null||S.call(n))},f=()=>{t=!0},m=()=>{t=!1},g=()=>Ud.isFocused()&&(n.networkMode==="always"||Bl.isOnline())&&n.canRun(),y=()=>pg(n.networkMode)&&n.canRun(),v=_=>{var S;i||(i=!0,(S=n.onSuccess)==null||S.call(n,_),o==null||o(),l.resolve(_))},x=_=>{var S;i||(i=!0,(S=n.onError)==null||S.call(n,_),o==null||o(),l.reject(_))},k=()=>new Promise(_=>{var S;o=P=>{(i||g())&&_(P)},(S=n.onPause)==null||S.call(n)}).then(()=>{var _;o=void 0,i||(_=n.onContinue)==null||_.call(n)}),N=()=>{if(i)return;let _;const S=s===0?n.initialPromise:void 0;try{_=S??n.fn()}catch(P){_=Promise.reject(P)}Promise.resolve(_).then(v).catch(P=>{var z;if(i)return;const F=n.retry??(Ds?0:3),$=n.retryDelay??P0,B=typeof $=="function"?$(s,P):$,Q=F===!0||typeof F=="number"&&s<F||typeof F=="function"&&F(s,P);if(t||!Q){x(P);return}s++,(z=n.onFail)==null||z.call(n,s,P),k0(B).then(()=>g()?void 0:k()).then(()=>{t?x(P):N()})})};return{promise:l,cancel:u,continue:()=>(o==null||o(),l),cancelRetry:f,continueRetry:m,canStart:y,start:()=>(y()?N():k().then(N),l)}}var j0=n=>setTimeout(n,0);function T0(){let n=[],t=0,s=f=>{f()},i=f=>{f()},o=j0;const l=f=>{t?n.push(f):o(()=>{s(f)})},u=()=>{const f=n;n=[],f.length&&o(()=>{i(()=>{f.forEach(m=>{s(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||u()}return m},batchCalls:f=>(...m)=>{l(()=>{f(...m)})},schedule:l,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var pt=T0(),js,tg,vg=(tg=class{constructor(){pe(this,js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ad(this.gcTime)&&X(this,js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ds?1/0:5*60*1e3))}clearGcTimeout(){j(this,js)&&(clearTimeout(j(this,js)),X(this,js,void 0))}},js=new WeakMap,tg),zi,$i,hr,Ts,Tt,to,Rs,jr,tn,rg,R0=(rg=class extends vg{constructor(t){super();pe(this,jr);pe(this,zi);pe(this,$i);pe(this,hr);pe(this,Ts);pe(this,Tt);pe(this,to);pe(this,Rs);X(this,Rs,!1),X(this,to,t.defaultOptions),this.setOptions(t.options),this.observers=[],X(this,Ts,t.client),X(this,hr,j(this,Ts).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,X(this,zi,O0(this.options)),this.state=t.state??j(this,zi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,Tt))==null?void 0:t.promise}setOptions(t){this.options={...j(this,to),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,hr).remove(this)}setData(t,s){const i=ld(this.state.data,t,this.options);return Ee(this,jr,tn).call(this,{data:i,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),i}setState(t,s){Ee(this,jr,tn).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var i,o;const s=(i=j(this,Tt))==null?void 0:i.promise;return(o=j(this,Tt))==null||o.cancel(t),s?s.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,zi))}isActive(){return this.observers.some(t=>Or(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Id||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!dg(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=j(this,Tt))==null||s.continue()}onOnline(){var s;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=j(this,Tt))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(j(this,Tt)&&(j(this,Rs)?j(this,Tt).cancel({revert:!0}):j(this,Tt).cancelRetry()),this.scheduleGc()),j(this,hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ee(this,jr,tn).call(this,{type:"invalidate"})}fetch(t,s){var g,y,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(j(this,Tt))return j(this,Tt).continueRetry(),j(this,Tt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(k=>k.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,o=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(X(this,Rs,!0),i.signal)})},l=()=>{const x=fg(this.options,s),N=(()=>{const _={client:j(this,Ts),queryKey:this.queryKey,meta:this.meta};return o(_),_})();return X(this,Rs,!1),this.options.persister?this.options.persister(x,N,this):x(N)},f=(()=>{const x={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:j(this,Ts),state:this.state,fetchFn:l};return o(x),x})();(g=this.options.behavior)==null||g.onFetch(f,this),X(this,$i,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=f.fetchOptions)==null?void 0:y.meta))&&Ee(this,jr,tn).call(this,{type:"fetch",meta:(v=f.fetchOptions)==null?void 0:v.meta});const m=x=>{var k,N,_,S;Ku(x)&&x.silent||Ee(this,jr,tn).call(this,{type:"error",error:x}),Ku(x)||((N=(k=j(this,hr).config).onError)==null||N.call(k,x,this),(S=(_=j(this,hr).config).onSettled)==null||S.call(_,this.state.data,x,this)),this.scheduleGc()};return X(this,Tt,yg({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,abort:i.abort.bind(i),onSuccess:x=>{var k,N,_,S;if(x===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(P){m(P);return}(N=(k=j(this,hr).config).onSuccess)==null||N.call(k,x,this),(S=(_=j(this,hr).config).onSettled)==null||S.call(_,x,this.state.error,this),this.scheduleGc()},onError:m,onFail:(x,k)=>{Ee(this,jr,tn).call(this,{type:"failed",failureCount:x,error:k})},onPause:()=>{Ee(this,jr,tn).call(this,{type:"pause"})},onContinue:()=>{Ee(this,jr,tn).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),j(this,Tt).start()}},zi=new WeakMap,$i=new WeakMap,hr=new WeakMap,Ts=new WeakMap,Tt=new WeakMap,to=new WeakMap,Rs=new WeakMap,jr=new WeakSet,tn=function(t){const s=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...wg(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Ku(o)&&o.revert&&j(this,$i)?{...j(this,$i),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=s(this.state),pt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),j(this,hr).notify({query:this,type:"updated",action:t})})},rg);function wg(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pg(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function O0(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,s=t!==void 0,i=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Fr,ng,L0=(ng=class extends Hi{constructor(t={}){super();pe(this,Fr);this.config=t,X(this,Fr,new Map)}build(t,s,i){const o=s.queryKey,l=s.queryHash??Md(o,s);let u=this.get(l);return u||(u=new R0({client:t,queryKey:o,queryHash:l,options:t.defaultQueryOptions(s),state:i,defaultOptions:t.getQueryDefaults(o)}),this.add(u)),u}add(t){j(this,Fr).has(t.queryHash)||(j(this,Fr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=j(this,Fr).get(t.queryHash);s&&(t.destroy(),s===t&&j(this,Fr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,Fr).get(t)}getAll(){return[...j(this,Fr).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(i=>Wm(s,i))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(i=>Wm(t,i)):s}notify(t){pt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){pt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fr=new WeakMap,ng),Br,$t,Os,qr,Dn,sg,z0=(sg=class extends vg{constructor(t){super();pe(this,qr);pe(this,Br);pe(this,$t);pe(this,Os);this.mutationId=t.mutationId,X(this,$t,t.mutationCache),X(this,Br,[]),this.state=t.state||bg(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Br).includes(t)||(j(this,Br).push(t),this.clearGcTimeout(),j(this,$t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){X(this,Br,j(this,Br).filter(s=>s!==t)),this.scheduleGc(),j(this,$t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Br).length||(this.state.status==="pending"?this.scheduleGc():j(this,$t).remove(this))}continue(){var t;return((t=j(this,Os))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,f,m,g,y,v,x,k,N,_,S,P,F,$,B,Q,z,ae,fe;const s=()=>{Ee(this,qr,Dn).call(this,{type:"continue"})};X(this,Os,yg({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(re,we)=>{Ee(this,qr,Dn).call(this,{type:"failed",failureCount:re,error:we})},onPause:()=>{Ee(this,qr,Dn).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,$t).canRun(this)}));const i=this.state.status==="pending",o=!j(this,Os).canStart();try{if(i)s();else{Ee(this,qr,Dn).call(this,{type:"pending",variables:t,isPaused:o}),await((u=(l=j(this,$t).config).onMutate)==null?void 0:u.call(l,t,this));const we=await((m=(f=this.options).onMutate)==null?void 0:m.call(f,t));we!==this.state.context&&Ee(this,qr,Dn).call(this,{type:"pending",context:we,variables:t,isPaused:o})}const re=await j(this,Os).start();return await((y=(g=j(this,$t).config).onSuccess)==null?void 0:y.call(g,re,t,this.state.context,this)),await((x=(v=this.options).onSuccess)==null?void 0:x.call(v,re,t,this.state.context)),await((N=(k=j(this,$t).config).onSettled)==null?void 0:N.call(k,re,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,re,null,t,this.state.context)),Ee(this,qr,Dn).call(this,{type:"success",data:re}),re}catch(re){try{throw await((F=(P=j(this,$t).config).onError)==null?void 0:F.call(P,re,t,this.state.context,this)),await((B=($=this.options).onError)==null?void 0:B.call($,re,t,this.state.context)),await((z=(Q=j(this,$t).config).onSettled)==null?void 0:z.call(Q,void 0,re,this.state.variables,this.state.context,this)),await((fe=(ae=this.options).onSettled)==null?void 0:fe.call(ae,void 0,re,t,this.state.context)),re}finally{Ee(this,qr,Dn).call(this,{type:"error",error:re})}}finally{j(this,$t).runNext(this)}}},Br=new WeakMap,$t=new WeakMap,Os=new WeakMap,qr=new WeakSet,Dn=function(t){const s=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),pt.batch(()=>{j(this,Br).forEach(i=>{i.onMutationUpdate(t)}),j(this,$t).notify({mutation:this,type:"updated",action:t})})},sg);function bg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,Tr,ro,ig,$0=(ig=class extends Hi{constructor(t={}){super();pe(this,sn);pe(this,Tr);pe(this,ro);this.config=t,X(this,sn,new Set),X(this,Tr,new Map),X(this,ro,0)}build(t,s,i){const o=new z0({mutationCache:this,mutationId:++Sl(this,ro)._,options:t.defaultMutationOptions(s),state:i});return this.add(o),o}add(t){j(this,sn).add(t);const s=Cl(t);if(typeof s=="string"){const i=j(this,Tr).get(s);i?i.push(t):j(this,Tr).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(j(this,sn).delete(t)){const s=Cl(t);if(typeof s=="string"){const i=j(this,Tr).get(s);if(i)if(i.length>1){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}else i[0]===t&&j(this,Tr).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Cl(t);if(typeof s=="string"){const i=j(this,Tr).get(s),o=i==null?void 0:i.find(l=>l.state.status==="pending");return!o||o===t}else return!0}runNext(t){var i;const s=Cl(t);if(typeof s=="string"){const o=(i=j(this,Tr).get(s))==null?void 0:i.find(l=>l!==t&&l.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pt.batch(()=>{j(this,sn).forEach(t=>{this.notify({type:"removed",mutation:t})}),j(this,sn).clear(),j(this,Tr).clear()})}getAll(){return Array.from(j(this,sn))}find(t){const s={exact:!0,...t};return this.getAll().find(i=>Hm(s,i))}findAll(t={}){return this.getAll().filter(s=>Hm(t,s))}notify(t){pt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return pt.batch(()=>Promise.all(t.map(s=>s.continue().catch(Dt))))}},sn=new WeakMap,Tr=new WeakMap,ro=new WeakMap,ig);function Cl(n){var t;return(t=n.options.scope)==null?void 0:t.id}function Qm(n){return{onFetch:(t,s)=>{var y,v,x,k,N;const i=t.options,o=(x=(v=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:x.direction,l=((k=t.state.data)==null?void 0:k.pages)||[],u=((N=t.state.data)==null?void 0:N.pageParams)||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let _=!1;const S=$=>{Object.defineProperty($,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},P=fg(t.options,t.fetchOptions),F=async($,B,Q)=>{if(_)return Promise.reject();if(B==null&&$.pages.length)return Promise.resolve($);const ae=(()=>{const Qe={client:t.client,queryKey:t.queryKey,pageParam:B,direction:Q?"backward":"forward",meta:t.options.meta};return S(Qe),Qe})(),fe=await P(ae),{maxPages:re}=t.options,we=Q?S0:N0;return{pages:we($.pages,fe,re),pageParams:we($.pageParams,B,re)}};if(o&&l.length){const $=o==="backward",B=$?A0:Gm,Q={pages:l,pageParams:u},z=B(i,Q);f=await F(Q,z,$)}else{const $=n??l.length;do{const B=m===0?u[0]??i.initialPageParam:Gm(i,f);if(m>0&&B==null)break;f=await F(f,B),m++}while(m<$)}return f};t.options.persister?t.fetchFn=()=>{var _,S;return(S=(_=t.options).persister)==null?void 0:S.call(_,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=g}}}function Gm(n,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?n.getNextPageParam(t[i],t,s[i],s):void 0}function A0(n,{pages:t,pageParams:s}){var i;return t.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,t[0],t,s[0],s):void 0}var lt,Hn,Vn,Ai,Di,Kn,Mi,Ii,ag,D0=(ag=class{constructor(n={}){pe(this,lt);pe(this,Hn);pe(this,Vn);pe(this,Ai);pe(this,Di);pe(this,Kn);pe(this,Mi);pe(this,Ii);X(this,lt,n.queryCache||new L0),X(this,Hn,n.mutationCache||new $0),X(this,Vn,n.defaultOptions||{}),X(this,Ai,new Map),X(this,Di,new Map),X(this,Kn,0)}mount(){Sl(this,Kn)._++,j(this,Kn)===1&&(X(this,Mi,Ud.subscribe(async n=>{n&&(await this.resumePausedMutations(),j(this,lt).onFocus())})),X(this,Ii,Bl.subscribe(async n=>{n&&(await this.resumePausedMutations(),j(this,lt).onOnline())})))}unmount(){var n,t;Sl(this,Kn)._--,j(this,Kn)===0&&((n=j(this,Mi))==null||n.call(this),X(this,Mi,void 0),(t=j(this,Ii))==null||t.call(this),X(this,Ii,void 0))}isFetching(n){return j(this,lt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return j(this,Hn).findAll({...n,status:"pending"}).length}getQueryData(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=j(this,lt).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),s=j(this,lt).build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(Xn(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(n){return j(this,lt).findAll(n).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(n,t,s){const i=this.defaultQueryOptions({queryKey:n}),o=j(this,lt).get(i.queryHash),l=o==null?void 0:o.state.data,u=_0(t,l);if(u!==void 0)return j(this,lt).build(this,i).setData(u,{...s,manual:!0})}setQueriesData(n,t,s){return pt.batch(()=>j(this,lt).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=j(this,lt).get(t.queryHash))==null?void 0:s.state}removeQueries(n){const t=j(this,lt);pt.batch(()=>{t.findAll(n).forEach(s=>{t.remove(s)})})}resetQueries(n,t){const s=j(this,lt);return pt.batch(()=>(s.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const s={revert:!0,...t},i=pt.batch(()=>j(this,lt).findAll(n).map(o=>o.cancel(s)));return Promise.all(i).then(Dt).catch(Dt)}invalidateQueries(n,t={}){return pt.batch(()=>(j(this,lt).findAll(n).forEach(s=>{s.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=pt.batch(()=>j(this,lt).findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,s);return s.throwOnError||(l=l.catch(Dt)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Dt)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const s=j(this,lt).build(this,t);return s.isStaleByTime(Xn(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Dt).catch(Dt)}fetchInfiniteQuery(n){return n.behavior=Qm(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Dt).catch(Dt)}ensureInfiniteQueryData(n){return n.behavior=Qm(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Bl.isOnline()?j(this,Hn).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,lt)}getMutationCache(){return j(this,Hn)}getDefaultOptions(){return j(this,Vn)}setDefaultOptions(n){X(this,Vn,n)}setQueryDefaults(n,t){j(this,Ai).set(Ms(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...j(this,Ai).values()],s={};return t.forEach(i=>{Ga(n,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(n,t){j(this,Di).set(Ms(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...j(this,Di).values()],s={};return t.forEach(i=>{Ga(n,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const t={...j(this,Vn).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=Md(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Id&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...j(this,Vn).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){j(this,lt).clear(),j(this,Hn).clear()}},lt=new WeakMap,Hn=new WeakMap,Vn=new WeakMap,Ai=new WeakMap,Di=new WeakMap,Kn=new WeakMap,Mi=new WeakMap,Ii=new WeakMap,ag),Gt,Ae,no,At,Ls,Ui,Qn,Gn,so,Fi,Bi,zs,$s,Jn,qi,We,Fa,ud,dd,hd,fd,md,pd,gd,xg,og,M0=(og=class extends Hi{constructor(t,s){super();pe(this,We);pe(this,Gt);pe(this,Ae);pe(this,no);pe(this,At);pe(this,Ls);pe(this,Ui);pe(this,Qn);pe(this,Gn);pe(this,so);pe(this,Fi);pe(this,Bi);pe(this,zs);pe(this,$s);pe(this,Jn);pe(this,qi,new Set);this.options=s,X(this,Gt,t),X(this,Gn,null),X(this,Qn,cd()),this.options.experimental_prefetchInRender||j(this,Qn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,Ae).addObserver(this),Jm(j(this,Ae),this.options)?Ee(this,We,Fa).call(this):this.updateResult(),Ee(this,We,fd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yd(j(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yd(j(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ee(this,We,md).call(this),Ee(this,We,pd).call(this),j(this,Ae).removeObserver(this)}setOptions(t){const s=this.options,i=j(this,Ae);if(this.options=j(this,Gt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Or(this.options.enabled,j(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ee(this,We,gd).call(this),j(this,Ae).setOptions(this.options),s._defaulted&&!Fl(this.options,s)&&j(this,Gt).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,Ae),observer:this});const o=this.hasListeners();o&&Ym(j(this,Ae),i,this.options,s)&&Ee(this,We,Fa).call(this),this.updateResult(),o&&(j(this,Ae)!==i||Or(this.options.enabled,j(this,Ae))!==Or(s.enabled,j(this,Ae))||Xn(this.options.staleTime,j(this,Ae))!==Xn(s.staleTime,j(this,Ae)))&&Ee(this,We,ud).call(this);const l=Ee(this,We,dd).call(this);o&&(j(this,Ae)!==i||Or(this.options.enabled,j(this,Ae))!==Or(s.enabled,j(this,Ae))||l!==j(this,Jn))&&Ee(this,We,hd).call(this,l)}getOptimisticResult(t){const s=j(this,Gt).getQueryCache().build(j(this,Gt),t),i=this.createResult(s,t);return U0(this,i)&&(X(this,At,i),X(this,Ui,this.options),X(this,Ls,j(this,Ae).state)),i}getCurrentResult(){return j(this,At)}trackResult(t,s){return new Proxy(t,{get:(i,o)=>(this.trackProp(o),s==null||s(o),Reflect.get(i,o))})}trackProp(t){j(this,qi).add(t)}getCurrentQuery(){return j(this,Ae)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=j(this,Gt).defaultQueryOptions(t),i=j(this,Gt).getQueryCache().build(j(this,Gt),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){return Ee(this,We,Fa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,At)))}createResult(t,s){var re;const i=j(this,Ae),o=this.options,l=j(this,At),u=j(this,Ls),f=j(this,Ui),g=t!==i?t.state:j(this,no),{state:y}=t;let v={...y},x=!1,k;if(s._optimisticResults){const we=this.hasListeners(),Qe=!we&&Jm(t,s),Xe=we&&Ym(t,i,s,o);(Qe||Xe)&&(v={...v,...wg(y.data,t.options)}),s._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:N,errorUpdatedAt:_,status:S}=v;k=v.data;let P=!1;if(s.placeholderData!==void 0&&k===void 0&&S==="pending"){let we;l!=null&&l.isPlaceholderData&&s.placeholderData===(f==null?void 0:f.placeholderData)?(we=l.data,P=!0):we=typeof s.placeholderData=="function"?s.placeholderData((re=j(this,Bi))==null?void 0:re.state.data,j(this,Bi)):s.placeholderData,we!==void 0&&(S="success",k=ld(l==null?void 0:l.data,we,s),x=!0)}if(s.select&&k!==void 0&&!P)if(l&&k===(u==null?void 0:u.data)&&s.select===j(this,so))k=j(this,Fi);else try{X(this,so,s.select),k=s.select(k),k=ld(l==null?void 0:l.data,k,s),X(this,Fi,k),X(this,Gn,null)}catch(we){X(this,Gn,we)}j(this,Gn)&&(N=j(this,Gn),k=j(this,Fi),_=Date.now(),S="error");const F=v.fetchStatus==="fetching",$=S==="pending",B=S==="error",Q=$&&F,z=k!==void 0,fe={status:S,fetchStatus:v.fetchStatus,isPending:$,isSuccess:S==="success",isError:B,isInitialLoading:Q,isLoading:Q,data:k,dataUpdatedAt:v.dataUpdatedAt,error:N,errorUpdatedAt:_,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:F,isRefetching:F&&!$,isLoadingError:B&&!z,isPaused:v.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:B&&z,isStale:Fd(t,s),refetch:this.refetch,promise:j(this,Qn)};if(this.options.experimental_prefetchInRender){const we=Je=>{fe.status==="error"?Je.reject(fe.error):fe.data!==void 0&&Je.resolve(fe.data)},Qe=()=>{const Je=X(this,Qn,fe.promise=cd());we(Je)},Xe=j(this,Qn);switch(Xe.status){case"pending":t.queryHash===i.queryHash&&we(Xe);break;case"fulfilled":(fe.status==="error"||fe.data!==Xe.value)&&Qe();break;case"rejected":(fe.status!=="error"||fe.error!==Xe.reason)&&Qe();break}}return fe}updateResult(){const t=j(this,At),s=this.createResult(j(this,Ae),this.options);if(X(this,Ls,j(this,Ae).state),X(this,Ui,this.options),j(this,Ls).data!==void 0&&X(this,Bi,j(this,Ae)),Fl(s,t))return;X(this,At,s);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!j(this,qi).size)return!0;const u=new Set(l??j(this,qi));return this.options.throwOnError&&u.add("error"),Object.keys(j(this,At)).some(f=>{const m=f;return j(this,At)[m]!==t[m]&&u.has(m)})};Ee(this,We,xg).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ee(this,We,fd).call(this)}},Gt=new WeakMap,Ae=new WeakMap,no=new WeakMap,At=new WeakMap,Ls=new WeakMap,Ui=new WeakMap,Qn=new WeakMap,Gn=new WeakMap,so=new WeakMap,Fi=new WeakMap,Bi=new WeakMap,zs=new WeakMap,$s=new WeakMap,Jn=new WeakMap,qi=new WeakMap,We=new WeakSet,Fa=function(t){Ee(this,We,gd).call(this);let s=j(this,Ae).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Dt)),s},ud=function(){Ee(this,We,md).call(this);const t=Xn(this.options.staleTime,j(this,Ae));if(Ds||j(this,At).isStale||!ad(t))return;const i=dg(j(this,At).dataUpdatedAt,t)+1;X(this,zs,setTimeout(()=>{j(this,At).isStale||this.updateResult()},i))},dd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,Ae)):this.options.refetchInterval)??!1},hd=function(t){Ee(this,We,pd).call(this),X(this,Jn,t),!(Ds||Or(this.options.enabled,j(this,Ae))===!1||!ad(j(this,Jn))||j(this,Jn)===0)&&X(this,$s,setInterval(()=>{(this.options.refetchIntervalInBackground||Ud.isFocused())&&Ee(this,We,Fa).call(this)},j(this,Jn)))},fd=function(){Ee(this,We,ud).call(this),Ee(this,We,hd).call(this,Ee(this,We,dd).call(this))},md=function(){j(this,zs)&&(clearTimeout(j(this,zs)),X(this,zs,void 0))},pd=function(){j(this,$s)&&(clearInterval(j(this,$s)),X(this,$s,void 0))},gd=function(){const t=j(this,Gt).getQueryCache().build(j(this,Gt),this.options);if(t===j(this,Ae))return;const s=j(this,Ae);X(this,Ae,t),X(this,no,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},xg=function(t){pt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(j(this,At))}),j(this,Gt).getQueryCache().notify({query:j(this,Ae),type:"observerResultsUpdated"})})},og);function I0(n,t){return Or(t.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&t.retryOnMount===!1)}function Jm(n,t){return I0(n,t)||n.state.data!==void 0&&yd(n,t,t.refetchOnMount)}function yd(n,t,s){if(Or(t.enabled,n)!==!1&&Xn(t.staleTime,n)!=="static"){const i=typeof s=="function"?s(n):s;return i==="always"||i!==!1&&Fd(n,t)}return!1}function Ym(n,t,s,i){return(n!==t||Or(i.enabled,n)===!1)&&(!s.suspense||n.state.status!=="error")&&Fd(n,s)}function Fd(n,t){return Or(t.enabled,n)!==!1&&n.isStaleByTime(Xn(t.staleTime,n))}function U0(n,t){return!Fl(n.getCurrentResult(),t)}var Yn,Zn,Jt,an,ln,Al,vd,lg,F0=(lg=class extends Hi{constructor(s,i){super();pe(this,ln);pe(this,Yn);pe(this,Zn);pe(this,Jt);pe(this,an);X(this,Yn,s),this.setOptions(i),this.bindMethods(),Ee(this,ln,Al).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var o;const i=this.options;this.options=j(this,Yn).defaultMutationOptions(s),Fl(this.options,i)||j(this,Yn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,Jt),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Ms(i.mutationKey)!==Ms(this.options.mutationKey)?this.reset():((o=j(this,Jt))==null?void 0:o.state.status)==="pending"&&j(this,Jt).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=j(this,Jt))==null||s.removeObserver(this)}onMutationUpdate(s){Ee(this,ln,Al).call(this),Ee(this,ln,vd).call(this,s)}getCurrentResult(){return j(this,Zn)}reset(){var s;(s=j(this,Jt))==null||s.removeObserver(this),X(this,Jt,void 0),Ee(this,ln,Al).call(this),Ee(this,ln,vd).call(this)}mutate(s,i){var o;return X(this,an,i),(o=j(this,Jt))==null||o.removeObserver(this),X(this,Jt,j(this,Yn).getMutationCache().build(j(this,Yn),this.options)),j(this,Jt).addObserver(this),j(this,Jt).execute(s)}},Yn=new WeakMap,Zn=new WeakMap,Jt=new WeakMap,an=new WeakMap,ln=new WeakSet,Al=function(){var i;const s=((i=j(this,Jt))==null?void 0:i.state)??bg();X(this,Zn,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},vd=function(s){pt.batch(()=>{var i,o,l,u,f,m,g,y;if(j(this,an)&&this.hasListeners()){const v=j(this,Zn).variables,x=j(this,Zn).context;(s==null?void 0:s.type)==="success"?((o=(i=j(this,an)).onSuccess)==null||o.call(i,s.data,v,x),(u=(l=j(this,an)).onSettled)==null||u.call(l,s.data,null,v,x)):(s==null?void 0:s.type)==="error"&&((m=(f=j(this,an)).onError)==null||m.call(f,s.error,v,x),(y=(g=j(this,an)).onSettled)==null||y.call(g,void 0,s.error,v,x))}this.listeners.forEach(v=>{v(j(this,Zn))})})},lg),Qu={exports:{}},za={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function B0(){if(Zm)return za;Zm=1;var n=Dd(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,m,g){var y,v={},x=null,k=null;g!==void 0&&(x=""+g),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(k=m.ref);for(y in m)i.call(m,y)&&!l.hasOwnProperty(y)&&(v[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)v[y]===void 0&&(v[y]=m[y]);return{$$typeof:t,type:f,key:x,ref:k,props:v,_owner:o.current}}return za.Fragment=s,za.jsx=u,za.jsxs=u,za}var Xm;function q0(){return Xm||(Xm=1,Qu.exports=B0()),Qu.exports}var Bd=q0();const d=Bd.jsx,w=Bd.jsxs,sr=Bd.Fragment;var _g=O.createContext(void 0),ao=n=>{const t=O.useContext(_g);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},W0=({client:n,children:t})=>(O.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d(_g.Provider,{value:n,children:t})),kg=O.createContext(!1),H0=()=>O.useContext(kg);kg.Provider;function V0(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var K0=O.createContext(V0()),Q0=()=>O.useContext(K0),G0=(n,t)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(t.isReset()||(n.retryOnMount=!1))},J0=n=>{O.useEffect(()=>{n.clearReset()},[n])},Y0=({result:n,errorResetBoundary:t,throwOnError:s,query:i,suspense:o})=>n.isError&&!t.isReset()&&!n.isFetching&&i&&(o&&n.data===void 0||mg(s,[n.error,i])),Z0=n=>{if(n.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),s=n.staleTime;n.staleTime=typeof s=="function"?(...i)=>t(s(...i)):t(s),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},X0=(n,t)=>n.isLoading&&n.isFetching&&!t,ew=(n,t)=>(n==null?void 0:n.suspense)&&t.isPending,ep=(n,t,s)=>t.fetchOptimistic(n).catch(()=>{s.clearReset()});function tw(n,t,s){var v,x,k,N,_;const i=H0(),o=Q0(),l=ao(),u=l.defaultQueryOptions(n);(x=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||x.call(v,u),u._optimisticResults=i?"isRestoring":"optimistic",Z0(u),G0(u,o),J0(o);const f=!l.getQueryCache().get(u.queryHash),[m]=O.useState(()=>new t(l,u)),g=m.getOptimisticResult(u),y=!i&&n.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(S=>{const P=y?m.subscribe(pt.batchCalls(S)):Dt;return m.updateResult(),P},[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),O.useEffect(()=>{m.setOptions(u)},[u,m]),ew(u,g))throw ep(u,m,o);if(Y0({result:g,errorResetBoundary:o,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw g.error;if((N=(k=l.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||N.call(k,u,g),u.experimental_prefetchInRender&&!Ds&&X0(g,i)){const S=f?ep(u,m,o):(_=l.getQueryCache().get(u.queryHash))==null?void 0:_.promise;S==null||S.catch(Dt).finally(()=>{m.updateResult()})}return u.notifyOnChangeProps?g:m.trackResult(g)}function rw(n,t){return tw(n,M0)}function qd(n,t){const s=ao(),[i]=O.useState(()=>new F0(s,n));O.useEffect(()=>{i.setOptions(n)},[i,n]);const o=O.useSyncExternalStore(O.useCallback(u=>i.subscribe(pt.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=O.useCallback((u,f)=>{i.mutate(u,f).catch(Dt)},[i]);if(o.error&&mg(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}var $a={},tp;function nw(){if(tp)return $a;tp=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.parse=u,$a.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,k){const N=new l,_=x.length;if(_<2)return N;const S=(k==null?void 0:k.decode)||y;let P=0;do{const F=x.indexOf("=",P);if(F===-1)break;const $=x.indexOf(";",P),B=$===-1?_:$;if(F>B){P=x.lastIndexOf(";",F-1)+1;continue}const Q=f(x,P,F),z=m(x,F,Q),ae=x.slice(Q,z);if(N[ae]===void 0){let fe=f(x,F+1,B),re=m(x,B,fe);const we=S(x.slice(fe,re));N[ae]=we}P=B+1}while(P<_);return N}function f(x,k,N){do{const _=x.charCodeAt(k);if(_!==32&&_!==9)return k}while(++k<N);return N}function m(x,k,N){for(;k>N;){const _=x.charCodeAt(--k);if(_!==32&&_!==9)return k+1}return N}function g(x,k,N){const _=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=_(k);if(!t.test(S))throw new TypeError(`argument val is invalid: ${k}`);let P=x+"="+S;if(!N)return P;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);P+="; Max-Age="+N.maxAge}if(N.domain){if(!s.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);P+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);P+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);P+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(P+="; HttpOnly"),N.secure&&(P+="; Secure"),N.partitioned&&(P+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return P}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return o.call(x)==="[object Date]"}return $a}nw();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ng=n=>{throw TypeError(n)},sw=(n,t,s)=>t.has(n)||Ng("Cannot "+s),Gu=(n,t,s)=>(sw(n,t,"read from private field"),s?s.call(n):t.get(n)),iw=(n,t,s)=>t.has(n)?Ng("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,s),rp="popstate";function aw(n={}){function t(i,o){let{pathname:l,search:u,hash:f}=i.location;return Ja("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){return typeof o=="string"?o:es(o)}return lw(t,s,null,n)}function Te(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ut(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ow(){return Math.random().toString(36).substring(2,10)}function np(n,t){return{usr:n.state,key:n.key,idx:t}}function Ja(n,t,s=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ts(t):t,state:s,key:t&&t.key||i||ow()}}function es({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function ts(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function lw(n,t,s,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,f="POP",m=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){f="POP";let S=y(),P=S==null?null:S-g;g=S,m&&m({action:f,location:_.location,delta:P})}function x(S,P){f="PUSH";let F=Ja(_.location,S,P);g=y()+1;let $=np(F,g),B=_.createHref(F);try{u.pushState($,"",B)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(B)}l&&m&&m({action:f,location:_.location,delta:1})}function k(S,P){f="REPLACE";let F=Ja(_.location,S,P);g=y();let $=np(F,g),B=_.createHref(F);u.replaceState($,"",B),l&&m&&m({action:f,location:_.location,delta:0})}function N(S){return Sg(S)}let _={get action(){return f},get location(){return n(o,u)},listen(S){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(rp,v),m=S,()=>{o.removeEventListener(rp,v),m=null}},createHref(S){return t(o,S)},createURL:N,encodeLocation(S){let P=N(S);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:k,go(S){return u.go(S)}};return _}function Sg(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Te(s,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:es(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=s+i),new URL(i,s)}var Ba,sp=class{constructor(n){if(iw(this,Ba,new Map),n)for(let[t,s]of n)this.set(t,s)}get(n){if(Gu(this,Ba).has(n))return Gu(this,Ba).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,t){Gu(this,Ba).set(n,t)}};Ba=new WeakMap;var cw=new Set(["lazy","caseSensitive","path","id","index","children"]);function uw(n){return cw.has(n)}var dw=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function hw(n){return dw.has(n)}function fw(n){return n.index===!0}function ql(n,t,s=[],i={}){return n.map((o,l)=>{let u=[...s,String(l)],f=typeof o.id=="string"?o.id:u.join("-");if(Te(o.index!==!0||!o.children,"Cannot specify children on an index route"),Te(!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),fw(o)){let m={...o,...t(o),id:f};return i[f]=m,m}else{let m={...o,...t(o),id:f,children:void 0};return i[f]=m,o.children&&(m.children=ql(o.children,t,u,i)),m}})}function Fn(n,t,s="/"){return Dl(n,t,s,!1)}function Dl(n,t,s,i){let o=typeof t=="string"?ts(t):t,l=mr(o.pathname||"/",s);if(l==null)return null;let u=Eg(n);pw(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let g=Ew(l);f=Nw(u[m],g,i)}return f}function mw(n,t){let{route:s,pathname:i,params:o}=n;return{id:s.id,pathname:i,params:o,data:t[s.id],handle:s.handle}}function Eg(n,t=[],s=[],i=""){let o=(l,u,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(Te(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=Wr([i,m.relativePath]),y=s.concat(m);l.children&&l.children.length>0&&(Te(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Eg(l.children,t,y,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:_w(g,l.index),routesMeta:y})};return n.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let m of Cg(l.path))o(l,u,m)}),t}function Cg(n){let t=n.split("/");if(t.length===0)return[];let[s,...i]=t,o=s.endsWith("?"),l=s.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=Cg(i.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...u),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function pw(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:kw(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var gw=/^:[\w-]+$/,yw=3,vw=2,ww=1,bw=10,xw=-2,ip=n=>n==="*";function _w(n,t){let s=n.split("/"),i=s.length;return s.some(ip)&&(i+=xw),t&&(i+=vw),s.filter(o=>!ip(o)).reduce((o,l)=>o+(gw.test(l)?yw:l===""?ww:bw),i)}function kw(n,t){return n.length===t.length&&n.slice(0,-1).every((i,o)=>i===t[o])?n[n.length-1]-t[t.length-1]:0}function Nw(n,t,s=!1){let{routesMeta:i}=n,o={},l="/",u=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=Wl({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),x=m.route;if(!v&&g&&s&&!i[i.length-1].route.index&&(v=Wl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Wr([l,v.pathname]),pathnameBase:jw(Wr([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Wr([l,v.pathnameBase]))}return u}function Wl(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,i]=Sw(n.path,n.caseSensitive,n.end),o=t.match(s);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let N=f[x]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const k=f[x];return v&&!k?g[y]=void 0:g[y]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:n}}function Sw(n,t=!1,s=!0){ut(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function Ew(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ut(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function mr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=n.charAt(s);return i&&i!=="/"?null:n.slice(s)||"/"}function Cw(n,t="/"){let{pathname:s,search:i="",hash:o=""}=typeof n=="string"?ts(n):n;return{pathname:s?s.startsWith("/")?s:Pw(s,t):t,search:Tw(i),hash:Rw(o)}}function Pw(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Ju(n,t,s,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pg(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Yl(n){let t=Pg(n);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function Zl(n,t,s,i=!1){let o;typeof n=="string"?o=ts(n):(o={...n},Te(!o.pathname||!o.pathname.includes("?"),Ju("?","pathname","search",o)),Te(!o.pathname||!o.pathname.includes("#"),Ju("#","pathname","hash",o)),Te(!o.search||!o.search.includes("#"),Ju("#","search","hash",o)));let l=n===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=s;else{let v=t.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}f=v>=0?t[v]:"/"}let m=Cw(o,f),g=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Wr=n=>n.join("/").replace(/\/\/+/g,"/"),jw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Rw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Hl=class{constructor(n,t,s,i=!1){this.status=n,this.statusText=t||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Ya(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jg=["POST","PUT","PATCH","DELETE"],Ow=new Set(jg),Lw=["GET",...jg],zw=new Set(Lw),$w=new Set([301,302,303,307,308]),Aw=new Set([307,308]),Yu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Aa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mw=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Tg="remix-router-transitions",Rg=Symbol("ResetLoaderData");function Iw(n){const t=n.window?n.window:typeof window<"u"?window:void 0,s=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Te(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],o=n.mapRouteProperties||Mw,l={},u=ql(n.routes,o,void 0,l),f,m=n.basename||"/",g=n.dataStrategy||Ww,y={unstable_middleware:!1,...n.future},v=null,x=new Set,k=null,N=null,_=null,S=n.hydrationData!=null,P=Fn(u,n.history.location,m),F=!1,$=null,B;if(P==null&&!n.patchRoutesOnNavigation){let T=fr(404,{pathname:n.history.location.pathname}),{matches:A,route:U}=yp(u);B=!0,P=A,$={[U.id]:T}}else if(P&&!n.hydrationData&&os(P,u,n.history.location.pathname).active&&(P=null),P)if(P.some(T=>T.route.lazy))B=!1;else if(!P.some(T=>T.route.loader))B=!0;else{let T=n.hydrationData?n.hydrationData.loaderData:null,A=n.hydrationData?n.hydrationData.errors:null;if(A){let U=P.findIndex(V=>A[V.route.id]!==void 0);B=P.slice(0,U+1).every(V=>!bd(V.route,T,A))}else B=P.every(U=>!bd(U.route,T,A))}else{B=!1,P=[];let T=os(null,u,n.history.location.pathname);T.active&&T.matches&&(F=!0,P=T.matches)}let Q,z={historyAction:n.history.action,location:n.history.location,matches:P,initialized:B,navigation:Yu,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||$,fetchers:new Map,blockers:new Map},ae="POP",fe=!1,re,we=!1,Qe=new Map,Xe=null,Je=!1,Ce=!1,Be=new Set,Se=new Map,je=0,J=-1,se=new Map,C=new Set,q=new Map,te=new Map,ve=new Set,xe=new Map,qe,Pe=null;function He(){if(v=n.history.listen(({action:T,location:A,delta:U})=>{if(qe){qe(),qe=void 0;return}ut(xe.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=Qs({currentLocation:z.location,nextLocation:A,historyAction:T});if(V&&U!=null){let Y=new Promise(ue=>{qe=ue});n.history.go(U*-1),mn(V,{state:"blocked",location:A,proceed(){mn(V,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),Y.then(()=>n.history.go(U))},reset(){let ue=new Map(z.blockers);ue.set(V,Aa),_t({blockers:ue})}});return}return yr(T,A)}),s){tb(t,Qe);let T=()=>rb(t,Qe);t.addEventListener("pagehide",T),Xe=()=>t.removeEventListener("pagehide",T)}return z.initialized||yr("POP",z.location,{initialHydration:!0}),Q}function Ue(){v&&v(),Xe&&Xe(),x.clear(),re&&re.abort(),z.fetchers.forEach((T,A)=>Vs(A)),z.blockers.forEach((T,A)=>Ks(A))}function St(T){return x.add(T),()=>x.delete(T)}function _t(T,A={}){z={...z,...T};let U=[],V=[];z.fetchers.forEach((Y,ue)=>{Y.state==="idle"&&(ve.has(ue)?U.push(ue):V.push(ue))}),ve.forEach(Y=>{!z.fetchers.has(Y)&&!Se.has(Y)&&U.push(Y)}),[...x].forEach(Y=>Y(z,{deletedFetchers:U,viewTransitionOpts:A.viewTransitionOpts,flushSync:A.flushSync===!0})),U.forEach(Y=>Vs(Y)),V.forEach(Y=>z.fetchers.delete(Y))}function gr(T,A,{flushSync:U}={}){var de,_e;let V=z.actionData!=null&&z.navigation.formMethod!=null&&nr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((de=T.state)==null?void 0:de._isRedirect)!==!0,Y;A.actionData?Object.keys(A.actionData).length>0?Y=A.actionData:Y=null:V?Y=z.actionData:Y=null;let ue=A.loaderData?pp(z.loaderData,A.loaderData,A.matches||[],A.errors):z.loaderData,me=z.blockers;me.size>0&&(me=new Map(me),me.forEach((he,ke)=>me.set(ke,Aa)));let ee=fe===!0||z.navigation.formMethod!=null&&nr(z.navigation.formMethod)&&((_e=T.state)==null?void 0:_e._isRedirect)!==!0;f&&(u=f,f=void 0),Je||ae==="POP"||(ae==="PUSH"?n.history.push(T,T.state):ae==="REPLACE"&&n.history.replace(T,T.state));let ce;if(ae==="POP"){let he=Qe.get(z.location.pathname);he&&he.has(T.pathname)?ce={currentLocation:z.location,nextLocation:T}:Qe.has(T.pathname)&&(ce={currentLocation:T,nextLocation:z.location})}else if(we){let he=Qe.get(z.location.pathname);he?he.add(T.pathname):(he=new Set([T.pathname]),Qe.set(z.location.pathname,he)),ce={currentLocation:z.location,nextLocation:T}}_t({...A,actionData:Y,loaderData:ue,historyAction:ae,location:T,initialized:!0,navigation:Yu,revalidation:"idle",restoreScrollPosition:Xi(T,A.matches||z.matches),preventScrollReset:ee,blockers:me},{viewTransitionOpts:ce,flushSync:U===!0}),ae="POP",fe=!1,we=!1,Je=!1,Ce=!1,Pe==null||Pe.resolve(),Pe=null}async function Ki(T,A){if(typeof T=="number"){n.history.go(T);return}let U=wd(z.location,z.matches,m,T,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:V,submission:Y,error:ue}=ap(!1,U,A),me=z.location,ee=Ja(z.location,V,A&&A.state);ee={...ee,...n.history.encodeLocation(ee)};let ce=A&&A.replace!=null?A.replace:void 0,de="PUSH";ce===!0?de="REPLACE":ce===!1||Y!=null&&nr(Y.formMethod)&&Y.formAction===z.location.pathname+z.location.search&&(de="REPLACE");let _e=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,he=(A&&A.flushSync)===!0,ke=Qs({currentLocation:me,nextLocation:ee,historyAction:de});if(ke){mn(ke,{state:"blocked",location:ee,proceed(){mn(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Ki(T,A)},reset(){let De=new Map(z.blockers);De.set(ke,Aa),_t({blockers:De})}});return}await yr(de,ee,{submission:Y,pendingError:ue,preventScrollReset:_e,replace:A&&A.replace,enableViewTransition:A&&A.viewTransition,flushSync:he})}function qs(){Pe||(Pe=nb()),Hs(),_t({revalidation:"loading"});let T=Pe.promise;return z.navigation.state==="submitting"?T:z.navigation.state==="idle"?(yr(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),T):(yr(ae||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:we===!0}),T)}async function yr(T,A,U){re&&re.abort(),re=null,ae=T,Je=(U&&U.startUninterruptedRevalidation)===!0,pn(z.location,z.matches),fe=(U&&U.preventScrollReset)===!0,we=(U&&U.enableViewTransition)===!0;let V=f||u,Y=U&&U.overrideNavigation,ue=U!=null&&U.initialHydration&&z.matches&&z.matches.length>0&&!F?z.matches:Fn(V,A,m),me=(U&&U.flushSync)===!0;if(ue&&z.initialized&&!Ce&&Jw(z.location,A)&&!(U&&U.submission&&nr(U.submission.formMethod))){gr(A,{matches:ue},{flushSync:me});return}let ee=os(ue,V,A.pathname);if(ee.active&&ee.matches&&(ue=ee.matches),!ue){let{error:ht,notFoundMatches:Rt,route:$e}=as(A.pathname);gr(A,{matches:Rt,loaderData:{},errors:{[$e.id]:ht}},{flushSync:me});return}re=new AbortController;let ce=Ei(n.history,A,re.signal,U&&U.submission),de=new sp(n.unstable_getContext?await n.unstable_getContext():void 0),_e;if(U&&U.pendingError)_e=[Ss(ue).route.id,{type:"error",error:U.pendingError}];else if(U&&U.submission&&nr(U.submission.formMethod)){let ht=await po(ce,A,U.submission,ue,de,ee.active,U&&U.initialHydration===!0,{replace:U.replace,flushSync:me});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[Rt,$e]=ht.pendingActionResult;if(rr($e)&&Ya($e.error)&&$e.error.status===404){re=null,gr(A,{matches:ht.matches,loaderData:{},errors:{[Rt]:$e.error}});return}}ue=ht.matches||ue,_e=ht.pendingActionResult,Y=Zu(A,U.submission),me=!1,ee.active=!1,ce=Ei(n.history,ce.url,ce.signal)}let{shortCircuited:he,matches:ke,loaderData:De,errors:it}=await go(ce,A,ue,de,ee.active,Y,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,me,_e);he||(re=null,gr(A,{matches:ke||ue,...gp(_e),loaderData:De,errors:it}))}async function po(T,A,U,V,Y,ue,me,ee={}){Hs();let ce=Xw(A,U);if(_t({navigation:ce},{flushSync:ee.flushSync===!0}),ue){let he=await ls(V,A.pathname,T.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let ke=Ss(he.partialMatches).route.id;return{matches:he.partialMatches,pendingActionResult:[ke,{type:"error",error:he.error}]}}else if(he.matches)V=he.matches;else{let{notFoundMatches:ke,error:De,route:it}=as(A.pathname);return{matches:ke,pendingActionResult:[it.id,{type:"error",error:De}]}}}let de,_e=qa(V,A);if(!_e.route.action&&!_e.route.lazy)de={type:"error",error:fr(405,{method:T.method,pathname:A.pathname,routeId:_e.route.id})};else{let he=Pi(o,l,T,V,_e,me?[]:i,Y),ke=await fn(T,he,Y,null);if(de=ke[_e.route.id],!de){for(let De of V)if(ke[De.route.id]){de=ke[De.route.id];break}}if(T.signal.aborted)return{shortCircuited:!0}}if(Cs(de)){let he;return ee&&ee.replace!=null?he=ee.replace:he=hp(de.response.headers.get("Location"),new URL(T.url),m)===z.location.pathname+z.location.search,await vr(T,de,!0,{submission:U,replace:he}),{shortCircuited:!0}}if(rr(de)){let he=Ss(V,_e.route.id);return(ee&&ee.replace)!==!0&&(ae="PUSH"),{matches:V,pendingActionResult:[he.route.id,de,_e.route.id]}}return{matches:V,pendingActionResult:[_e.route.id,de]}}async function go(T,A,U,V,Y,ue,me,ee,ce,de,_e,he){let ke=ue||Zu(A,me),De=me||ee||wp(ke),it=!Je&&!de;if(Y){if(it){let Ut=Ws(he);_t({navigation:ke,...Ut!==void 0?{actionData:Ut}:{}},{flushSync:_e})}let Me=await ls(U,A.pathname,T.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){let Ut=Ss(Me.partialMatches).route.id;return{matches:Me.partialMatches,loaderData:{},errors:{[Ut]:Me.error}}}else if(Me.matches)U=Me.matches;else{let{error:Ut,notFoundMatches:xr,route:Vr}=as(A.pathname);return{matches:xr,loaderData:{},errors:{[Vr.id]:Ut}}}}let ht=f||u,{dsMatches:Rt,revalidatingFetchers:$e}=op(T,V,o,l,n.history,z,U,De,A,de?[]:i,de===!0,Ce,Be,ve,q,C,ht,m,n.patchRoutesOnNavigation!=null,he);if(J=++je,!n.dataStrategy&&!Rt.some(Me=>Me.shouldLoad)&&$e.length===0){let Me=Ji();return gr(A,{matches:U,loaderData:{},errors:he&&rr(he[1])?{[he[0]]:he[1].error}:null,...gp(he),...Me?{fetchers:new Map(z.fetchers)}:{}},{flushSync:_e}),{shortCircuited:!0}}if(it){let Me={};if(!Y){Me.navigation=ke;let Ut=Ws(he);Ut!==void 0&&(Me.actionData=Ut)}$e.length>0&&(Me.fetchers=yo($e)),_t(Me,{flushSync:_e})}$e.forEach(Me=>{Mt(Me.key),Me.controller&&Se.set(Me.key,Me.controller)});let gn=()=>$e.forEach(Me=>Mt(Me.key));re&&re.signal.addEventListener("abort",gn);let{loaderResults:$r,fetcherResults:yn}=await Gi(Rt,$e,T,V);if(T.signal.aborted)return{shortCircuited:!0};re&&re.signal.removeEventListener("abort",gn),$e.forEach(Me=>Se.delete(Me.key));let It=Pl($r);if(It)return await vr(T,It.result,!0,{replace:ce}),{shortCircuited:!0};if(It=Pl(yn),It)return C.add(It.key),await vr(T,It.result,!0,{replace:ce}),{shortCircuited:!0};let{loaderData:cs,errors:Ge}=mp(z,U,$r,he,$e,yn);de&&z.errors&&(Ge={...z.errors,...Ge});let ea=Ji(),br=Yi(J),us=ea||br||$e.length>0;return{matches:U,loaderData:cs,errors:Ge,...us?{fetchers:new Map(z.fetchers)}:{}}}function Ws(T){if(T&&!rr(T[1]))return{[T[0]]:T[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function yo(T){return T.forEach(A=>{let U=z.fetchers.get(A.key),V=Da(void 0,U?U.data:void 0);z.fetchers.set(A.key,V)}),new Map(z.fetchers)}async function Qi(T,A,U,V){Mt(T);let Y=(V&&V.flushSync)===!0,ue=f||u,me=wd(z.location,z.matches,m,U,A,V==null?void 0:V.relative),ee=Fn(ue,me,m),ce=os(ee,ue,me);if(ce.active&&ce.matches&&(ee=ce.matches),!ee){Yt(T,A,fr(404,{pathname:me}),{flushSync:Y});return}let{path:de,submission:_e,error:he}=ap(!0,me,V);if(he){Yt(T,A,he,{flushSync:Y});return}let ke=qa(ee,de),De=new sp(n.unstable_getContext?await n.unstable_getContext():void 0),it=(V&&V.preventScrollReset)===!0;if(_e&&nr(_e.formMethod)){await ns(T,A,de,ke,ee,De,ce.active,Y,it,_e);return}q.set(T,{routeId:A,path:de}),await hn(T,A,de,ke,ee,De,ce.active,Y,it,_e)}async function ns(T,A,U,V,Y,ue,me,ee,ce,de){Hs(),q.delete(T);function _e(at){if(!at.route.action&&!at.route.lazy){let gt=fr(405,{method:de.formMethod,pathname:U,routeId:A});return Yt(T,A,gt,{flushSync:ee}),!0}return!1}if(!me&&_e(V))return;let he=z.fetchers.get(T);wr(T,eb(de,he),{flushSync:ee});let ke=new AbortController,De=Ei(n.history,U,ke.signal,de);if(me){let at=await ls(Y,U,De.signal,T);if(at.type==="aborted")return;if(at.type==="error"){Yt(T,A,at.error,{flushSync:ee});return}else if(at.matches){if(Y=at.matches,V=qa(Y,U),_e(V))return}else{Yt(T,A,fr(404,{pathname:U}),{flushSync:ee});return}}Se.set(T,ke);let it=je,ht=Pi(o,l,De,Y,V,i,ue),$e=(await fn(De,ht,ue,T))[V.route.id];if(De.signal.aborted){Se.get(T)===ke&&Se.delete(T);return}if(ve.has(T)){if(Cs($e)||rr($e)){wr(T,Mn(void 0));return}}else{if(Cs($e))if(Se.delete(T),J>it){wr(T,Mn(void 0));return}else return C.add(T),wr(T,Da(de)),vr(De,$e,!1,{fetcherSubmission:de,preventScrollReset:ce});if(rr($e)){Yt(T,A,$e.error);return}}let gn=z.navigation.location||z.location,$r=Ei(n.history,gn,ke.signal),yn=f||u,It=z.navigation.state!=="idle"?Fn(yn,z.navigation.location,m):z.matches;Te(It,"Didn't find any matches after fetcher action");let cs=++je;se.set(T,cs);let Ge=Da(de,$e.data);z.fetchers.set(T,Ge);let{dsMatches:ea,revalidatingFetchers:br}=op($r,ue,o,l,n.history,z,It,de,gn,i,!1,Ce,Be,ve,q,C,yn,m,n.patchRoutesOnNavigation!=null,[V.route.id,$e]);br.filter(at=>at.key!==T).forEach(at=>{let gt=at.key,xo=z.fetchers.get(gt),lc=Da(void 0,xo?xo.data:void 0);z.fetchers.set(gt,lc),Mt(gt),at.controller&&Se.set(gt,at.controller)}),_t({fetchers:new Map(z.fetchers)});let us=()=>br.forEach(at=>Mt(at.key));ke.signal.addEventListener("abort",us);let{loaderResults:Me,fetcherResults:Ut}=await Gi(ea,br,$r,ue);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",us),se.delete(T),Se.delete(T),br.forEach(at=>Se.delete(at.key)),z.fetchers.has(T)){let at=Mn($e.data);z.fetchers.set(T,at)}let xr=Pl(Me);if(xr)return vr($r,xr.result,!1,{preventScrollReset:ce});if(xr=Pl(Ut),xr)return C.add(xr.key),vr($r,xr.result,!1,{preventScrollReset:ce});let{loaderData:Vr,errors:Ft}=mp(z,It,Me,void 0,br,Ut);Yi(cs),z.navigation.state==="loading"&&cs>J?(Te(ae,"Expected pending action"),re&&re.abort(),gr(z.navigation.location,{matches:It,loaderData:Vr,errors:Ft,fetchers:new Map(z.fetchers)})):(_t({errors:Ft,loaderData:pp(z.loaderData,Vr,It,Ft),fetchers:new Map(z.fetchers)}),Ce=!1)}async function hn(T,A,U,V,Y,ue,me,ee,ce,de){let _e=z.fetchers.get(T);wr(T,Da(de,_e?_e.data:void 0),{flushSync:ee});let he=new AbortController,ke=Ei(n.history,U,he.signal);if(me){let $e=await ls(Y,U,ke.signal,T);if($e.type==="aborted")return;if($e.type==="error"){Yt(T,A,$e.error,{flushSync:ee});return}else if($e.matches)Y=$e.matches,V=qa(Y,U);else{Yt(T,A,fr(404,{pathname:U}),{flushSync:ee});return}}Se.set(T,he);let De=je,it=Pi(o,l,ke,Y,V,i,ue),Rt=(await fn(ke,it,ue,T))[V.route.id];if(Se.get(T)===he&&Se.delete(T),!ke.signal.aborted){if(ve.has(T)){wr(T,Mn(void 0));return}if(Cs(Rt))if(J>De){wr(T,Mn(void 0));return}else{C.add(T),await vr(ke,Rt,!1,{preventScrollReset:ce});return}if(rr(Rt)){Yt(T,A,Rt.error);return}wr(T,Mn(Rt.data))}}async function vr(T,A,U,{submission:V,fetcherSubmission:Y,preventScrollReset:ue,replace:me}={}){A.response.headers.has("X-Remix-Revalidate")&&(Ce=!0);let ee=A.response.headers.get("Location");Te(ee,"Expected a Location header on the redirect Response"),ee=hp(ee,new URL(T.url),m);let ce=Ja(z.location,ee,{_isRedirect:!0});if(s){let it=!1;if(A.response.headers.has("X-Remix-Reload-Document"))it=!0;else if(Wd.test(ee)){const ht=Sg(ee,!0);it=ht.origin!==t.location.origin||mr(ht.pathname,m)==null}if(it){me?t.location.replace(ee):t.location.assign(ee);return}}re=null;let de=me===!0||A.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:_e,formAction:he,formEncType:ke}=z.navigation;!V&&!Y&&_e&&he&&ke&&(V=wp(z.navigation));let De=V||Y;if(Aw.has(A.response.status)&&De&&nr(De.formMethod))await yr(de,ce,{submission:{...De,formAction:ee},preventScrollReset:ue||fe,enableViewTransition:U?we:void 0});else{let it=Zu(ce,V);await yr(de,ce,{overrideNavigation:it,fetcherSubmission:Y,preventScrollReset:ue||fe,enableViewTransition:U?we:void 0})}}async function fn(T,A,U,V){let Y,ue={};try{Y=await Hw(g,T,A,V,U,!1)}catch(me){return A.filter(ee=>ee.shouldLoad).forEach(ee=>{ue[ee.route.id]={type:"error",error:me}}),ue}if(T.signal.aborted)return ue;for(let[me,ee]of Object.entries(Y))if(Yw(ee)){let ce=ee.result;ue[me]={type:"redirect",response:Qw(ce,T,me,A,m)}}else ue[me]=await Kw(ee);return ue}async function Gi(T,A,U,V){let Y=fn(U,T,V,null),ue=Promise.all(A.map(async ce=>{if(ce.matches&&ce.match&&ce.request&&ce.controller){let _e=(await fn(ce.request,ce.matches,V,ce.key))[ce.match.route.id];return{[ce.key]:_e}}else return Promise.resolve({[ce.key]:{type:"error",error:fr(404,{pathname:ce.path})}})})),me=await Y,ee=(await ue).reduce((ce,de)=>Object.assign(ce,de),{});return{loaderResults:me,fetcherResults:ee}}function Hs(){Ce=!0,q.forEach((T,A)=>{Se.has(A)&&Be.add(A),Mt(A)})}function wr(T,A,U={}){z.fetchers.set(T,A),_t({fetchers:new Map(z.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Yt(T,A,U,V={}){let Y=Ss(z.matches,A);Vs(T),_t({errors:{[Y.route.id]:U},fetchers:new Map(z.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function ss(T){return te.set(T,(te.get(T)||0)+1),ve.has(T)&&ve.delete(T),z.fetchers.get(T)||Dw}function Vs(T){let A=z.fetchers.get(T);Se.has(T)&&!(A&&A.state==="loading"&&se.has(T))&&Mt(T),q.delete(T),se.delete(T),C.delete(T),ve.delete(T),Be.delete(T),z.fetchers.delete(T)}function is(T){let A=(te.get(T)||0)-1;A<=0?(te.delete(T),ve.add(T)):te.set(T,A),_t({fetchers:new Map(z.fetchers)})}function Mt(T){let A=Se.get(T);A&&(A.abort(),Se.delete(T))}function vo(T){for(let A of T){let U=ss(A),V=Mn(U.data);z.fetchers.set(A,V)}}function Ji(){let T=[],A=!1;for(let U of C){let V=z.fetchers.get(U);Te(V,`Expected fetcher: ${U}`),V.state==="loading"&&(C.delete(U),T.push(U),A=!0)}return vo(T),A}function Yi(T){let A=[];for(let[U,V]of se)if(V<T){let Y=z.fetchers.get(U);Te(Y,`Expected fetcher: ${U}`),Y.state==="loading"&&(Mt(U),se.delete(U),A.push(U))}return vo(A),A.length>0}function oc(T,A){let U=z.blockers.get(T)||Aa;return xe.get(T)!==A&&xe.set(T,A),U}function Ks(T){z.blockers.delete(T),xe.delete(T)}function mn(T,A){let U=z.blockers.get(T)||Aa;Te(U.state==="unblocked"&&A.state==="blocked"||U.state==="blocked"&&A.state==="blocked"||U.state==="blocked"&&A.state==="proceeding"||U.state==="blocked"&&A.state==="unblocked"||U.state==="proceeding"&&A.state==="unblocked",`Invalid blocker state transition: ${U.state} -> ${A.state}`);let V=new Map(z.blockers);V.set(T,A),_t({blockers:V})}function Qs({currentLocation:T,nextLocation:A,historyAction:U}){if(xe.size===0)return;xe.size>1&&ut(!1,"A router only supports one blocker at a time");let V=Array.from(xe.entries()),[Y,ue]=V[V.length-1],me=z.blockers.get(Y);if(!(me&&me.state==="proceeding")&&ue({currentLocation:T,nextLocation:A,historyAction:U}))return Y}function as(T){let A=fr(404,{pathname:T}),U=f||u,{matches:V,route:Y}=yp(U);return{notFoundMatches:V,route:Y,error:A}}function Zi(T,A,U){if(k=T,_=A,N=U||null,!S&&z.navigation===Yu){S=!0;let V=Xi(z.location,z.matches);V!=null&&_t({restoreScrollPosition:V})}return()=>{k=null,_=null,N=null}}function Hr(T,A){return N&&N(T,A.map(V=>mw(V,z.loaderData)))||T.key}function pn(T,A){if(k&&_){let U=Hr(T,A);k[U]=_()}}function Xi(T,A){if(k){let U=Hr(T,A),V=k[U];if(typeof V=="number")return V}return null}function os(T,A,U){if(n.patchRoutesOnNavigation)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Dl(A,U,m,!0)}}else return{active:!0,matches:Dl(A,U,m,!0)||[]};return{active:!1,matches:null}}async function ls(T,A,U,V){if(!n.patchRoutesOnNavigation)return{type:"success",matches:T};let Y=T;for(;;){let ue=f==null,me=f||u,ee=l;try{await n.patchRoutesOnNavigation({signal:U,path:A,matches:Y,fetcherKey:V,patch:(_e,he)=>{U.aborted||lp(_e,he,me,ee,o)}})}catch(_e){return{type:"error",error:_e,partialMatches:Y}}finally{ue&&!U.aborted&&(u=[...u])}if(U.aborted)return{type:"aborted"};let ce=Fn(me,A,m);if(ce)return{type:"success",matches:ce};let de=Dl(me,A,m,!0);if(!de||Y.length===de.length&&Y.every((_e,he)=>_e.route.id===de[he].route.id))return{type:"success",matches:null};Y=de}}function wo(T){l={},f=ql(T,o,void 0,l)}function bo(T,A){let U=f==null;lp(T,A,f||u,l,o),U&&(u=[...u],_t({}))}return Q={get basename(){return m},get future(){return y},get state(){return z},get routes(){return u},get window(){return t},initialize:He,subscribe:St,enableScrollRestoration:Zi,navigate:Ki,fetch:Qi,revalidate:qs,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:ss,deleteFetcher:is,dispose:Ue,getBlocker:oc,deleteBlocker:Ks,patchRoutes:bo,_internalFetchControllers:Se,_internalSetRoutes:wo},Q}function Uw(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function wd(n,t,s,i,o,l){let u,f;if(o){u=[];for(let g of t)if(u.push(g),g.route.id===o){f=g;break}}else u=t,f=t[t.length-1];let m=Zl(i||".",Yl(u),mr(n.pathname,s)||n.pathname,l==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&f){let g=Hd(m.search);if(f.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let y=new URLSearchParams(m.search),v=y.getAll("index");y.delete("index"),v.filter(k=>k).forEach(k=>y.append("index",k));let x=y.toString();m.search=x?`?${x}`:""}}return s!=="/"&&(m.pathname=m.pathname==="/"?s:Wr([s,m.pathname])),es(m)}function ap(n,t,s){if(!s||!Uw(s))return{path:t};if(s.formMethod&&!Zw(s.formMethod))return{path:t,error:fr(405,{method:s.formMethod})};let i=()=>({path:t,error:fr(400,{type:"invalid-body"})}),l=(s.formMethod||"get").toUpperCase(),u=Dg(t);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!nr(l))return i();let v=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((x,[k,N])=>`${x}${k}=${N}
`,""):String(s.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:s.formEncType,formData:void 0,json:void 0,text:v}}}else if(s.formEncType==="application/json"){if(!nr(l))return i();try{let v=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:s.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let f,m;if(s.formData)f=_d(s.formData),m=s.formData;else if(s.body instanceof FormData)f=_d(s.body),m=s.body;else if(s.body instanceof URLSearchParams)f=s.body,m=fp(f);else if(s.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(s.body),m=fp(f)}catch{return i()}let g={formMethod:l,formAction:u,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(nr(g.formMethod))return{path:t,submission:g};let y=ts(t);return n&&y.search&&Hd(y.search)&&f.append("index",""),y.search=`?${f}`,{path:es(y),submission:g}}function op(n,t,s,i,o,l,u,f,m,g,y,v,x,k,N,_,S,P,F,$){var Je;let B=$?rr($[1])?$[1].error:$[1].data:void 0,Q=o.createURL(l.location),z=o.createURL(m),ae;if(y&&l.errors){let Ce=Object.keys(l.errors)[0];ae=u.findIndex(Be=>Be.route.id===Ce)}else if($&&rr($[1])){let Ce=$[0];ae=u.findIndex(Be=>Be.route.id===Ce)-1}let fe=$?$[1].statusCode:void 0,re=fe&&fe>=400,we={currentUrl:Q,currentParams:((Je=l.matches[0])==null?void 0:Je.params)||{},nextUrl:z,nextParams:u[0].params,...f,actionResult:B,actionStatus:fe},Qe=u.map((Ce,Be)=>{let{route:Se}=Ce,je=null;if(ae!=null&&Be>ae?je=!1:Se.lazy?je=!0:Se.loader==null?je=!1:y?je=bd(Se,l.loaderData,l.errors):Fw(l.loaderData,l.matches[Be],Ce)&&(je=!0),je!==null)return xd(s,i,n,Ce,g,t,je);let J=re?!1:v||Q.pathname+Q.search===z.pathname+z.search||Q.search!==z.search||Bw(l.matches[Be],Ce),se={...we,defaultShouldRevalidate:J},C=Vl(Ce,se);return xd(s,i,n,Ce,g,t,C,se)}),Xe=[];return N.forEach((Ce,Be)=>{if(y||!u.some(ve=>ve.route.id===Ce.routeId)||k.has(Be))return;let Se=l.fetchers.get(Be),je=Se&&Se.state!=="idle"&&Se.data===void 0,J=Fn(S,Ce.path,P);if(!J){if(F&&je)return;Xe.push({key:Be,routeId:Ce.routeId,path:Ce.path,matches:null,match:null,request:null,controller:null});return}if(_.has(Be))return;let se=qa(J,Ce.path),C=new AbortController,q=Ei(o,Ce.path,C.signal),te=null;if(x.has(Be))x.delete(Be),te=Pi(s,i,q,J,se,g,t);else if(je)v&&(te=Pi(s,i,q,J,se,g,t));else{let ve={...we,defaultShouldRevalidate:re?!1:v};Vl(se,ve)&&(te=Pi(s,i,q,J,se,g,t,ve))}te&&Xe.push({key:Be,routeId:Ce.routeId,path:Ce.path,matches:te,match:se,request:q,controller:C})}),{dsMatches:Qe,revalidatingFetchers:Xe}}function bd(n,t,s){if(n.lazy)return!0;if(!n.loader)return!1;let i=t!=null&&n.id in t,o=s!=null&&s[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function Fw(n,t,s){let i=!t||s.route.id!==t.route.id,o=!n.hasOwnProperty(s.route.id);return i||o}function Bw(n,t){let s=n.route.path;return n.pathname!==t.pathname||s!=null&&s.endsWith("*")&&n.params["*"]!==t.params["*"]}function Vl(n,t){if(n.route.shouldRevalidate){let s=n.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function lp(n,t,s,i,o){let l;if(n){let m=i[n];Te(m,`No route found to patch children into: routeId = ${n}`),m.children||(m.children=[]),l=m.children}else l=s;let u=t.filter(m=>!l.some(g=>Og(m,g))),f=ql(u,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...f)}function Og(n,t){return"id"in n&&"id"in t&&n.id===t.id?!0:n.index===t.index&&n.path===t.path&&n.caseSensitive===t.caseSensitive?(!n.children||n.children.length===0)&&(!t.children||t.children.length===0)?!0:n.children.every((s,i)=>{var o;return(o=t.children)==null?void 0:o.some(l=>Og(s,l))}):!1}var cp=new WeakMap,Lg=({key:n,route:t,manifest:s,mapRouteProperties:i})=>{let o=s[t.id];if(Te(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[n];if(!l)return;let u=cp.get(o);u||(u={},cp.set(o,u));let f=u[n];if(f)return f;let m=(async()=>{let g=uw(n),v=o[n]!==void 0&&n!=="hasErrorBoundary";if(g)ut(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(v)ut(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let x=await l();x!=null&&(Object.assign(o,{[n]:x}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(x=>x===void 0)&&(o.lazy=void 0))})();return u[n]=m,m},up=new WeakMap;function qw(n,t,s,i,o){let l=s[n.id];if(Te(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=up.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let v=(async()=>{Te(typeof n.lazy=="function","No lazy route function found");let x=await n.lazy(),k={};for(let N in x){let _=x[N];if(_===void 0)continue;let S=hw(N),F=l[N]!==void 0&&N!=="hasErrorBoundary";S?ut(!S,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):F?ut(!F,`Route "${l.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):k[N]=_}Object.assign(l,k),Object.assign(l,{...i(l),lazy:void 0})})();return up.set(l,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(n.lazy),f=[],m;for(let y of u){if(o&&o.includes(y))continue;let v=Lg({key:y,route:n,manifest:s,mapRouteProperties:i});v&&(f.push(v),y===t&&(m=v))}let g=f.length>0?Promise.all(f).then(()=>{}):void 0;return g==null||g.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function dp(n){let t=n.matches.filter(o=>o.shouldLoad),s={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,l)=>{s[t[l].route.id]=o}),s}async function Ww(n){return n.matches.some(t=>t.route.unstable_middleware)?zg(n,!1,()=>dp(n),(t,s)=>({[s]:{type:"error",result:t}})):dp(n)}async function zg(n,t,s,i){let{matches:o,request:l,params:u,context:f}=n,m={handlerResult:void 0};try{let g=o.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(x=>[v.route.id,x]):[]),y=await $g({request:l,params:u,context:f},g,t,m,s);return t?y:m.handlerResult}catch(g){if(!m.middlewareError)throw g;let y=await i(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,y):y}}async function $g(n,t,s,i,o,l=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let f=t[l];if(!f)return i.handlerResult=await o(),i.handlerResult;let[m,g]=f,y=!1,v,x=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await $g(n,t,s,i,o,l+1)};try{let k=await g({request:n.request,params:n.params,context:n.context},x);return y?k===void 0?v:k:x()}catch(k){throw i.middlewareError?i.middlewareError.error!==k&&(i.middlewareError={routeId:m,error:k}):i.middlewareError={routeId:m,error:k},k}}function Ag(n,t,s,i,o){let l=Lg({key:"unstable_middleware",route:i.route,manifest:t,mapRouteProperties:n}),u=qw(i.route,nr(s.method)?"action":"loader",t,n,o);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function xd(n,t,s,i,o,l,u,f=null){let m=!1,g=Ag(n,t,s,i,o);return{...i,_lazyPromises:g,shouldLoad:u,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler(y){return m=!0,f?typeof y=="boolean"?Vl(i,{...f,defaultShouldRevalidate:y}):Vl(i,f):u},resolve(y){return m||u||y&&s.method==="GET"&&(i.route.lazy||i.route.loader)?Vw({request:s,match:i,lazyHandlerPromise:g==null?void 0:g.handler,lazyRoutePromise:g==null?void 0:g.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Pi(n,t,s,i,o,l,u,f=null){return i.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:f,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ag(n,t,s,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:xd(n,t,s,m,l,u,!0,f))}async function Hw(n,t,s,i,o,l){s.some(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(s.map(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware}));let u={request:t,params:s[0].params,context:o,matches:s},m=await n({...u,fetcherKey:i,unstable_runClientMiddleware:g=>{let y=u;return zg(y,!1,()=>g({...y,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,x)=>({[x]:{type:"error",result:v}}))}});try{await Promise.all(s.flatMap(g=>{var y,v;return[(y=g._lazyPromises)==null?void 0:y.handler,(v=g._lazyPromises)==null?void 0:v.route]}))}catch{}return m}async function Vw({request:n,match:t,lazyHandlerPromise:s,lazyRoutePromise:i,handlerOverride:o,scopedContext:l}){let u,f,m=nr(n.method),g=m?"action":"loader",y=v=>{let x,k=new Promise((S,P)=>x=P);f=()=>x(),n.signal.addEventListener("abort",f);let N=S=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${t.route.id}]`)):v({request:n,params:t.params,context:l},...S!==void 0?[S]:[]),_=(async()=>{try{return{type:"data",result:await(o?o(P=>N(P)):N())}}catch(S){return{type:"error",result:S}}})();return Promise.race([_,k])};try{let v=m?t.route.action:t.route.loader;if(s||i)if(v){let x,[k]=await Promise.all([y(v).catch(N=>{x=N}),s,i]);if(x!==void 0)throw x;u=k}else{await s;let x=m?t.route.action:t.route.loader;if(x)[u]=await Promise.all([y(x),i]);else if(g==="action"){let k=new URL(n.url),N=k.pathname+k.search;throw fr(405,{method:n.method,pathname:N,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(v)u=await y(v);else{let x=new URL(n.url),k=x.pathname+x.search;throw fr(404,{pathname:k})}}catch(v){return{type:"error",result:v}}finally{f&&n.signal.removeEventListener("abort",f)}return u}async function Kw(n){var i,o,l,u,f,m;let{result:t,type:s}=n;if(Mg(t)){let g;try{let y=t.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?t.body==null?g=null:g=await t.json():g=await t.text()}catch(y){return{type:"error",error:y}}return s==="error"?{type:"error",error:new Hl(t.status,t.statusText,g),statusCode:t.status,headers:t.headers}:{type:"data",data:g,statusCode:t.status,headers:t.headers}}return s==="error"?vp(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Hl(((l=t.init)==null?void 0:l.status)||500,void 0,t.data),statusCode:Ya(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ya(t)?t.status:void 0}:vp(t)?{type:"data",data:t.data,statusCode:(f=t.init)==null?void 0:f.status,headers:(m=t.init)!=null&&m.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Qw(n,t,s,i,o){let l=n.headers.get("Location");if(Te(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wd.test(l)){let u=i.slice(0,i.findIndex(f=>f.route.id===s)+1);l=wd(new URL(t.url),u,o,l),n.headers.set("Location",l)}return n}function hp(n,t,s){if(Wd.test(n)){let i=n,o=i.startsWith("//")?new URL(t.protocol+i):new URL(i),l=mr(o.pathname,s)!=null;if(o.origin===t.origin&&l)return o.pathname+o.search+o.hash}return n}function Ei(n,t,s,i){let o=n.createURL(Dg(t)).toString(),l={signal:s};if(i&&nr(i.formMethod)){let{formMethod:u,formEncType:f}=i;l.method=u.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(i.json)):f==="text/plain"?l.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?l.body=_d(i.formData):l.body=i.formData}return new Request(o,l)}function _d(n){let t=new URLSearchParams;for(let[s,i]of n.entries())t.append(s,typeof i=="string"?i:i.name);return t}function fp(n){let t=new FormData;for(let[s,i]of n.entries())t.append(s,i);return t}function Gw(n,t,s,i=!1,o=!1){let l={},u=null,f,m=!1,g={},y=s&&rr(s[1])?s[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in t))return;let x=v.route.id,k=t[x];if(Te(!Cs(k),"Cannot handle redirect results in processLoaderData"),rr(k)){let N=k.error;if(y!==void 0&&(N=y,y=void 0),u=u||{},o)u[x]=N;else{let _=Ss(n,x);u[_.route.id]==null&&(u[_.route.id]=N)}i||(l[x]=Rg),m||(m=!0,f=Ya(k.error)?k.error.status:500),k.headers&&(g[x]=k.headers)}else l[x]=k.data,k.statusCode&&k.statusCode!==200&&!m&&(f=k.statusCode),k.headers&&(g[x]=k.headers)}),y!==void 0&&s&&(u={[s[0]]:y},s[2]&&(l[s[2]]=void 0)),{loaderData:l,errors:u,statusCode:f||200,loaderHeaders:g}}function mp(n,t,s,i,o,l){let{loaderData:u,errors:f}=Gw(t,s,i);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:y,controller:v}=m,x=l[g];if(Te(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(rr(x)){let k=Ss(n.matches,y==null?void 0:y.route.id);f&&f[k.route.id]||(f={...f,[k.route.id]:x.error}),n.fetchers.delete(g)}else if(Cs(x))Te(!1,"Unhandled fetcher revalidation redirect");else{let k=Mn(x.data);n.fetchers.set(g,k)}}),{loaderData:u,errors:f}}function pp(n,t,s,i){let o=Object.entries(t).filter(([,l])=>l!==Rg).reduce((l,[u,f])=>(l[u]=f,l),{});for(let l of s){let u=l.route.id;if(!t.hasOwnProperty(u)&&n.hasOwnProperty(u)&&l.route.loader&&(o[u]=n[u]),i&&i.hasOwnProperty(u))break}return o}function gp(n){return n?rr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ss(n,t){return(t?n.slice(0,n.findIndex(i=>i.route.id===t)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function yp(n){let t=n.length===1?n[0]:n.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function fr(n,{pathname:t,routeId:s,method:i,type:o,message:l}={}){let u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&t&&s?f=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f=`Route "${s}" does not match URL "${t}"`):n===404?(u="Not Found",f=`No route matches URL "${t}"`):n===405&&(u="Method Not Allowed",i&&t&&s?f=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new Hl(n||500,u,new Error(f),!0)}function Pl(n){let t=Object.entries(n);for(let s=t.length-1;s>=0;s--){let[i,o]=t[s];if(Cs(o))return{key:i,result:o}}}function Dg(n){let t=typeof n=="string"?ts(n):n;return es({...t,hash:""})}function Jw(n,t){return n.pathname!==t.pathname||n.search!==t.search?!1:n.hash===""?t.hash!=="":n.hash===t.hash?!0:t.hash!==""}function Yw(n){return Mg(n.result)&&$w.has(n.result.status)}function rr(n){return n.type==="error"}function Cs(n){return(n&&n.type)==="redirect"}function vp(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Mg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Zw(n){return zw.has(n.toUpperCase())}function nr(n){return Ow.has(n.toUpperCase())}function Hd(n){return new URLSearchParams(n).getAll("index").some(t=>t==="")}function qa(n,t){let s=typeof t=="string"?ts(t).search:t.search;if(n[n.length-1].route.index&&Hd(s||""))return n[n.length-1];let i=Pg(n);return i[i.length-1]}function wp(n){let{formMethod:t,formAction:s,formEncType:i,text:o,formData:l,json:u}=n;if(!(!t||!s||!i)){if(o!=null)return{formMethod:t,formAction:s,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:t,formAction:s,formEncType:i,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:s,formEncType:i,formData:void 0,json:u,text:void 0}}}function Zu(n,t){return t?{state:"loading",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xw(n,t){return{state:"submitting",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Da(n,t){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eb(n,t){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t?t.data:void 0}}function Mn(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function tb(n,t){try{let s=n.sessionStorage.getItem(Tg);if(s){let i=JSON.parse(s);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&t.set(o,new Set(l||[]))}}catch{}}function rb(n,t){if(t.size>0){let s={};for(let[i,o]of t)s[i]=[...o];try{n.sessionStorage.setItem(Tg,JSON.stringify(s))}catch(i){ut(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function nb(){let n,t,s=new Promise((i,o)=>{n=async l=>{i(l);try{await s}catch{}},t=async l=>{o(l);try{await s}catch{}}});return{promise:s,resolve:n,reject:t}}var Fs=O.createContext(null);Fs.displayName="DataRouter";var oo=O.createContext(null);oo.displayName="DataRouterState";var Vd=O.createContext({isTransitioning:!1});Vd.displayName="ViewTransition";var Ig=O.createContext(new Map);Ig.displayName="Fetchers";var sb=O.createContext(null);sb.displayName="Await";var Lr=O.createContext(null);Lr.displayName="Navigation";var Xl=O.createContext(null);Xl.displayName="Location";var zr=O.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Kd=O.createContext(null);Kd.displayName="RouteError";function ib(n,{relative:t}={}){Te(Vi(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=O.useContext(Lr),{hash:o,pathname:l,search:u}=lo(n,{relative:t}),f=l;return s!=="/"&&(f=l==="/"?s:Wr([s,l])),i.createHref({pathname:f,search:u,hash:o})}function Vi(){return O.useContext(Xl)!=null}function cn(){return Te(Vi(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Xl).location}var Ug="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fg(n){O.useContext(Lr).static||O.useLayoutEffect(n)}function ir(){let{isDataRoute:n}=O.useContext(zr);return n?vb():ab()}function ab(){Te(Vi(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Fs),{basename:t,navigator:s}=O.useContext(Lr),{matches:i}=O.useContext(zr),{pathname:o}=cn(),l=JSON.stringify(Yl(i)),u=O.useRef(!1);return Fg(()=>{u.current=!0}),O.useCallback((m,g={})=>{if(ut(u.current,Ug),!u.current)return;if(typeof m=="number"){s.go(m);return}let y=Zl(m,JSON.parse(l),o,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Wr([t,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[t,s,l,o,n])}O.createContext(null);function un(){let{matches:n}=O.useContext(zr),t=n[n.length-1];return t?t.params:{}}function lo(n,{relative:t}={}){let{matches:s}=O.useContext(zr),{pathname:i}=cn(),o=JSON.stringify(Yl(s));return O.useMemo(()=>Zl(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function ob(n,t,s,i){Te(Vi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(Lr),{matches:l}=O.useContext(zr),u=l[l.length-1],f=u?u.params:{},m=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let P=y&&y.path||"";qg(m,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=cn(),x;x=v;let k=x.pathname||"/",N=k;if(g!=="/"){let P=g.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(P.length).join("/")}let _=Fn(n,{pathname:N});return ut(y||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ut(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),hb(_&&_.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Wr([g,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Wr([g,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,s,i)}function lb(){let n=yb(),t=Ya(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),s?O.createElement("pre",{style:o},s):null,u)}var cb=O.createElement(lb,null),ub=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?O.createElement(zr.Provider,{value:this.props.routeContext},O.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function db({routeContext:n,match:t,children:s}){let i=O.useContext(Fs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(zr.Provider,{value:n},s)}function hb(n,t=[],s=null,i=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let o=n,l=s==null?void 0:s.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Te(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,f=-1;if(s)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:y,errors:v}=s,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,g,y)=>{let v,x=!1,k=null,N=null;s&&(v=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||cb,u&&(f<0&&y===0?(qg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):f===y&&(x=!0,N=g.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,y+1)),S=()=>{let P;return v?P=k:x?P=N:g.route.Component?P=O.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=m,O.createElement(db,{match:g,routeContext:{outlet:m,matches:_,isDataRoute:s!=null},children:P})};return s&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?O.createElement(ub,{location:s.location,revalidation:s.revalidation,component:k,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function Qd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fb(n){let t=O.useContext(Fs);return Te(t,Qd(n)),t}function Bg(n){let t=O.useContext(oo);return Te(t,Qd(n)),t}function mb(n){let t=O.useContext(zr);return Te(t,Qd(n)),t}function ec(n){let t=mb(n),s=t.matches[t.matches.length-1];return Te(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function pb(){return ec("useRouteId")}function gb(){let n=Bg("useLoaderData"),t=ec("useLoaderData");return n.loaderData[t]}function yb(){var i;let n=O.useContext(Kd),t=Bg("useRouteError"),s=ec("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[s]}function vb(){let{router:n}=fb("useNavigate"),t=ec("useNavigate"),s=O.useRef(!1);return Fg(()=>{s.current=!0}),O.useCallback(async(o,l={})=>{ut(s.current,Ug),s.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:t,...l}))},[n,t])}var bp={};function qg(n,t,s){!t&&!bp[n]&&(bp[n]=!0,ut(!1,s))}var xp={};function _p(n,t){!n&&!xp[t]&&(xp[t]=!0,console.warn(t))}function wb(n){let t={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&ut(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:O.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&ut(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:O.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&ut(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),t}var bb=["HydrateFallback","hydrateFallbackElement"],xb=class{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",s(i))}})}};function _b({router:n,flushSync:t}){let[s,i]=O.useState(n.state),[o,l]=O.useState(),[u,f]=O.useState({isTransitioning:!1}),[m,g]=O.useState(),[y,v]=O.useState(),[x,k]=O.useState(),N=O.useRef(new Map),_=O.useCallback(($,{deletedFetchers:B,flushSync:Q,viewTransitionOpts:z})=>{$.fetchers.forEach((fe,re)=>{fe.data!==void 0&&N.current.set(re,fe.data)}),B.forEach(fe=>N.current.delete(fe)),_p(Q===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ae=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(_p(z==null||ae,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!ae){t&&Q?t(()=>i($)):O.startTransition(()=>i($));return}if(t&&Q){t(()=>{y&&(m&&m.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let fe=n.window.document.startViewTransition(()=>{t(()=>i($))});fe.finished.finally(()=>{t(()=>{g(void 0),v(void 0),l(void 0),f({isTransitioning:!1})})}),t(()=>v(fe));return}y?(m&&m.resolve(),y.skipTransition(),k({state:$,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(l($),f({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,t,y,m]);O.useLayoutEffect(()=>n.subscribe(_),[n,_]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&g(new xb)},[u]),O.useEffect(()=>{if(m&&o&&n.window){let $=o,B=m.promise,Q=n.window.document.startViewTransition(async()=>{O.startTransition(()=>i($)),await B});Q.finished.finally(()=>{g(void 0),v(void 0),l(void 0),f({isTransitioning:!1})}),v(Q)}},[o,m,n.window]),O.useEffect(()=>{m&&o&&s.location.key===o.location.key&&m.resolve()},[m,y,s.location,o]),O.useEffect(()=>{!u.isTransitioning&&x&&(l(x.state),f({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),k(void 0))},[u.isTransitioning,x]);let S=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:$=>n.navigate($),push:($,B,Q)=>n.navigate($,{state:B,preventScrollReset:Q==null?void 0:Q.preventScrollReset}),replace:($,B,Q)=>n.navigate($,{replace:!0,state:B,preventScrollReset:Q==null?void 0:Q.preventScrollReset})}),[n]),P=n.basename||"/",F=O.useMemo(()=>({router:n,navigator:S,static:!1,basename:P}),[n,S,P]);return O.createElement(O.Fragment,null,O.createElement(Fs.Provider,{value:F},O.createElement(oo.Provider,{value:s},O.createElement(Ig.Provider,{value:N.current},O.createElement(Vd.Provider,{value:u},O.createElement(Sb,{basename:P,location:s.location,navigationType:s.historyAction,navigator:S},O.createElement(kb,{routes:n.routes,future:n.future,state:s})))))),null)}var kb=O.memo(Nb);function Nb({routes:n,future:t,state:s}){return ob(n,void 0,s,t)}function kd({to:n,replace:t,state:s,relative:i}){Te(Vi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Lr);ut(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(zr),{pathname:u}=cn(),f=ir(),m=Zl(n,Yl(l),u,i==="path"),g=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(g),{replace:t,state:s,relative:i})},[f,g,i,t,s]),null}function Sb({basename:n="/",children:t=null,location:s,navigationType:i="POP",navigator:o,static:l=!1}){Te(!Vi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof s=="string"&&(s=ts(s));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:x="default"}=s,k=O.useMemo(()=>{let N=mr(m,u);return N==null?null:{location:{pathname:N,search:g,hash:y,state:v,key:x},navigationType:i}},[u,m,g,y,v,x,i]);return ut(k!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:O.createElement(Lr.Provider,{value:f},O.createElement(Xl.Provider,{children:t,value:k}))}var Ml="get",Il="application/x-www-form-urlencoded";function tc(n){return n!=null&&typeof n.tagName=="string"}function Eb(n){return tc(n)&&n.tagName.toLowerCase()==="button"}function Cb(n){return tc(n)&&n.tagName.toLowerCase()==="form"}function Pb(n){return tc(n)&&n.tagName.toLowerCase()==="input"}function jb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Tb(n,t){return n.button===0&&(!t||t==="_self")&&!jb(n)}var jl=null;function Rb(){if(jl===null)try{new FormData(document.createElement("form"),0),jl=!1}catch{jl=!0}return jl}var Ob=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xu(n){return n!=null&&!Ob.has(n)?(ut(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Il}"`),null):n}function Lb(n,t){let s,i,o,l,u;if(Cb(n)){let f=n.getAttribute("action");i=f?mr(f,t):null,s=n.getAttribute("method")||Ml,o=Xu(n.getAttribute("enctype"))||Il,l=new FormData(n)}else if(Eb(n)||Pb(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?mr(m,t):null,s=n.getAttribute("formmethod")||f.getAttribute("method")||Ml,o=Xu(n.getAttribute("formenctype"))||Xu(f.getAttribute("enctype"))||Il,l=new FormData(f,n),!Rb()){let{name:g,type:y,value:v}=n;if(y==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,v)}}else{if(tc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ml,i=null,o=Il,u=n}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:s.toLowerCase(),encType:o,formData:l,body:u}}function Gd(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function zb(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $b(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ab(n,t,s){let i=await Promise.all(n.map(async o=>{let l=t.routes[o.route.id];if(l){let u=await zb(l,s);return u.links?u.links():[]}return[]}));return Ub(i.flat(1).filter($b).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function kp(n,t,s,i,o,l){let u=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,f=(m,g)=>{var y;return s[g].pathname!==m.pathname||((y=s[g].route.path)==null?void 0:y.endsWith("*"))&&s[g].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,g)=>u(m,g)||f(m,g)):l==="data"?t.filter((m,g)=>{var v;let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=s[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Db(n,t,{includeHydrateFallback:s}={}){return Mb(n.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Mb(n){return[...new Set(n)]}function Ib(n){let t={},s=Object.keys(n).sort();for(let i of s)t[i]=n[i];return t}function Ub(n,t){let s=new Set;return new Set(t),n.reduce((i,o)=>{let l=JSON.stringify(Ib(o));return s.has(l)||(s.add(l),i.push({key:l,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fb=new Set([100,101,204,205]);function Bb(n,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname="_root.data":t&&mr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function Wg(){let n=O.useContext(Fs);return Gd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qb(){let n=O.useContext(oo);return Gd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jd=O.createContext(void 0);Jd.displayName="FrameworkContext";function Hg(){let n=O.useContext(Jd);return Gd(n,"You must render this element inside a <HydratedRouter> element"),n}function Wb(n,t){let s=O.useContext(Jd),[i,o]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,x=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let _=P=>{P.forEach(F=>{u(F.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[n]),O.useEffect(()=>{if(i){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[i]);let k=()=>{o(!0)},N=()=>{o(!1),u(!1)};return s?n!=="intent"?[l,x,{}]:[l,x,{onFocus:Ma(f,k),onBlur:Ma(m,N),onMouseEnter:Ma(g,k),onMouseLeave:Ma(y,N),onTouchStart:Ma(v,k)}]:[!1,x,{}]}function Ma(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function Hb({page:n,...t}){let{router:s}=Wg(),i=O.useMemo(()=>Fn(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?O.createElement(Kb,{page:n,matches:i,...t}):null}function Vb(n){let{manifest:t,routeModules:s}=Hg(),[i,o]=O.useState([]);return O.useEffect(()=>{let l=!1;return Ab(n,t,s).then(u=>{l||o(u)}),()=>{l=!0}},[n,t,s]),i}function Kb({page:n,matches:t,...s}){let i=cn(),{manifest:o,routeModules:l}=Hg(),{basename:u}=Wg(),{loaderData:f,matches:m}=qb(),g=O.useMemo(()=>kp(n,t,m,o,i,"data"),[n,t,m,o,i]),y=O.useMemo(()=>kp(n,t,m,o,i,"assets"),[n,t,m,o,i]),v=O.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,_=!1;if(t.forEach(P=>{var $;let F=o.routes[P.route.id];!F||!F.hasLoader||(!g.some(B=>B.route.id===P.route.id)&&P.route.id in f&&(($=l[P.route.id])!=null&&$.shouldRevalidate)||F.hasClientLoader?_=!0:N.add(P.route.id))}),N.size===0)return[];let S=Bb(n,u);return _&&N.size>0&&S.searchParams.set("_routes",t.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[S.pathname+S.search]},[u,f,i,o,g,t,n,l]),x=O.useMemo(()=>Db(y,o),[y,o]),k=Vb(y);return O.createElement(O.Fragment,null,v.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),x.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),k.map(({key:N,link:_})=>O.createElement("link",{key:N,..._})))}function Qb(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var Vg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vg&&(window.__reactRouterVersion="7.6.2")}catch{}function Gb(n,t){return Iw({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:aw({window:t==null?void 0:t.window}),hydrationData:Jb(),routes:n,mapRouteProperties:wb,hydrationRouteProperties:bb,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Jb(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Yb(n.errors)}),n}function Yb(n){if(!n)return null;let t=Object.entries(n),s={};for(let[i,o]of t)if(o&&o.__type==="RouteErrorResponse")s[i]=new Hl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let u=new l(o.message);u.stack="",s[i]=u}catch{}}if(s[i]==null){let l=new Error(o.message);l.stack="",s[i]=l}}else s[i]=o;return s}var Kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=O.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:f,target:m,to:g,preventScrollReset:y,viewTransition:v,...x},k){let{basename:N}=O.useContext(Lr),_=typeof g=="string"&&Kg.test(g),S,P=!1;if(typeof g=="string"&&_&&(S=g,Vg))try{let re=new URL(window.location.href),we=g.startsWith("//")?new URL(re.protocol+g):new URL(g),Qe=mr(we.pathname,N);we.origin===re.origin&&Qe!=null?g=Qe+we.search+we.hash:P=!0}catch{ut(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=ib(g,{relative:o}),[$,B,Q]=Wb(i,x),z=ex(g,{replace:u,state:f,target:m,preventScrollReset:y,relative:o,viewTransition:v});function ae(re){t&&t(re),re.defaultPrevented||z(re)}let fe=O.createElement("a",{...x,...Q,href:S||F,onClick:P||l?t:ae,ref:Qb(k,B),target:m,"data-discover":!_&&s==="render"?"true":void 0});return $&&!_?O.createElement(O.Fragment,null,fe,O.createElement(Hb,{page:F})):fe});ze.displayName="Link";var Yd=O.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:f,children:m,...g},y){let v=lo(u,{relative:g.relative}),x=cn(),k=O.useContext(oo),{navigator:N,basename:_}=O.useContext(Lr),S=k!=null&&ix(v)&&f===!0,P=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,F=x.pathname,$=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(F=F.toLowerCase(),$=$?$.toLowerCase():null,P=P.toLowerCase()),$&&_&&($=mr($,_)||$);const B=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Q=F===P||!o&&F.startsWith(P)&&F.charAt(B)==="/",z=$!=null&&($===P||!o&&$.startsWith(P)&&$.charAt(P.length)==="/"),ae={isActive:Q,isPending:z,isTransitioning:S},fe=Q?t:void 0,re;typeof i=="function"?re=i(ae):re=[i,Q?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let we=typeof l=="function"?l(ae):l;return O.createElement(ze,{...g,"aria-current":fe,className:re,ref:y,style:we,to:u,viewTransition:f},typeof m=="function"?m(ae):m)});Yd.displayName="NavLink";var Zb=O.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:o,state:l,method:u=Ml,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:v,...x},k)=>{let N=nx(),_=sx(f,{relative:g}),S=u.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&Kg.test(f),F=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let B=$.nativeEvent.submitter,Q=(B==null?void 0:B.getAttribute("formmethod"))||u;N(B||$.currentTarget,{fetcherKey:t,method:Q,navigate:s,replace:o,state:l,relative:g,preventScrollReset:y,viewTransition:v})};return O.createElement("form",{ref:k,method:S,action:_,onSubmit:i?m:F,...x,"data-discover":!P&&n==="render"?"true":void 0})});Zb.displayName="Form";function Xb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qg(n){let t=O.useContext(Fs);return Te(t,Xb(n)),t}function ex(n,{target:t,replace:s,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let f=ir(),m=cn(),g=lo(n,{relative:l});return O.useCallback(y=>{if(Tb(y,t)){y.preventDefault();let v=s!==void 0?s:es(m)===es(g);f(n,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[m,f,g,s,i,t,n,o,l,u])}var tx=0,rx=()=>`__${String(++tx)}__`;function nx(){let{router:n}=Qg("useSubmit"),{basename:t}=O.useContext(Lr),s=pb();return O.useCallback(async(i,o={})=>{let{action:l,method:u,encType:f,formData:m,body:g}=Lb(i,t);if(o.navigate===!1){let y=o.fetcherKey||rx();await n.fetch(y,s,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,t,s])}function sx(n,{relative:t}={}){let{basename:s}=O.useContext(Lr),i=O.useContext(zr);Te(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...lo(n||".",{relative:t})},u=cn();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:Wr([s,l.pathname])),es(l)}function ix(n,t={}){let s=O.useContext(Vd);Te(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Qg("useViewTransitionState"),o=lo(n,{relative:t.relative});if(!s.isTransitioning)return!1;let l=mr(s.currentLocation.pathname,i)||s.currentLocation.pathname,u=mr(s.nextLocation.pathname,i)||s.nextLocation.pathname;return Wl(o.pathname,u)!=null||Wl(o.pathname,l)!=null}[...Fb];var ax=ug();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(n){return O.createElement(_b,{flushSync:ax.flushSync,...n})}const lx=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...s)=>io(async()=>{const{default:i}=await Promise.resolve().then(()=>co);return{default:i}},[]).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)};class Zd extends Error{constructor(t,s="FunctionsError",i){super(t),this.name=s,this.context=i}}class cx extends Zd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ux extends Zd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dx extends Zd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Nd||(Nd={}));var hx=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};class fx{constructor(t,{headers:s={},customFetch:i,region:o=Nd.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=lx(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var i;return hx(this,void 0,void 0,function*(){try{const{headers:o,method:l,body:u}=s;let f={},{region:m}=s;m||(m=this.region),m&&m!=="any"&&(f["x-region"]=m);let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)));const y=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:g}).catch(N=>{throw new cx(N)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new ux(y);if(!y.ok)throw new dx(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return x==="application/json"?k=yield y.json():x==="application/octet-stream"?k=yield y.blob():x==="text/event-stream"?k=y:x==="multipart/form-data"?k=yield y.formData():k=yield y.text(),{data:k,error:null}}catch(o){return{data:null,error:o}}})}}var bt={},yi={},vi={},wi={},bi={},xi={},mx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wi=mx();const px=Wi.fetch,Gg=Wi.fetch.bind(Wi),Jg=Wi.Headers,gx=Wi.Request,yx=Wi.Response,co=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jg,Request:gx,Response:yx,default:Gg,fetch:px},Symbol.toStringTag,{value:"Module"})),vx=h0(co);var Tl={},Np;function Yg(){if(Np)return Tl;Np=1,Object.defineProperty(Tl,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Tl.default=n,Tl}var Sp;function Zg(){if(Sp)return xi;Sp=1;var n=xi&&xi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xi,"__esModule",{value:!0});const t=n(vx),s=n(Yg());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,x;let k=null,N=null,_=null,S=g.status,P=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Q=await g.text();Q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=Q:N=JSON.parse(Q))}const $=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),B=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");$&&B&&B.length>1&&(_=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(k={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,_=null,S=406,P="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const $=await g.text();try{k=JSON.parse($),Array.isArray(k)&&g.status===404&&(N=[],k=null,S=200,P="OK")}catch{g.status===404&&$===""?(S=204,P="No Content"):k={message:$}}if(k&&this.isMaybeSingle&&(!((x=k==null?void 0:k.details)===null||x===void 0)&&x.includes("0 rows"))&&(k=null,S=200,P="OK"),k&&this.shouldThrowOnError)throw new s.default(k)}return{error:k,data:N,count:_,status:S,statusText:P}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,v,x;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(v=g==null?void 0:g.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=g==null?void 0:g.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),m.then(l,u)}returns(){return this}overrideTypes(){return this}}return xi.default=i,xi}var Ep;function Xg(){if(Ep)return bi;Ep=1;var n=bi&&bi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bi,"__esModule",{value:!0});const t=n(Zg());class s extends t.default{select(o){let l=!1;const u=(o??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:f=u}={}){const m=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:m=!1,format:g="text"}={}){var y;const v=[o?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${x}"; options=${v};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return bi.default=s,bi}var Cp;function Xd(){if(Cp)return wi;Cp=1;var n=wi&&wi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wi,"__esModule",{value:!0});const t=n(Xg());class s extends t.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${m}fts${g}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return wi.default=s,wi}var Pp;function ey(){if(Pp)return vi;Pp=1;var n=vi&&vi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vi,"__esModule",{value:!0});const t=n(Xd());class s{constructor(o,{headers:l={},schema:u,fetch:f}){this.url=o,this.headers=l,this.schema=u,this.fetch=f}select(o,{head:l=!1,count:u}={}){const f=l?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",g),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:l,defaultToNull:u=!0}={}){const f="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),l&&m.push(`count=${l}`),u||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const g=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:m=!0}={}){const g="POST",y=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&y.push(this.headers.Prefer),f&&y.push(`count=${f}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(o)){const v=o.reduce((x,k)=>x.concat(Object.keys(k)),[]);if(v.length>0){const x=[...new Set(v)].map(k=>`"${k}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:l}={}){const u="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),this.headers.Prefer=f.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const l="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return vi.default=s,vi}var Ia={},Ua={},jp;function wx(){return jp||(jp=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.version=void 0,Ua.version="0.0.0-automated"),Ua}var Tp;function bx(){if(Tp)return Ia;Tp=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.DEFAULT_HEADERS=void 0;const n=wx();return Ia.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Ia}var Rp;function xx(){if(Rp)return yi;Rp=1;var n=yi&&yi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(yi,"__esModule",{value:!0});const t=n(ey()),s=n(Xd()),i=bx();class o{constructor(u,{headers:f={},schema:m,fetch:g}={}){this.url=u,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=m,this.fetch=g}from(u){const f=new URL(`${this.url}/${u}`);return new t.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:m=!1,get:g=!1,count:y}={}){let v;const x=new URL(`${this.url}/rpc/${u}`);let k;m||g?(v=m?"HEAD":"GET",Object.entries(f).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{x.searchParams.append(_,S)})):(v="POST",k=f);const N=Object.assign({},this.headers);return y&&(N.Prefer=`count=${y}`),new s.default({method:v,url:x,headers:N,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return yi.default=o,yi}var Op;function _x(){if(Op)return bt;Op=1;var n=bt&&bt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const t=n(xx());bt.PostgrestClient=t.default;const s=n(ey());bt.PostgrestQueryBuilder=s.default;const i=n(Xd());bt.PostgrestFilterBuilder=i.default;const o=n(Xg());bt.PostgrestTransformBuilder=o.default;const l=n(Zg());bt.PostgrestBuilder=l.default;const u=n(Yg());return bt.PostgrestError=u.default,bt.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},bt}var kx=_x();const Nx=cg(kx),{PostgrestClient:Sx,PostgrestQueryBuilder:IS,PostgrestFilterBuilder:US,PostgrestTransformBuilder:FS,PostgrestBuilder:BS,PostgrestError:qS}=Nx;let Sd;typeof window>"u"?Sd=require("ws"):Sd=window.WebSocket;const Ex="2.11.10",Cx={"X-Client-Info":`realtime-js/${Ex}`},Px="1.0.0",ty=1e4,jx=1e3;var ji;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ji||(ji={}));var zt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(zt||(zt={}));var Rr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Rr||(Rr={}));var Ed;(function(n){n.websocket="websocket"})(Ed||(Ed={}));var Es;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Es||(Es={}));class Tx{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,s,i)}_decodeBroadcast(t,s,i){const o=s.getUint8(1),l=s.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(t.slice(u,u+o));u=u+o;const m=i.decode(t.slice(u,u+l));u=u+l;const g=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:f,event:m,payload:g}}}class ry{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ze||(Ze={}));const Lp=(n,t,s={})=>{var i;const o=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((l,u)=>(l[u]=Rx(u,n,t,o),l),{})},Rx=(n,t,s,i)=>{const o=t.find(f=>f.name===n),l=o==null?void 0:o.type,u=s[n];return l&&!i.includes(l)?ny(l,u):Cd(u)},ny=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return $x(t,s)}switch(n){case Ze.bool:return Ox(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return Lx(t);case Ze.json:case Ze.jsonb:return zx(t);case Ze.timestamp:return Ax(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Cd(t);default:return Cd(t)}},Cd=n=>n,Ox=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Lx=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},zx=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},$x=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let l;const u=n.slice(1,s);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>ny(t,f))}return n},Ax=n=>typeof n=="string"?n.replace(" ","T"):n,sy=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ed{constructor(t,s,i={},o=ty){this.channel=t,this.event=s,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var i;return this._hasReceived(t)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(zp||(zp={}));class Va{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Va.syncState(this.state,o,l,u),this.pendingDiffs.forEach(m=>{this.state=Va.syncDiff(this.state,m,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Va.syncDiff(this.state,o,l,u),f())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,i,o){const l=this.cloneDeep(t),u=this.transformState(s),f={},m={};return this.map(l,(g,y)=>{u[g]||(m[g]=y)}),this.map(u,(g,y)=>{const v=l[g];if(v){const x=y.map(S=>S.presence_ref),k=v.map(S=>S.presence_ref),N=y.filter(S=>k.indexOf(S.presence_ref)<0),_=v.filter(S=>x.indexOf(S.presence_ref)<0);N.length>0&&(f[g]=N),_.length>0&&(m[g]=_)}else f[g]=y}),this.syncDiff(l,{joins:f,leaves:m},i,o)}static syncDiff(t,s,i,o){const{joins:l,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(f,m)=>{var g;const y=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(m),y.length>0){const v=t[f].map(k=>k.presence_ref),x=y.filter(k=>v.indexOf(k.presence_ref)<0);t[f].unshift(...x)}i(f,y,m)}),this.map(u,(f,m)=>{let g=t[f];if(!g)return;const y=m.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),t[f]=g,o(f,g,m),g.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(i=>s(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,i)=>{const o=t[i];return"metas"in o?s[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[i]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $p;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})($p||($p={}));var Ap;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ap||(Ap={}));var nn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class eh{constructor(t,s={config:{}},i){this.topic=t,this.params=s,this.socket=i,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ed(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new ry(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Va(this),this.broadcastEndpointURL=sy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:u,private:f}}=this.params;this._onError(y=>t==null?void 0:t(nn.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(nn.CLOSED));const m={},g={broadcast:l,presence:u,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){t==null||t(nn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,k=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,N=[];for(let _=0;_<k;_++){const S=x[_],{filter:{event:P,schema:F,table:$,filter:B}}=S,Q=y&&y[_];if(Q&&Q.event===P&&Q.schema===F&&Q.table===$&&Q.filter===B)N.push(Object.assign(Object.assign({},S),{id:Q.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(nn.SUBSCRIBED);return}}).receive("error",y=>{this.state=zt.errored,t==null||t(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,i){return this._on(t,s,i)}async send(t,s={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:u}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,m;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(i=>{const o=new ed(this,Rr.leave,{},t);o.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(l),u}_push(t,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ed(this,t,s,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,s,i){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,i){var o,l;const u=t.toLocaleLowerCase(),{close:f,error:m,leave:g,join:y}=Rr;if(i&&[f,m,g,y].indexOf(u)>=0&&i!==this._joinRef())return;let x=this._onMessage(u,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(k=>{var N,_,S;return((N=k.filter)===null||N===void 0?void 0:N.event)==="*"||((S=(_=k.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(k=>k.callback(x,i)):(l=this.bindings[u])===null||l===void 0||l.filter(k=>{var N,_,S,P,F,$;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in k){const B=k.id,Q=(N=k.filter)===null||N===void 0?void 0:N.event;return B&&((_=s.ids)===null||_===void 0?void 0:_.includes(B))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((S=s.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const B=(F=(P=k==null?void 0:k.filter)===null||P===void 0?void 0:P.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return B==="*"||B===(($=s==null?void 0:s.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===u}).map(k=>{if(typeof x=="object"&&"ids"in x){const N=x.data,{schema:_,table:S,commit_timestamp:P,type:F,errors:$}=N;x=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:P,eventType:F,new:{},old:{},errors:$}),this._getPayloadRecords(N))}k.callback(x,i)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,i){const o=t.toLocaleLowerCase(),l={type:o,filter:s,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,s){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&eh.isEqual(o.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const i in t)if(t[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rr.close,{},t)}_onError(t){this._on(Rr.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Lp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Lp(t.columns,t.old_record)),s}}const Dp=()=>{},Dx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mx{constructor(t,s){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Cx,this.params={},this.timeout=ty,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dp,this.ref=0,this.logger=Dp,this.conn=null,this.sendBuffer=[],this.serializer=new Tx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...f)=>io(async()=>{const{default:m}=await import("./index-kVhxXpS2.js");return{default:m}},[]).then(({default:m})=>m(...f)):u=fetch,(...f)=>u(...f)},this.endPoint=`${t}/${Ed.websocket}`,this.httpEndpoint=sy(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const o=(i=s==null?void 0:s.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(l,u)=>u(JSON.stringify(l)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ry(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Sd),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ix(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Px}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels=this.channels.filter(i=>i._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,i){this.logger(t,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ji.connecting:return Es.Connecting;case ji.open:return Es.Open;case ji.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}channel(t,s={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new eh(`realtime:${t}`,s,this);return this.channels.push(l),l}}push(t){const{topic:s,event:i,payload:o,ref:l}=t,u=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),i.joinedOnce&&i._isJoined()&&i._push(Rr.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(jx,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:i,event:o,payload:l,ref:u}=s;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${i} ${o} ${u&&"("+u+")"||""}`,l),Array.from(this.channels).filter(f=>f._isMember(i)).forEach(f=>f._trigger(o,l,u)),this.stateChangeCallbacks.message.forEach(f=>f(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rr.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${i}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const i=new Blob([Dx],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}}class Ix{constructor(t,s,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ji.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Ux extends th{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pd extends th{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Fx=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};const iy=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...s)=>io(async()=>{const{default:i}=await Promise.resolve().then(()=>co);return{default:i}},void 0).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)},Bx=()=>Fx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield io(()=>Promise.resolve().then(()=>co),void 0)).Response:Response}),jd=n=>{if(Array.isArray(n))return n.map(s=>jd(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,i])=>{const o=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=jd(i)}),t};var Bs=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};const td=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),qx=(n,t,s)=>Bs(void 0,void 0,void 0,function*(){const i=yield Bx();n instanceof i&&!(s!=null&&s.noResolveJson)?n.json().then(o=>{t(new Ux(td(o),n.status||500))}).catch(o=>{t(new Pd(td(o),o))}):t(new Pd(td(n),n))}),Wx=(n,t,s,i)=>{const o={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),s))};function uo(n,t,s,i,o,l){return Bs(this,void 0,void 0,function*(){return new Promise((u,f)=>{n(s,Wx(t,i,o,l)).then(m=>{if(!m.ok)throw m;return i!=null&&i.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>qx(m,f,i))})})}function Kl(n,t,s,i){return Bs(this,void 0,void 0,function*(){return uo(n,"GET",t,s,i)})}function Un(n,t,s,i,o){return Bs(this,void 0,void 0,function*(){return uo(n,"POST",t,i,o,s)})}function Hx(n,t,s,i,o){return Bs(this,void 0,void 0,function*(){return uo(n,"PUT",t,i,o,s)})}function Vx(n,t,s,i){return Bs(this,void 0,void 0,function*(){return uo(n,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function ay(n,t,s,i,o){return Bs(this,void 0,void 0,function*(){return uo(n,"DELETE",t,i,o,s)})}var Qt=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};const Kx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qx{constructor(t,s={},i,o){this.url=t,this.headers=s,this.bucketId=i,this.fetch=iy(o)}uploadOrUpdate(t,s,i,o){return Qt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Mp),o);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),m&&l.append("metadata",this.encodeMetadata(m)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),m&&l.append("metadata",this.encodeMetadata(m))):(l=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(f=Object.assign(Object.assign({},f),o.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),v=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:t,body:l,headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{})),x=yield v.json();return v.ok?{data:{path:g,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(l){if(xt(l))return{data:null,error:l};throw l}})}upload(t,s,i){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,i)})}uploadToSignedUrl(t,s,i,o){return Qt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",s);try{let m;const g=Object.assign({upsert:Mp.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield this.fetch(f.toString(),{method:"PUT",body:m,headers:y}),x=yield v.json();return v.ok?{data:{path:l,fullPath:x.Key},error:null}:{data:null,error:x}}catch(m){if(xt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,s){return Qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const l=yield Un(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new th("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}update(t,s,i){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,i)})}move(t,s,i){return Qt(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(xt(o))return{data:null,error:o};throw o}})}copy(t,s,i){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(xt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,s,i){return Qt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),l=yield Un(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(xt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,s,i){return Qt(this,void 0,void 0,function*(){try{const o=yield Un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(xt(o))return{data:null,error:o};throw o}})}download(t,s){return Qt(this,void 0,void 0,function*(){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),u=l?`?${l}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield Kl(this.fetch,`${this.url}/${o}/${f}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(xt(f))return{data:null,error:f};throw f}})}info(t){return Qt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const i=yield Kl(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:jd(i),error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}exists(t){return Qt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Vx(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(xt(i)&&i instanceof Pd){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,s){const i=this._getFinalPath(t),o=[],l=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&o.push(l);const f=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${g}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}list(t,s,i){return Qt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Kx),s),{prefix:t||""});return{data:yield Un(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(xt(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Gx="2.7.1",Jx={"X-Client-Info":`storage-js/${Gx}`};var _i=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};class Yx{constructor(t,s={},i){this.url=t,this.headers=Object.assign(Object.assign({},Jx),s),this.fetch=iy(i)}listBuckets(){return _i(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}getBucket(t){return _i(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return _i(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}updateBucket(t,s){return _i(this,void 0,void 0,function*(){try{return{data:yield Hx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return _i(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return _i(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}}class Zx extends Yx{constructor(t,s={},i){super(t,s,i)}from(t){return new Qx(this.url,this.headers,t,this.fetch)}}const Xx="2.50.0";let Wa="";typeof Deno<"u"?Wa="deno":typeof document<"u"?Wa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wa="react-native":Wa="node";const e_={"X-Client-Info":`supabase-js-${Wa}/${Xx}`},t_={headers:e_},r_={schema:"public"},n_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s_={};var i_=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};const a_=n=>{let t;return n?t=n:typeof fetch>"u"?t=Gg:t=fetch,(...s)=>t(...s)},o_=()=>typeof Headers>"u"?Jg:Headers,l_=(n,t,s)=>{const i=a_(s),o=o_();return(l,u)=>i_(void 0,void 0,void 0,function*(){var f;const m=(f=yield t())!==null&&f!==void 0?f:n;let g=new o(u==null?void 0:u.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),i(l,Object.assign(Object.assign({},u),{headers:g}))})};var c_=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};function u_(n){return n.endsWith("/")?n:n+"/"}function d_(n,t){var s,i;const{db:o,auth:l,realtime:u,global:f}=n,{db:m,auth:g,realtime:y,global:v}=t,x={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},y),u),global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(s=v==null?void 0:v.headers)!==null&&s!==void 0?s:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>c_(this,void 0,void 0,function*(){return""})};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}const oy="2.70.0",Ci=30*1e3,Td=3,rd=Td*Ci,h_="http://localhost:9999",f_="supabase.auth.token",m_={"X-Client-Info":`gotrue-js/${oy}`},Rd="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g_=6e5;class rh extends Error{constructor(t,s,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function Ne(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class y_ extends rh{constructor(t,s,i){super(t,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function v_(n){return Ne(n)&&n.name==="AuthApiError"}class cy extends rh{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class rs extends rh{constructor(t,s,i,o){super(t,i,o),this.name=s,this.status=i}}class In extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function w_(n){return Ne(n)&&n.name==="AuthSessionMissingError"}class Rl extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ol extends rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ll extends rs{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function b_(n){return Ne(n)&&n.name==="AuthImplicitGrantRedirectError"}class Ip extends rs{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Od extends rs{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function nd(n){return Ne(n)&&n.name==="AuthRetryableFetchError"}class Up extends rs{constructor(t,s,i){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Ka extends rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fp=` 	
\r=`.split(""),x_=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Fp.length;t+=1)n[Fp[t].charCodeAt(0)]=-2;for(let t=0;t<Ql.length;t+=1)n[Ql[t].charCodeAt(0)]=t;return n})();function Bp(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Ql[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;s(Ql[i]),t.queuedBits-=6}}function uy(n,t,s){const i=x_[n];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function qp(n){const t=[],s=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{N_(u,i,s)};for(let u=0;u<n.length;u+=1)uy(n.charCodeAt(u),o,l);return t.join("")}function __(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function k_(n,t){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}__(i,t)}}function N_(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function S_(n){const t=[],s={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)uy(n.charCodeAt(o),s,i);return new Uint8Array(t)}function E_(n){const t=[];return k_(n,s=>t.push(s)),new Uint8Array(t)}function C_(n){const t=[],s={queue:0,queuedBits:0},i=o=>{t.push(o)};return n.forEach(o=>Bp(o,s,i)),Bp(null,s,i),t.join("")}function P_(n){return Math.round(Date.now()/1e3)+n}function j_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}const Pr=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},Qa=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function T_(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return s.searchParams.forEach((i,o)=>{t[o]=i}),t}const dy=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...s)=>io(async()=>{const{default:i}=await Promise.resolve().then(()=>co);return{default:i}},void 0).then(({default:i})=>i(...s)):t=fetch,(...s)=>t(...s)},R_=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",hy=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},zl=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},$l=async(n,t)=>{await n.removeItem(t)};class rc{constructor(){this.promise=new rc.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}rc.promiseConstructor=Promise;function sd(n){const t=n.split(".");if(t.length!==3)throw new Ka("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!p_.test(t[i]))throw new Ka("JWT not in base64url format");return{header:JSON.parse(qp(t[0])),payload:JSON.parse(qp(t[1])),signature:S_(t[2]),raw:{header:t[0],payload:t[1]}}}async function O_(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function L_(n,t){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!t(l,null,u)){i(u);return}}catch(u){if(!t(l,u)){o(u);return}}})()})}function z_(n){return("0"+n.toString(16)).substr(-2)}function $_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let o="";for(let l=0;l<56;l++)o+=s.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,z_).join("")}async function A_(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function D_(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await A_(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ki(n,t,s=!1){const i=$_();let o=i;s&&(o+="/PASSWORD_RECOVERY"),await hy(n,`${t}-code-verifier`,o);const l=await D_(i);return[l,i===l?"plain":"s256"]}const M_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I_(n){const t=n.headers.get(Rd);if(!t||!t.match(M_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U_(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function F_(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const B_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ni(n){if(!B_.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var q_=function(n,t){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s};const Ns=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),W_=[502,503,504];async function Wp(n){var t;if(!R_(n))throw new Od(Ns(n),0);if(W_.includes(n.status))throw new Od(Ns(n),n.status);let s;try{s=await n.json()}catch(l){throw new cy(Ns(l),l)}let i;const o=I_(n);if(o&&o.getTime()>=ly["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Up(Ns(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new In}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Up(Ns(s),n.status,s.weak_password.reasons);throw new y_(Ns(s),n.status||500,i)}const H_=(n,t,s,i)=>{const o={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),s))};async function Oe(n,t,s,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[Rd]||(l[Rd]=ly["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await V_(n,t,s+f,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(m):{data:Object.assign({},m),error:null}}async function V_(n,t,s,i,o,l){const u=H_(t,i,o,l);let f;try{f=await n(s,Object.assign({},u))}catch(m){throw console.error(m),new Od(Ns(m),0)}if(f.ok||await Wp(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(m){await Wp(m)}}function rn(n){var t;let s=null;J_(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=P_(n.expires_in)));const i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:i},error:null}}function Hp(n){const t=rn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Bn(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function K_(n){return{data:n,error:null}}function Q_(n){const{action_link:t,email_otp:s,hashed_token:i,redirect_to:o,verification_type:l}=n,u=q_(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:i,redirect_to:o,verification_type:l},m=Object.assign({},u);return{data:{properties:f,user:m},error:null}}function G_(n){return n}function J_(n){return n.access_token&&n.refresh_token&&n.expires_in}const id=["global","local","others"];var Y_=function(n,t){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s};class Z_{constructor({url:t="",headers:s={},fetch:i}){this.url=t,this.headers=s,this.fetch=dy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=id[0]){if(id.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${id.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,s={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Bn})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:s}=t,i=Y_(t,["options"]),o=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Q_,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Bn})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,i,o,l,u,f,m;try{const g={nextPage:null,lastPage:0,total:0},y=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:G_});if(y.error)throw y.error;const v=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,k=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return k.length>0&&(k.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(N.split(";")[1].split("=")[1]);g[`${S}Page`]=_}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(Ne(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Ni(t);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Bn})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Ni(t);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Bn})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,s=!1){Ni(t);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Bn})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Ni(t.userId);try{const{data:s,error:i}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:i}}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Ni(t.userId),Ni(t.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}}}const X_={getItem:n=>Qa()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{Qa()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{Qa()&&globalThis.localStorage.removeItem(n)}};function Vp(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}function e1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Si={debug:!!(globalThis&&Qa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t1 extends fy{}async function r1(n,t,s){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await s()}finally{Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new t1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Si.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}e1();const n1={url:h_,storageKey:f_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kp(n,t,s){return await s()}class Za{constructor(t){var s,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Za.nextInstanceID,Za.nextInstanceID+=1,this.instanceID>0&&Pr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},n1),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Z_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dy(o.fetch),this.lock=o.lock||Kp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Pr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=r1:this.lock=Kp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Qa()?this.storage=X_:(this.memoryStorage={},this.storage=Vp(this.memoryStorage)):(this.memoryStorage={},this.storage=Vp(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=T_(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),Pr()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(s,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),b_(l)){const m=(t=l.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ne(s)?{error:s}:{error:new cy("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,i,o;try{const l=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:rn}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const m=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(l){if(Ne(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var s,i,o;try{let l;if("email"in t){const{email:y,password:v,options:x}=t;let k=null,N=null;this.flowType==="pkce"&&([k,N]=await ki(this.storage,this.storageKey)),l=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:v,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:k,code_challenge_method:N},xform:rn})}else if("phone"in t){const{phone:y,password:v,options:x}=t;l=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:rn})}else throw new Ol("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const m=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(l){if(Ne(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let s;if("email"in t){const{email:l,password:u,options:f}=t;s=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Hp})}else if("phone"in t){const{phone:l,password:u,options:f}=t;s=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Hp})}else throw new Ol("You must provide either an email or phone number and a password");const{data:i,error:o}=s;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Rl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,i,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,i,o,l,u,f,m,g,y,v,x,k;let N,_;if("message"in t)N=t.message,_=t.signature;else{const{chain:S,wallet:P,statement:F,options:$}=t;let B;if(Pr())if(typeof P=="object")B=P;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))B=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=P}const Q=new URL((s=$==null?void 0:$.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in B&&B.signIn){const z=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$==null?void 0:$.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),F?{statement:F}:null));let ae;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")ae=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)ae=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)N=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),_=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${Q.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(o=(i=$==null?void 0:$.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=$==null?void 0:$.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((u=$==null?void 0:$.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((f=$==null?void 0:$.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((m=$==null?void 0:$.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((g=$==null?void 0:$.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((v=(y=$==null?void 0:$.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...$.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const z=await B.signMessage(new TextEncoder().encode(N),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=z}}try{const{data:S,error:P}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:C_(_)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:rn});if(P)throw P;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Rl}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:P})}catch(S){if(Ne(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const s=await zl(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(s??"").split("/");try{const{data:l,error:u}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:rn});if(await $l(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Rl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(Ne(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:s,provider:i,token:o,access_token:l,nonce:u}=t,f=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:rn}),{data:m,error:g}=f;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Rl}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,i,o,l,u;try{if("email"in t){const{email:f,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ki(this.storage,this.storageKey));const{error:v}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:f,options:m}=t,{data:g,error:y}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new Ol("You must provide either an email or phone number.")}catch(f){if(Ne(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var s,i;try{let o,l;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:rn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,g=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(o){if(Ne(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var s,i,o;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await ki(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:K_})}catch(l){if(Ne(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:i}=t;if(i)throw i;if(!s)throw new In;const{error:o}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:l}=t,{error:u}=await Oe(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:o,options:l}=t,{data:u,error:f}=await Oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Ol("You must provide either an email or phone number and a type")}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await zl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,g,y)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,y))})}return{data:{session:t},error:null}}const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Bn}):await this._useSession(async s=>{var i,o,l;const{data:u,error:f}=s;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new In}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Bn})})}catch(s){if(Ne(s))return w_(s)&&(await this._removeSession(),await $l(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new In;const u=o.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await ki(this.storage,this.storageKey));const{data:g,error:y}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:u.access_token,xform:Bn});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new In;const s=Date.now()/1e3;let i=s,o=!0,l=null;const{payload:u}=sd(t.access_token);if(u.exp&&(i=u.exp,o=i<=s),o){const{session:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;l={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(s){if(Ne(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var i;if(!t){const{data:u,error:f}=s;if(f)throw f;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new In;const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Ne(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Pr())throw new Ll("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ll(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ip("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ll("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ip("No code detected.");const{data:F,error:$}=await this._exchangeCodeForSession(t.code);if($)throw $;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:f,expires_at:m,token_type:g}=t;if(!l||!f||!u||!g)throw new Ll("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let x=y+v;m&&(x=parseInt(m));const k=x-y;k*1e3<=Ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${v}s`);const N=x-v;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,x,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,x,y);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const P={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:x,refresh_token:u,token_type:g,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:t.type},error:null}}catch(i){if(Ne(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await zl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:o,error:l}=s;if(l)return{error:l};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(v_(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await $l(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=j_(),i={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async s=>{var i,o;try{const{data:{session:l},error:u}=s;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,s={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ki(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(Ne(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:i,error:o}=await this._useSession(async l=>{var u,f,m,g,y;const{data:v,error:x}=l;if(x)throw x;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",k,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Pr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ne(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var i,o;const{data:l,error:u}=s;if(u)throw u;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await L_(async o=>(o>0&&await O_(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rn})),(o,l)=>{const u=200*Math.pow(2,o);return l&&nd(l)&&Date.now()+u-i<Ci})}catch(i){if(this._debug(s,"error",i),Ne(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",i),Pr()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await zl(this.storage,this.storageKey);if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<rd;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${rd}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),nd(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,i;if(!t)throw new In;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new rc;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new In;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={session:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(o,"error",l),Ne(l)){const u={session:null,error:l};return nd(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:s});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(m){l.push(m)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hy(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await $l(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ci);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/Ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ci}ms, refresh threshold is ${Td} ticks`),o<=Td&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,i){const o=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await ki(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(f.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var i;const{data:o,error:l}=s;return l?{data:null,error:l}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var i,o;const{data:l,error:u}=s;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:g}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:l}=s;if(l)return{data:null,error:l};const{data:u,error:f}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:l}=s;return l?{data:null,error:l}:await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(t==null?void 0:t.factors)||[],o=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:o,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,i;const{data:{session:o},error:l}=t;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=sd(o.access_token);let f=null;u.aal&&(f=u.aal);let m=f;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=u.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,s={keys:[]}){let i=s.keys.find(u=>u.kid===t);if(i||(i=this.jwks.keys.find(u=>u.kid===t),i&&this.jwks_cached_at+g_>Date.now()))return i;const{data:o,error:l}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new Ka("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(u=>u.kid===t),!i)throw new Ka("No matching signing key found in JWKS");return i}async getClaims(t,s={keys:[]}){try{let i=t;if(!i){const{data:k,error:N}=await this.getSession();if(N||!k.session)return{data:null,error:N};i=k.session.access_token}const{header:o,payload:l,signature:u,raw:{header:f,payload:m}}=sd(i);if(U_(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:k}=await this.getUser(i);if(k)throw k;return{data:{claims:l,header:o,signature:u},error:null}}const g=F_(o.alg),y=await this.fetchJwk(o.kid,s),v=await crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,E_(`${f}.${m}`)))throw new Ka("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}}Za.nextInstanceID=0;const s1=Za;class i1 extends s1{constructor(t){super(t)}}var a1=function(n,t,s,i){function o(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function f(y){try{g(i.next(y))}catch(v){u(v)}}function m(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(f,m)}g((i=i.apply(n,t||[])).next())})};class o1{constructor(t,s,i){var o,l,u;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const f=u_(t),m=new URL(f);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:r_,realtime:s_,auth:Object.assign(Object.assign({},n_),{storageKey:g}),global:t_},v=d_(i??{},y);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=l_(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Sx(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new fx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zx(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},i={}){return this.rest.rpc(t,s,i)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return a1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:o,storageKey:l,flowType:u,lock:f,debug:m},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new i1({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:l,autoRefreshToken:t,persistSession:s,detectSessionInUrl:i,storage:o,flowType:u,lock:f,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Mx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,s,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l1=(n,t,s)=>new o1(n,t,s),c1="https://jirddienqawoszvxrkwk.supabase.co",u1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImppcmRkaWVucWF3b3N6dnhya3drIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0NzU4MjksImV4cCI6MjA2NTA1MTgyOX0.wTIlgE652s1PfkbkpmvrDI_VA7T2Pp20Igm4VVz3sk8",on=l1(c1,u1),my=O.createContext(void 0);function d1({children:n}){const[t,s]=O.useState(null),[i,o]=O.useState(null),[l,u]=O.useState(!0),f=async(y,v)=>{console.log(" LOGIN WYWOANY:",{email:y});try{console.log(" WYSYAM ZAPYTANIE DO SUPABASE...");const{data:x,error:k}=await on.auth.signInWithPassword({email:y,password:v});if(console.log(" ODPOWIED Z SUPABASE:",{hasData:!!x,hasError:!!k,errorMessage:k==null?void 0:k.message}),k)throw console.error(" BD LOGOWANIA:",k),k;console.log(" LOGOWANIE UDANE")}catch(x){throw console.error(" WYJTEK W LOGIN:",x),x}},m=async(y,v,x,k="student")=>{console.log(" REGISTER WYWOANY:",{email:y,username:x,role:k});try{const{error:N}=await on.auth.signUp({email:y,password:v,options:{data:{username:x||y.split("@")[0],role:k}}});if(N)throw N}catch(N){throw console.error(" BD REJESTRACJI:",N),N}},g=async()=>{const{error:y}=await on.auth.signOut();if(y)throw y;s(null),o(null)};return O.useEffect(()=>{console.log(" USEAUTH INICJALIZACJA"),on.auth.getSession().then(({data:{session:v}})=>{console.log(" AKTUALNA SESJA:",!!v),u(!1)});const{data:{subscription:y}}=on.auth.onAuthStateChange(async(v,x)=>{var k,N;if(console.log(" AUTH STATE CHANGE:",{event:v,hasSession:!!x}),x!=null&&x.user){const _=((k=x.user.user_metadata)==null?void 0:k.role)||"student";s({id:x.user.id,email:x.user.email||"",username:(N=x.user.user_metadata)==null?void 0:N.username,role:_})}else s(null),o(null)});return()=>y.unsubscribe()},[]),console.log(" USEAUTH RENDER:",{hasUser:!!t,loading:l,hasDelegated:!!i}),d(my.Provider,{value:{user:t,loading:l,delegatedUser:i,login:f,register:m,logout:g,setDelegatedUser:o},children:n})}function pr(){const n=O.useContext(my);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function h1(){const{login:n}=pr(),[t,s]=O.useState({email:"",password:""}),[i,o]=O.useState(!1),[l,u]=O.useState(null),[f,m]=O.useState(!1),g=N=>{const{name:_,value:S}=N.target;s(P=>({...P,[_]:S})),l&&u(null)},y=async N=>{console.log(" PERFORM LOGIN:",N),o(!0),u(null);try{console.log(" WYWOUJ AUTH.LOGIN..."),await n(N.email,N.password),console.log(" AUTH.LOGIN ZAKOCZONY"),m(!0)}catch(_){console.error(" BD W PERFORM LOGIN:",_),u(_)}finally{o(!1)}};return{formData:t,handleInputChange:g,handleSubmit:async N=>{if(N.preventDefault(),console.log(" HANDLE SUBMIT:",t),!t.email||!t.password){u(new Error("Email i haso s wymagane"));return}await y(t)},loginWithTestData:async()=>{console.log(" TEST DATA LOGIN");const N={email:"dadmor+admin1@gmail.com",password:"dadmor+admin1@gmail.com"};s(N),await y(N)},reset:()=>{o(!1),u(null),m(!1),s({email:"",password:""})},isLoading:i,error:l,isSuccess:f,data:f?{success:!0}:null}}const f1={path:"/auth/login",title:"Login"};function m1(){const n=ir(),{user:t}=pr(),{formData:s,handleInputChange:i,handleSubmit:o,isLoading:l,error:u,data:f}=h1();return O.useEffect(()=>{t&&(console.log(" UYTKOWNIK ZALOGOWANY, PRZEKIEROWANIE:",t),t.role==="teacher"?n("/auth/teacher-welcome"):n("/auth/student-welcome"))},[t,n]),d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:w("div",{className:"card-body",children:[d("img",{src:"/assets/smart-edi-play-logo.svg",alt:"Smart EDI Play Logo",className:"w-36 mx-auto mt-4 mb-2"}),d("div",{className:"divider"}),w("div",{className:"text-center mb-6",children:[d("h1",{className:"text-3xl font-bold text-primary",children:"Logowanie"}),d("p",{className:"text-base-content/70 mt-2",children:"Witaj ponownie! Zaloguj si do swojego konta"})]}),w("form",{onSubmit:o,className:"space-y-4",children:[w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Email"})}),d("input",{type:"email",name:"email",value:s.email,onChange:i,placeholder:"Wprowad swj email",className:"input input-bordered w-full",required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Haso"})}),d("input",{type:"password",name:"password",value:s.password,onChange:i,placeholder:"Wprowad swoje haso",className:"input input-bordered w-full",required:!0})]}),u&&d("div",{className:"alert alert-error",children:d("span",{children:u.message})}),f&&d("div",{className:"alert alert-success",children:d("span",{children:"Logowanie udane! Przekierowanie..."})}),d("div",{className:"form-control mt-6",children:d("button",{type:"submit",className:`btn btn-primary w-full ${l?"loading":""}`,disabled:l,children:l?"Logowanie...":"Zaloguj si"})})]}),d("div",{className:"divider",children:"LUB"}),w("div",{className:"text-center mt-4",children:[w("p",{className:"text-base-content/70",children:["Nie masz konta?"," ",d(ze,{to:"/auth/register",className:"link link-primary font-medium",children:"Zarejestruj si"})]}),d("p",{className:"text-base-content/70 mt-2",children:d(ze,{to:"/auth/login?agentMode=true",className:"link link-secondary text-sm",children:"Tryb agenta"})})]})]})})})}const p1=Object.freeze(Object.defineProperty({__proto__:null,default:m1,routeConfig:f1},Symbol.toStringTag,{value:"Module"})),g1={path:"/auth/register",title:"Register"};function y1(){const[n,t]=O.useState({email:"",username:"",password:"",confirmPassword:"",role:"student"}),[s,i]=O.useState(!0),[o,l]=O.useState(null),[u,f]=O.useState(!1),{register:m,loading:g}=pr(),y=k=>{const{name:N,value:_}=k.target;if(t(S=>({...S,[N]:_})),N==="password"||N==="confirmPassword"){const S=N==="password"?_:n.password,P=N==="confirmPassword"?_:n.confirmPassword;i(S===P)}},v=async k=>{if(k.preventDefault(),!!s){l(null),f(!1);try{await m(n.email,n.password,n.username,n.role),f(!0)}catch(N){l(N)}}},x=async k=>{const N={email:k==="student"?"student@example.com":"teacher@example.com",username:k==="student"?"teststudent":"testteacher",password:"password123",confirmPassword:"password123",role:k};t(N),l(null),f(!1);try{await m(N.email,N.password,N.username,N.role),f(!0)}catch(_){l(_)}};return d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:w("div",{className:"card-body",children:[w("div",{className:"text-center mb-6",children:[d("h1",{className:"text-3xl font-bold text-primary",children:"Rejestracja"}),d("p",{className:"text-base-content/70 mt-2",children:"Utwrz nowe konto"})]}),w("form",{onSubmit:v,className:"space-y-4",children:[w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Email"})}),d("input",{type:"email",name:"email",value:n.email,onChange:y,placeholder:"Wprowad swj email",className:"input input-bordered w-full",required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Nazwa uytkownika"})}),d("input",{type:"text",name:"username",value:n.username,onChange:y,placeholder:"Wprowad nazw uytkownika",className:"input input-bordered w-full",required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Rola"})}),w("select",{name:"role",value:n.role,onChange:y,className:"select select-bordered w-full",required:!0,children:[d("option",{value:"student",children:" Student"}),d("option",{value:"teacher",children:" Nauczyciel"})]})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Haso"})}),d("input",{type:"password",name:"password",value:n.password,onChange:y,placeholder:"Wprowad haso",className:"input input-bordered w-full",required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text font-medium",children:"Potwierd haso"})}),d("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:y,placeholder:"Potwierd haso",className:`input input-bordered w-full ${!s&&n.confirmPassword?"input-error":""}`,required:!0}),!s&&n.confirmPassword&&d("label",{className:"label",children:d("span",{className:"label-text-alt text-error",children:"Hasa nie pasuj"})})]}),o&&d("div",{className:"alert alert-error",children:d("span",{children:o.message})}),u&&d("div",{className:"alert alert-success",children:d("span",{children:"Rejestracja udana! Sprawd email w celu potwierdzenia konta."})}),d("div",{className:"form-control mt-6",children:d("button",{type:"submit",className:`btn btn-primary w-full ${g?"loading":""}`,disabled:g||!s,children:g?"Rejestrowanie...":"Zarejestruj si"})})]}),d("div",{className:"divider",children:"LUB"}),w("div",{className:"flex gap-2",children:[d("button",{onClick:()=>x("student"),className:"btn btn-outline btn-info flex-1",disabled:g,children:" Test Student"}),d("button",{onClick:()=>x("teacher"),className:"btn btn-outline btn-secondary flex-1",disabled:g,children:" Test Teacher"})]}),w("div",{className:"text-center mt-4",children:[w("p",{className:"text-base-content/70",children:["Masz ju konto?"," ",d(ze,{to:"/auth/login",className:"link link-primary font-medium",children:"Zaloguj si"})]}),d("p",{className:"text-base-content/70 mt-2",children:d(ze,{to:"/auth/register?agentMode=true",className:"link link-secondary text-sm",children:"Tryb agenta"})})]})]})})})}const v1=Object.freeze(Object.defineProperty({__proto__:null,default:y1,routeConfig:g1},Symbol.toStringTag,{value:"Module"})),Ur={default:{bg:"bg-base-100",border:"border-gray-200/60",text:""},success:{bg:"bg-green-50/30",border:"border-green-200/40",text:""},warning:{bg:"bg-amber-50/30",border:"border-amber-200/40",text:""},info:{bg:"bg-blue-50/30",border:"border-blue-200/40",text:""},accent:{bg:"bg-purple-50/30",border:"border-purple-200/40",text:""},purple:{bg:"bg-purple-100",border:"border-purple-600",text:"text-purple-600"},amber:{bg:"bg-amber-100",border:"border-amber-600",text:"text-amber-600"},green:{bg:"bg-green-100",border:"border-green-600",text:"text-green-600"},blue:{bg:"bg-blue-100",border:"border-blue-600",text:"text-blue-600"},rose:{bg:"bg-rose-50/50",border:"border-rose-600",text:"text-rose-600"},yellow:{bg:"bg-yellow-50/50",border:"border-yellow-600",text:"text-yellow-600"}};function w1({children:n,className:t="",hover:s=!1,variant:i="default"}){const o=Ur[i];return d("div",{className:`
        card rounded-xl border shadow-sm
        ${o.bg}
        ${o.border}
        ${s?"hover:shadow-md hover:border-gray-300/60 transition-all duration-300 hover:-translate-y-0.5":""}
        ${t}
      `,children:n})}function nh({icon:n,title:t,description:s,actionLabel:i,onAction:o}){return w("div",{className:"flex flex-col items-center justify-center py-16 px-8",children:[d("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-gray-50 to-gray-100/80 rounded-3xl flex items-center justify-center shadow-sm border border-gray-200/40",children:n}),d("h2",{className:"text-xl font-semibold text-gray-900 mb-3 text-center max-w-sm",children:t}),d("p",{className:"text-gray-600 mb-8 leading-relaxed text-center max-w-md text-sm",children:s}),i&&o&&d("button",{className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl text-sm font-medium hover:bg-gray-800 transition-colors shadow-sm",onClick:o,children:i})]})}function py({message:n="adowanie..."}){return d("div",{className:"min-h-screen flex items-center justify-center bg-gray-50/30",children:w("div",{className:"flex flex-col items-center gap-6",children:[d("div",{className:"relative",children:d("div",{className:"w-8 h-8 border-2 border-gray-200 border-t-blue-500 rounded-full animate-spin"})}),d("p",{className:"text-gray-600 font-medium text-sm",children:n})]})})}function Ha({icon:n,value:t,label:s,subLabel:i,color:o}){const l=Ur[o];return w("div",{className:"text-center",children:[d("div",{className:`w-16 h-16 ${l.bg} rounded-xl flex items-center justify-center mx-auto mb-3`,children:n}),d("div",{className:`text-3xl font-bold ${l.text}`,children:t}),d("div",{className:"text-sm text-gray-600",children:s}),i&&d("div",{className:`text-xs ${l.text} mt-1`,children:i})]})}function gy({title:n,subtitle:t,variant:s="default",className:i=""}){const o={default:Ur.default.border,courses:Ur.blue.border,dashboard:Ur.green.border,lesson:Ur.purple.border,progress:Ur.green.border,achievements:Ur.amber.border,leaderboard:Ur.rose.border};return d("div",{className:`border-b border-slate-200 bg-base-100 ${i}`,children:d("div",{className:"container space-y-1 pb-8 pt-6 md:pb-12 md:pt-10 lg:py-16",children:w("div",{className:`border-l-8 pl-8 space-y-2 ${o[s]}`,children:[d("h1",{className:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",children:n}),d("p",{className:"text-lg text-muted-foreground sm:text-xl",children:t})]})})})}function sh({percentage:n}){return d("div",{className:"bg-gray-200 rounded-full h-3",children:d("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-1000",style:{width:`${n}%`}})})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,i)=>i?i.toUpperCase():s.toLowerCase()),Qp=n=>{const t=x1(n);return t.charAt(0).toUpperCase()+t.slice(1)},yy=(...n)=>n.filter((t,s,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===s).join(" ").trim(),_1=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=O.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},m)=>O.createElement("svg",{ref:m,...k1,width:t,height:t,stroke:n,strokeWidth:i?Number(s)*24/Number(t):s,className:yy("lucide",o),...!l&&!_1(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,y])=>O.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(n,t)=>{const s=O.forwardRef(({className:i,...o},l)=>O.createElement(N1,{ref:l,iconNode:t,className:yy(`lucide-${b1(Qp(n))}`,`lucide-${n}`,i),...o}));return s.displayName=Qp(n),s};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],vy=Le("arrow-down",S1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],C1=Le("arrow-left",E1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],wy=Le("arrow-up",P1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],by=Le("award",j1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dn=Le("book-open",T1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ld=Le("book",R1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],zd=Le("brain",O1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gl=Le("calendar",L1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xy=Le("chart-column",z1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gp=Le("chevron-right",$1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],D1=Le("circle-alert",A1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jp=Le("circle-check-big",M1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xa=Le("circle-check",I1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],F1=Le("circle-play",U1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],eo=Le("clock",B1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],W1=Le("crown",q1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ih=Le("flame",H1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],K1=Le("funnel",V1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],G1=Le("gem",Q1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Jl=Le("house",J1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z1=Le("lock",Y1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ek=Le("log-out",X1);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_y=Le("medal",tk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M5 12h14",key:"1ays0h"}]],ky=Le("minus",rk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],sk=Le("moon",nk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],ak=Le("pen-tool",ik);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],lk=Le("play",ok);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uk=Le("search",ck);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hk=Le("shield",dk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ti=Le("star",fk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],pk=Le("sun",mk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],As=Le("target",gk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Is=Le("trending-up",yk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Us=Le("trophy",vk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bk=Le("user",wk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_k=Le("users",xk);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ah=Le("zap",kk);function Ul({title:n,value:t,icon:s,color:i="blue",trend:o}){const l=Ur[i],u=m=>{switch(m){case"up":return d(wy,{className:"w-3 h-3"});case"down":return d(vy,{className:"w-3 h-3"});case"stable":return d(ky,{className:"w-3 h-3"})}};return d(w1,{hover:!0,className:"p-6",children:w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex-1",children:[w("div",{className:"flex items-center justify-between mb-2",children:[d("p",{className:"text-sm font-medium text-gray-500 tracking-wide",children:n}),o&&w("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium ${(m=>{switch(m){case"up":return"text-green-600 bg-green-50";case"down":return"text-rose-600 bg-rose-50";case"stable":return"text-gray-600 bg-gray-50"}})(o.direction)}`,children:[u(o.direction),d("span",{children:o.value})]})]}),d("p",{className:`text-2xl font-bold ${l.text} tracking-tight`,children:t})]}),d("div",{className:`w-12 h-12 ${l.bg} rounded-xl flex items-center justify-center border border-gray-200/40`,children:d("div",{className:l.text,children:s})})]})})}const Nk={path:"/auth/student-welcome",title:"Student welcome"};function Sk(){const{user:n,logout:t}=pr(),s=ir(),i=[{icon:d(Ld,{className:"w-8 h-8 text-info"}),title:"Kursy",desc:"Przegldaj dostpne kursy",path:"/student/courses",bgColor:"bg-info/10"},{icon:d(ak,{className:"w-8 h-8 text-success"}),title:"Zadania",desc:"Rozwizuj wiczenia",path:"/student/exercises",bgColor:"bg-success/10"},{icon:d(Is,{className:"w-8 h-8 text-primary"}),title:"Postpy",desc:"led swoje wyniki",path:"/student/progress",bgColor:"bg-primary/10"},{icon:d(by,{className:"w-8 h-8 text-warning"}),title:"Osignicia",desc:"Zdobywaj odznaki",path:"/student/achievements",bgColor:"bg-warning/10"}];return w("div",{className:"min-h-screen bg-base-200/50",children:[d(gy,{title:"Panel Studenta",subtitle:`Witaj ${n==null?void 0:n.username}! Wybierz, co chcesz robi dzisiaj`}),d("div",{className:"container mx-auto px-8 py-16",children:w("div",{className:"max-w-4xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm p-12 mb-12",children:w("div",{className:"card-body items-center text-center p-0",children:[d("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-secondary/20 rounded-3xl flex items-center justify-center mb-6",children:d("div",{className:"text-4xl",children:""})}),d("h2",{className:"card-title text-3xl font-serif tracking-tight mb-4",children:"Twj Portal Edukacyjny"}),d("p",{className:"text-base-content/70 text-lg leading-relaxed max-w-md",children:"Rozwijaj swoje umiejtnoci w przyjaznym rodowisku nauki"})]})}),d("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:i.map((o,l)=>d("div",{className:"card bg-base-100 shadow-sm hover:shadow-md cursor-pointer transition-all duration-200",onClick:()=>s(o.path),children:d("div",{className:"card-body p-8",children:w("div",{className:"flex items-start gap-6",children:[d("div",{className:`w-16 h-16 ${o.bgColor} rounded-2xl flex items-center justify-center`,children:o.icon}),w("div",{className:"flex-1",children:[d("h3",{className:"card-title text-xl font-serif tracking-tight mb-2",children:o.title}),d("p",{className:"text-base-content/70 leading-relaxed",children:o.desc})]})]})})},l))}),w("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[w("button",{onClick:()=>s("/student/dashboard"),className:"btn btn-primary btn-lg gap-3",children:[d(Jl,{className:"w-5 h-5"}),"Gwny panel"]}),w("button",{onClick:()=>t(),className:"btn btn-ghost btn-lg gap-3",children:[d(ek,{className:"w-5 h-5"}),"Wyloguj"]})]})]})})]})}const Ek=Object.freeze(Object.defineProperty({__proto__:null,default:Sk,routeConfig:Nk},Symbol.toStringTag,{value:"Module"})),Ck={path:"/auth/teacher-welcome",title:"Teacher welcome"};function Pk(){const{user:n,logout:t}=pr(),s=ir(),i=[{icon:"",title:"Kursy",desc:"Zarzdzaj swoimi kursami",path:"/teacher/courses"},{icon:"",title:"Studenci",desc:"Przegldaj uczniw",path:"/teacher/students"},{icon:"",title:"Zadania",desc:"Twrz wiczenia",path:"/teacher/exercises"},{icon:"",title:"Analityka",desc:"Statystyki i raporty",path:"/teacher/analytics"}];return d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-2xl bg-base-100 shadow-xl",children:w("div",{className:"card-body",children:[w("div",{className:"text-center mb-8",children:[d("div",{className:"text-6xl text-secondary mb-4",children:""}),d("h1",{className:"text-3xl font-bold text-secondary mb-2",children:"Panel Nauczyciela"}),w("p",{className:"text-base-content/70",children:["Witaj ",n==null?void 0:n.username,"! Wybierz, co chcesz robi:"]})]}),d("div",{className:"grid grid-cols-2 gap-4 mb-6",children:i.map((o,l)=>d("div",{className:"card bg-base-200 hover:bg-base-300 cursor-pointer transition-colors",onClick:()=>s(o.path),children:w("div",{className:"card-body items-center text-center p-4",children:[d("div",{className:"text-3xl mb-2",children:o.icon}),d("h3",{className:"font-bold",children:o.title}),d("p",{className:"text-sm text-base-content/70",children:o.desc})]})},l))}),w("div",{className:"flex gap-2",children:[d("button",{onClick:()=>s("/teacher/dashboard"),className:"btn btn-secondary flex-1",children:" Gwny panel"}),d("button",{onClick:()=>t(),className:"btn btn-ghost",children:"Wyloguj"})]})]})})})}const jk=Object.freeze(Object.defineProperty({__proto__:null,default:Pk,routeConfig:Ck},Symbol.toStringTag,{value:"Module"})),Tk={path:"/auth/welcome",title:"Welcome"};function Rk(){const{user:n,logout:t}=pr(),s=ir();if(!n)return s("/auth/login"),null;const i=()=>{n.role==="teacher"?s("/teacher/dashboard"):s("/student/dashboard")},o=()=>n.role==="teacher"?"":"",l=()=>n.role==="teacher"?"text-secondary":"text-primary",u=()=>n.role==="teacher"?"Zarzdzaj kursami, twrz materiay i led postpy swoich uczniw.":"Rozpocznij nauk, rozwizuj zadania i rozwijaj swoje umiejtnoci.";return d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center p-4",children:d("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:w("div",{className:"card-body text-center",children:[w("div",{className:"mb-6",children:[d("div",{className:`text-6xl ${l()} mb-4`,children:o()}),d("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Witaj ponownie!"}),w("p",{className:"text-base-content/70",children:["Zalogowae si jako ",d("span",{className:`font-bold ${l()}`,children:n.role==="teacher"?"Nauczyciel":"Student"})]})]}),w("div",{className:"bg-base-200 rounded-lg p-4 mb-6",children:[d("div",{className:"text-sm text-base-content/70 mb-2",children:"Twoje dane:"}),d("div",{className:"font-medium",children:n.username||n.email}),d("div",{className:"text-sm text-base-content/60",children:n.email})]}),d("p",{className:"text-base-content/70 mb-6",children:u()}),w("div",{className:"space-y-3",children:[d("button",{onClick:i,className:`btn ${n.role==="teacher"?"btn-secondary":"btn-primary"} w-full`,children:n.role==="teacher"?" Przejd do panelu nauczyciela":" Rozpocznij nauk"}),d("button",{onClick:()=>t(),className:"btn btn-ghost btn-sm w-full",children:"Wyloguj si"})]})]})})})}const Ok=Object.freeze(Object.defineProperty({__proto__:null,default:Rk,routeConfig:Tk},Symbol.toStringTag,{value:"Module"}));function Lk({filter:n,counts:t,setFilter:s}){return d("div",{className:"bg-base-100 rounded-xl border border-base-300 shadow-sm p-6 mb-8",children:w("div",{className:"flex gap-2",children:[w("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="all"?"bg-primary text-primary-content border border-primary-focus":"text-base-content/70 hover:bg-base-200"}`,children:["Wszystkie (",t.all,")"]}),w("button",{onClick:()=>s("earned"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="earned"?"bg-success text-success-content border border-success-focus":"text-base-content/70 hover:bg-base-200"}`,children:["Zdobyte (",t.earned,")"]}),w("button",{onClick:()=>s("available"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="available"?"bg-warning text-warning-content border border-warning-focus":"text-base-content/70 hover:bg-base-200"}`,children:["Dostpne (",t.available,")"]})]})})}const zk=Object.freeze(Object.defineProperty({__proto__:null,FilterTabs:Lk},Symbol.toStringTag,{value:"Module"})),Yp={"Pierwszy krok":dn,Perfekcjonista:Ti,Wytrway:As,Pomie:ih,Mistrz:W1,Ekspert:zd,Byskawica:ah,Wojownik:hk,Diament:G1,Legenda:Us,default:_y};function Ny({badges:n}){return d("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(t=>{const s=Yp[t.name]||Yp.default;return d("div",{className:`bg-base-100 rounded-xl border shadow-sm p-6 transition-all duration-200 ${t.isEarned?"border-green-200/60 hover:shadow-md":t.isAvailable?"border-amber-200/60 hover:shadow-md":"border-gray-200/60 opacity-75"}`,children:w("div",{className:"text-center",children:[d("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 ${t.isEarned?"bg-green-100 border-2 border-green-200":t.isAvailable?"bg-amber-100 border-2 border-amber-200":"bg-gray-100 border-2 border-gray-200"}`,children:t.isEarned?d(Xa,{className:"w-8 h-8 text-green-600"}):t.isAvailable?d(s,{className:"w-8 h-8 text-amber-600"}):d(Z1,{className:"w-8 h-8 text-gray-400"})}),d("h3",{className:`font-semibold mb-2 ${t.isEarned?"text-green-900":t.isAvailable?"text-amber-900":"text-gray-500"}`,children:t.name}),d("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),t.isEarned?w("div",{className:"space-y-2",children:[w("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[d(Xa,{className:"w-4 h-4"}),d("span",{className:"text-sm font-medium",children:"Zdobyta!"})]}),t.awardedAt&&w("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500",children:[d(Gl,{className:"w-3 h-3"}),d("span",{children:new Date(t.awardedAt).toLocaleDateString("pl-PL")})]})]}):t.isAvailable?d("div",{className:"text-amber-600",children:w("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d(eo,{className:"w-4 h-4"}),d("span",{className:"text-sm font-medium",children:"Gotowa do odebrania!"})]})}):w("div",{className:"space-y-2",children:[d("div",{className:"text-sm text-gray-500",children:t.progressText}),t.progress>0&&d(sh,{percentage:t.progress})]})]})},t.id)})})}const $k=Object.freeze(Object.defineProperty({__proto__:null,BadgeGrid:Ny},Symbol.toStringTag,{value:"Module"})),Ak={auto:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Dk={sm:"gap-4",md:"gap-6",lg:"gap-8"};function nc({items:n,renderItem:t,emptyState:s,className:i="",gridCols:o="auto",gap:l="md",loading:u=!1,loadingComponent:f}){return u&&f?d(sr,{children:f}):!n.length&&s?d("div",{className:"flex justify-center",children:d("div",{className:"max-w-lg",children:d(nh,{...s})})}):d("div",{className:`grid ${Ak[o]} ${Dk[l]} ${i}`,children:n.map(t)})}const Mk=({badges:n})=>d(nc,{items:n,renderItem:t=>d("div",{className:`bg-base-100 rounded-xl border shadow-sm p-6 transition-all duration-200 ${t.isEarned?"border-green-200/60 hover:shadow-md":t.isAvailable?"border-amber-200/60 hover:shadow-md":"border-gray-200/60 opacity-75"}`,children:w("div",{className:"text-center",children:[d("div",{className:`w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-4 ${t.isEarned?"bg-green-100 border-2 border-green-200":t.isAvailable?"bg-amber-100 border-2 border-amber-200":"bg-gray-100 border-2 border-gray-200"}`}),d("h3",{className:"font-semibold mb-2",children:t.name}),d("p",{className:"text-sm text-gray-600",children:t.description})]})},t.id),emptyState:{icon:d(sr,{}),title:"Brak odznak",description:"Nie znaleziono odznak speniajcych kryteria"}}),Ik=({courses:n})=>d(nc,{items:n,renderItem:t=>d("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm hover:shadow-md transition-all duration-200",children:w("div",{className:"p-6",children:[d("h3",{className:"font-semibold text-gray-900 mb-2",children:t.title}),d("p",{className:"text-sm text-gray-600 mb-4",children:t.description}),w("div",{className:"flex items-center justify-between",children:[d("span",{className:"text-xs text-gray-500",children:t.subject}),t.isCompleted&&d("span",{className:"text-xs text-green-600 font-medium",children:"Ukoczony"})]})]})},t.id),emptyState:{icon:d(sr,{}),title:"Brak kursw",description:"Nie znaleziono kursw speniajcych kryteria"}}),Uk=Object.freeze(Object.defineProperty({__proto__:null,BadgeGrid:Mk,CourseGrid:Ik,UniversalGrid:nc},Symbol.toStringTag,{value:"Module"}));function sc({data:n,configs:t,filterFunctions:s}){const i=t.reduce((v,x)=>(v[x.key]=x.defaultValue||(x.type==="select"?"all":""),v),{}),[o,l]=O.useState(i),u=(v,x)=>{l(k=>({...k,[v]:x}))},f=()=>{l(i)},{filteredData:m,counts:g}=O.useMemo(()=>{const v=n.filter(k=>Object.entries(o).every(([N,_])=>{if(!_||_==="all"||_==="")return!0;const S=s[N];return S?S(k,_):!0})),x=t.filter(k=>k.type==="tabs"&&k.options).reduce((k,N)=>(N.options.forEach(_=>{if(_.value==="all")k[_.value]=n.length;else{const S=s[N.key];k[_.value]=S?n.filter(P=>S(P,_.value)).length:0}}),k),{});return{filteredData:v,counts:x}},[n,o,s,t]);return{filteredData:m,filters:o,setFilter:u,clearFilters:f,FilterComponent:()=>d("div",{className:"card bg-base-100 shadow-sm border border-base-300 p-6 mb-8",children:w("div",{className:"flex flex-wrap gap-4 ",children:[t.map(v=>{var x,k;return v.type==="text"?d("div",{className:"flex-1 min-w-64",children:w("div",{className:"relative",children:[d(uk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-base-content/60"}),d("input",{type:"text",placeholder:v.placeholder||`Szukaj ${v.label.toLowerCase()}...`,className:"input input-bordered w-full pl-10 focus:input-primary",value:o[v.key],onChange:N=>u(v.key,N.target.value)})]})},v.key):v.type==="select"?d("select",{className:"select select-bordered focus:select-primary",value:o[v.key],onChange:N=>u(v.key,N.target.value),children:(x=v.options)==null?void 0:x.map(N=>d("option",{value:N.value,children:N.label},N.value))},v.key):v.type==="tabs"?d("div",{className:"tabs tabs-boxed bg-base-200",children:(k=v.options)==null?void 0:k.map(N=>w("button",{onClick:()=>u(v.key,N.value),className:`tab ${o[v.key]===N.value?"tab-active":""}`,children:[N.label," (",g[N.value]||0,")"]},N.value))},v.key):null}),Object.values(o).some(v=>v&&v!=="all")&&d("button",{onClick:f,className:"btn btn-outline btn-sm",children:"Wyczy filtry"})]})}),counts:g}}const Fk=Object.freeze(Object.defineProperty({__proto__:null,useFilters:sc},Symbol.toStringTag,{value:"Module"}));function Ke(n,t){return rw({queryKey:[n],queryFn:async()=>{const{data:s,error:i}=await on.from(t).select("*");if(i)throw i;return s||[]}})}function ic(n,t){const s=ao();return qd({mutationFn:async i=>{const{data:o,error:l}=await on.from(t).insert(i);if(l)throw l;return o||[]},onSuccess:()=>{s.invalidateQueries({queryKey:[n]})}})}function oh(n,t){const s=ao();return qd({mutationFn:async({id:i,updates:o})=>{const{data:l,error:u}=await on.from(t).update(o).eq("id",i).select();if(u)throw u;return l||[]},onSuccess:()=>{s.invalidateQueries({queryKey:[n]}),s.invalidateQueries({queryKey:["lesson-edit"]}),s.invalidateQueries({queryKey:["lesson-detail"]})}})}function Bk(n,t){const s=ao();return qd({mutationFn:async({id:i})=>{const{error:o}=await on.from(t).delete().eq("id",i);if(o)throw o},onSuccess:()=>{s.invalidateQueries({queryKey:[n]}),s.invalidateQueries({queryKey:["lesson-detail"]}),s.invalidateQueries({queryKey:["teacher-lessons"]})}})}const qk=(n,t,s,i)=>{const o=(n==null?void 0:n.length)||0,l=(t==null?void 0:t.length)||0,u=(t==null?void 0:t.reduce((_,S)=>_+S.total_tasks,0))||0,f=(t==null?void 0:t.reduce((_,S)=>_+S.correct_tasks,0))||0,m=(t==null?void 0:t.reduce((_,S)=>_+S.attempts_count,0))||0,g=l?Math.round(t.reduce((_,S)=>_+S.score,0)/l):0,y=(t==null?void 0:t.filter(_=>_.score===100).length)||0,v=(s==null?void 0:s.length)||0,x=u?Math.round(f/u*100):0,k=o>0?Math.round(v/o*100):0,N=l?(m/l).toFixed(1):"0";return{totalLessons:o,completedLessons:l,averageScore:g,totalTasks:u,correctTasks:f,perfectScores:y,badgesEarned:v,accuracy:x,level:(i==null?void 0:i.level)||1,xp:(i==null?void 0:i.xp)||0,streak:(i==null?void 0:i.streak)||0,percentage:k,totalAttempts:m,averageAttempts:N}},ho=()=>{const{user:n}=pr(),{data:t,isLoading:s}=Ke("lessons","lessons"),{data:i,isLoading:o}=Ke("student-progress","progress"),{data:l,isLoading:u}=Ke("user-badges","user_badges"),{data:f,isLoading:m}=Ke("all-badges","badges"),{data:g,isLoading:y}=Ke("badge-criteria","badge_criteria"),v=s||o||u||m||y;return O.useMemo(()=>{const k=t||[],N=i||[],_=l||[];return{lessons:k,progress:N,userBadges:_,allBadges:f||[],badgeCriteria:g||[],stats:qk(k,N,_,n),isLoading:v}},[t,i,l,f,g,n,v])},Wk=Object.freeze(Object.defineProperty({__proto__:null,useStudentData:ho},Symbol.toStringTag,{value:"Module"})),Sy={student:[{path:"/student/dashboard",label:"Panel gwny",icon:Jl},{path:"/student/courses",label:"Kursy",icon:dn},{path:"/student/progress",label:"Moje Postpy",icon:Is},{path:"/student/achievements",label:"Osignicia",icon:Us}]},Ey=({userRole:n})=>{const t=Sy[n]||[];return d("nav",{className:"space-y-2",children:t.map(s=>{const i=s.icon;return w(Yd,{to:s.path,className:({isActive:o})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${o?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[d(i,{className:"w-5 h-5"}),s.label]},s.path)})})},Hk=Object.freeze(Object.defineProperty({__proto__:null,StudentMenu:Ey,menuItems:Sy},Symbol.toStringTag,{value:"Module"}));function Vk({stats:n}){return w("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border border-purple-200/60 p-8 mb-12",children:[w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d(Ha,{icon:d(Us,{className:"w-8 h-8 text-purple-600"}),value:n.earned,label:"Zdobyte odznaki",subLabel:`z ${n.total} dostpnych`,color:"purple"}),d(Ha,{icon:d(As,{className:"w-8 h-8 text-amber-600"}),value:`${n.percentage}%`,label:"Ukoczone",color:"amber"}),d(Ha,{icon:d(Ti,{className:"w-8 h-8 text-green-600"}),value:n.perfectScores,label:"Perfekcyjne wyniki",subLabel:"100% poprawnych",color:"green"}),d(Ha,{icon:d(Is,{className:"w-8 h-8 text-blue-600"}),value:`${n.averageScore}%`,label:"rednia ocena",subLabel:"ze wszystkich lekcji",color:"blue"})]}),w("div",{className:"mt-8",children:[w("div",{className:"flex justify-between items-center mb-2",children:[d("span",{className:"text-sm font-medium text-gray-700",children:"Postp osigni"}),w("span",{className:"text-sm text-gray-600",children:[n.earned," / ",n.total]})]}),d(sh,{percentage:n.percentage})]})]})}const Kk=Object.freeze(Object.defineProperty({__proto__:null,AchievementsOverview:Vk},Symbol.toStringTag,{value:"Module"})),Qk={dashboard:[{key:"xp",icon:Us,label:"Poziom XP",color:"amber"},{key:"level",icon:As,label:"Poziom",color:"blue"},{key:"streak",icon:ih,label:"Seria dni",color:"purple"},{key:"averageScore",icon:xy,label:"rednia",color:"green",suffix:"%"},{key:"badgesEarned",icon:_y,label:"Odznaki",color:"purple"},{key:"perfectScores",icon:Ti,label:"Perfekcyjne",color:"amber"}],achievements:[{key:"earned",icon:Us,label:"Zdobyte odznaki",color:"purple",subLabel:n=>`z ${n.total} dostpnych`},{key:"percentage",icon:As,label:"Ukoczone",color:"amber",suffix:"%"},{key:"perfectScores",icon:Ti,label:"Perfekcyjne wyniki",color:"green",subLabel:"100% poprawnych"},{key:"averageScore",icon:Is,label:"rednia ocena",color:"blue",suffix:"%",subLabel:"ze wszystkich lekcji"}],progress:[{key:"averageScore",icon:Is,label:"rednia ocena",color:"blue",suffix:"%"},{key:"accuracy",icon:As,label:"Celno",color:"green",suffix:"%"},{key:"perfectScores",icon:Ti,label:"Perfekcyjne wyniki",color:"amber"},{key:"averageAttempts",icon:eo,label:"r. liczba prb",color:"purple"}],courses:[{key:"total",icon:dn,label:"Dostpne kursy",color:"blue"},{key:"inProgress",icon:eo,label:"W trakcie",color:"amber"},{key:"completed",icon:Xa,label:"Ukoczone",color:"green"},{key:"totalHours",icon:ah,label:"Godziny nauki",color:"purple",suffix:"h"}]},Zp={auto:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",6:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6"},Gk=n=>({purple:"text-purple-600",amber:"text-amber-600",green:"text-green-600",blue:"text-blue-600"})[n]||"text-gray-600",fo=({type:n,data:t,showProgress:s=!1,showOverview:i=!1,className:o="",gridCols:l="auto"})=>{const u=Qk[n]||[],f=()=>d("div",{className:`grid ${Zp[l]} gap-6 ${o}`,children:u.map(y=>{const v=t[y.key],x=typeof y.subLabel=="function"?y.subLabel(t):y.subLabel;return d(Ha,{icon:d(y.icon,{className:`w-8 h-8 ${Gk(y.color)}`}),value:`${v}${y.suffix||""}`,label:y.label,subLabel:x,color:y.color},y.key)})}),m=()=>d("div",{className:`grid ${Zp[l]} gap-6 ${o}`,children:u.map(y=>{const v=t[y.key],x=y.color;return d(Ul,{title:y.label,value:`${v}${y.suffix||""}`,icon:d(y.icon,{className:"w-5 h-5"}),color:x},y.key)})}),g=()=>!s||t.percentage===void 0?null:w("div",{className:"mt-8",children:[w("div",{className:"flex justify-between items-center mb-2",children:[d("span",{className:"text-sm font-medium text-gray-700",children:"Postp osigni"}),w("span",{className:"text-sm text-gray-600",children:[t.earned||0," / ",t.total||0]})]}),d(sh,{percentage:t.percentage})]});return i?w("div",{className:`bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border border-purple-200/60 p-8 mb-12 ${o}`,children:[f(),g()]}):w("div",{className:o,children:[m(),g()]})},Jk=Object.freeze(Object.defineProperty({__proto__:null,StatsSection:fo},Symbol.toStringTag,{value:"Module"}));function Yk({stats:n}){return w("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[d(Ul,{title:"Aktualny poziom",value:n.level,icon:d(As,{className:"w-5 h-5"}),color:"blue"}),d(Ul,{title:"Punkty dowiadczenia",value:n.xp,icon:d(ah,{className:"w-5 h-5"}),color:"amber"}),d(Ul,{title:"Seria dni",value:n.streak,icon:d(ih,{className:"w-5 h-5"}),color:"rose"})]})}const Zk=Object.freeze(Object.defineProperty({__proto__:null,CurrentStats:Yk},Symbol.toStringTag,{value:"Module"})),lh=({children:n,userRole:t="operator",menuComponent:s})=>w("div",{className:"drawer lg:drawer-open min-h-[90vh] ",children:[d("input",{id:"drawer-toggle",type:"checkbox",className:"drawer-toggle"}),w("div",{className:"drawer-content flex flex-col ",children:[w("div",{className:"navbar lg:hidden bg-base-100",children:[d("div",{className:"flex-none",children:d("label",{htmlFor:"drawer-toggle",className:"btn btn-square btn-ghost",children:d("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),d("div",{className:"flex-1",children:d("span",{className:"text-xl font-bold",children:"Panel"})})]}),d("div",{className:"flex-1 p-4 lg:p-8",children:d("div",{className:"card shadow-xl h-full",children:d("div",{className:"card-body p-0 h-full bg-base-100",children:n})})})]}),w("div",{className:"drawer-side",children:[d("label",{htmlFor:"drawer-toggle",className:"drawer-overlay"}),d("aside",{className:"w-80 min-h-full bg-base-100",children:w("div",{className:"p-6",children:[d("img",{className:"w-42",src:"/assets/smart-edi-play-logo.svg",alt:"Logo"}),w("div",{className:"flex items-center gap-3 mb-8 mt-26  ",children:[d("div",{className:"avatar avatar-placeholder",children:d("div",{className:"bg-neutral text-neutral-content rounded-full w-12",children:d(bk,{className:"w-6 h-6"})})}),w("div",{children:[d("h2",{className:"font-semibold text-base-content capitalize text-lg",children:t}),d("p",{className:"text-sm text-base-content/70",children:"Panel Uytkownika"})]})]}),d("div",{className:"menu-container",children:s})]})})]})]}),Xk={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl"},mo=({title:n,subtitle:t,children:s,isLoading:i=!1,isEmpty:o=!1,emptyState:l,maxWidth:u="6xl",showPadding:f=!0})=>{const m=()=>i?d(py,{message:`adowanie ${n.toLowerCase()}...`}):o&&l?d("div",{className:"flex justify-center",children:d("div",{className:"max-w-lg",children:d(nh,{...l})})}):s;return w(lh,{menuComponent:d(Ey,{userRole:"student"}),children:[d(gy,{title:n,subtitle:t,variant:"courses"}),d("div",{className:`${Xk[u]} ${f?"px-6 py-16":"px-6"}`,children:m()})]})},eN={path:"/student/achievements",title:"Osignicia"};function tN(){const{allBadges:n,userBadges:t,badgeCriteria:s,stats:i,isLoading:o}=ho(),l=O.useMemo(()=>n?n.map(y=>{const v=t==null?void 0:t.find(P=>P.badge_id===y.id),x=s==null?void 0:s.find(P=>P.badge_id===y.id);let k=!!v,N=!1,_=0,S="";if(x&&!k){const P=rN(x.criteria_type,i);_=Math.min(P/x.criteria_value*100,100),S=`${P}/${x.criteria_value} ${nN(x.criteria_type)}`,N=P>=x.criteria_value}return{...y,isEarned:k,isAvailable:N,progress:_,progressText:S,awardedAt:v==null?void 0:v.awarded_at}}):[],[n,t,s,i]),u=[{key:"status",type:"tabs",label:"Status",options:[{value:"all",label:"Wszystkie"},{value:"earned",label:"Zdobyte"},{value:"available",label:"Dostpne"}],defaultValue:"all"}],f={status:(y,v)=>v==="earned"?y.isEarned:v==="available"?!y.isEarned&&y.isAvailable:!0},{filteredData:m,FilterComponent:g}=sc({data:l,configs:u,filterFunctions:f});return w(mo,{title:"Twoje Osignicia",subtitle:"Zdobywaj odznaki i led swoje sukcesy w nauce",isLoading:o,isEmpty:!l.length,emptyState:{icon:d(dn,{className:"w-8 h-8 text-gray-400"}),title:"Brak odznak w systemie",description:"Rozpocznij nauk, aby zdoby pierwsze odznaki",actionLabel:"Rozpocznij nauk",onAction:()=>window.location.href="/student/courses"},children:[d(fo,{type:"achievements",data:i,showProgress:!0,showOverview:!0}),d(g,{}),d(Ny,{badges:m})]})}function rN(n,t){switch(n){case"level":return t.level;case"xp":return t.xp;case"streak":return t.streak;default:return 0}}function nN(n){switch(n){case"level":return"poziom";case"xp":return"XP";case"streak":return"dni";default:return""}}const sN=Object.freeze(Object.defineProperty({__proto__:null,default:tN,routeConfig:eN},Symbol.toStringTag,{value:"Module"}));function iN({id:n,title:t,description:s,subject:i,topic:o,grade:l,isCompleted:u=!1,score:f=0,completedAt:m,difficulty:g="beginner",estimatedTime:y=30}){const v={beginner:"text-green-600 bg-green-50 border-green-200",intermediate:"text-amber-600 bg-amber-50 border-amber-200",advanced:"text-rose-600 bg-rose-50 border-rose-200"},x={beginner:"Podstawowy",intermediate:"redni",advanced:"Zaawansowany"},k=_=>_>=90?"text-green-600 bg-green-50":_>=70?"text-amber-600 bg-amber-50":_>=50?"text-orange-600 bg-orange-50":"text-rose-600 bg-rose-50",N=_=>new Date(_).toLocaleDateString("pl-PL",{day:"numeric",month:"short"});return d(ze,{to:`/student/lesson/${n}`,className:"block group",children:w("div",{className:"relative bg-base-100 rounded-xl border border-gray-200/60 shadow-sm hover:shadow-md hover:border-gray-300/60 transition-all duration-200 overflow-hidden h-full",children:[w("div",{className:"relative",children:[w("div",{className:"p-6 pb-4",children:[w("div",{className:"flex items-start justify-between mb-3",children:[w("div",{className:"flex-1",children:[d("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:t}),o&&d("p",{className:"text-sm text-gray-600 mt-1",children:o})]}),d("div",{className:"ml-3",children:u?d("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:d(Xa,{className:"w-5 h-5 text-green-600"})}):d("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:d(lk,{className:"w-4 h-4 text-blue-600 ml-0.5"})})})]}),d("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:s}),w("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-4",children:[l&&w("div",{className:"flex items-center gap-1",children:[d(As,{className:"w-3 h-3"}),d("span",{children:l})]}),w("div",{className:"flex items-center gap-1",children:[d(eo,{className:"w-3 h-3"}),w("span",{children:[y," min"]})]}),d("div",{className:`px-2 py-1 rounded-full text-xs border ${v[g]}`,children:x[g]})]})]}),u?d("div",{className:"px-6 pb-6",children:w("div",{className:"bg-gray-50/50 rounded-lg p-3",children:[w("div",{className:"flex items-center justify-between mb-2",children:[w("div",{className:"flex items-center gap-2",children:[d(Us,{className:"w-4 h-4 text-amber-600"}),d("span",{className:"text-sm font-medium text-gray-900",children:"Ukoczono"})]}),w("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(f)}`,children:[f,"%"]})]}),m&&w("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d(Gl,{className:"w-3 h-3"}),d("span",{children:N(m)})]}),d("div",{className:"mt-3 bg-gray-200 rounded-full h-1.5",children:d("div",{className:`h-1.5 rounded-full transition-all duration-500 ${f>=90?"bg-green-500":f>=70?"bg-amber-500":f>=50?"bg-orange-500":"bg-rose-500"}`,style:{width:`${f}%`}})})]})}):d("div",{className:"px-6 pb-6",children:d("div",{className:"bg-blue-50/30 rounded-lg p-3 border border-blue-200/30",children:w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex items-center gap-2",children:[d(dn,{className:"w-4 h-4 text-blue-600"}),d("span",{className:"text-sm font-medium text-blue-900",children:"Gotowy do rozpoczcia"})]}),d("div",{className:"text-xs text-blue-600 font-medium",children:"Rozpocznij "})]})})})]}),d("div",{className:"absolute inset-0 bg-gradient-to-t from-black/0 to-black/0 group-hover:from-black/5 group-hover:to-transparent transition-all duration-200 pointer-events-none opacity-0 group-hover:opacity-50"})]})})}function aN({children:n,className:t="",hover:s=!1,colorful:i=!1}){return d("div",{className:`
        card rounded-2xl border-2 shadow-lg
        ${i?"bg-gradient-to-br from-white to-blue-50 border-blue-200":"bg-base-100 border-gray-200"}
        ${s?"hover:shadow-xl hover:scale-[1.02] transition-all duration-300":""}
        ${t}
      `,children:n})}function Cy(){return d("div",{className:"mt-20",children:w(aN,{className:"p-8 max-w-2xl mx-auto text-center",children:[d("div",{className:"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center mx-auto mb-4 shadow-sm",children:d("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d("h3",{className:"text-lg font-semibold text-slate-900 mb-2 font-serif tracking-tight",children:"Potrzebujesz pomocy?"}),d("p",{className:"text-sm text-slate-600 mb-6 leading-relaxed",children:"Skontaktuj si z nami, jeli masz pytania dotyczce kursw"}),d("button",{className:"px-4 py-2 border border-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:"Skontaktuj si"})]})})}const oN={path:"/student/courses",title:"Courses"};function lN(){const{lessons:n,progress:t,stats:s,isLoading:i}=ho(),o=O.useMemo(()=>n?n.map(_=>{const S=t==null?void 0:t.find(P=>P.lesson_id===_.id);return{..._,isCompleted:!!S,score:(S==null?void 0:S.score)||0,completedAt:S==null?void 0:S.completed_at}}):[],[n,t]),l=O.useMemo(()=>Array.from(new Set(o.map(_=>_.subject).filter(Boolean))),[o]),u=O.useMemo(()=>Array.from(new Set(o.map(_=>_.grade).filter(Boolean))),[o]),f=[{key:"search",type:"text",label:"Szukaj",placeholder:"Szukaj kursw..."},{key:"subject",type:"select",label:"Przedmiot",options:[{value:"all",label:"Wszystkie przedmioty"},...l.map(_=>({value:_,label:_}))],defaultValue:"all"},{key:"grade",type:"select",label:"Klasa",options:[{value:"all",label:"Wszystkie klasy"},...u.map(_=>({value:_,label:_}))],defaultValue:"all"}],m={search:(_,S)=>{var F,$;const P=S.toLowerCase();return _.title.toLowerCase().includes(P)||((F=_.description)==null?void 0:F.toLowerCase().includes(P))||(($=_.topic)==null?void 0:$.toLowerCase().includes(P))},subject:(_,S)=>_.subject===S,grade:(_,S)=>_.grade===S},{filteredData:g,FilterComponent:y}=sc({data:o,configs:f,filterFunctions:m}),v=O.useMemo(()=>{const _={};return g.forEach(S=>{const P=S.subject||"Inne";_[P]||(_[P]=[]),_[P].push(S)}),_},[g]),x=O.useMemo(()=>{const _=o.length,S=o.filter($=>$.isCompleted).length,P=_-S,F=Math.floor(S*.5);return{total:_,completed:S,inProgress:P,totalHours:F}},[o]),k=()=>x.completed?w("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200/60 p-6 mb-12",children:[w("div",{className:"flex items-center gap-4",children:[d("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:d(Us,{className:"w-6 h-6 text-green-600"})}),w("div",{className:"flex-1",children:[d("h3",{className:"font-semibold text-green-900",children:"wietna robota! "}),w("p",{className:"text-green-700 text-sm",children:["Ukoczye ",x.completed," z ",x.total," dostpnych kursw."]})]}),w("div",{className:"text-right",children:[w("div",{className:"text-2xl font-bold text-green-900",children:[Math.round(x.completed/x.total*100),"%"]}),d("div",{className:"text-sm text-green-600",children:"ukoczone"})]})]}),d("div",{className:"mt-4 bg-green-200/50 rounded-full h-2",children:d("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${x.completed/x.total*100}%`}})})]}):null,N=({subject:_,lessons:S})=>{const P=S.filter($=>$.isCompleted).length,F=Math.round(P/S.length*100);return w("div",{className:"space-y-6",children:[w("div",{className:"flex items-center justify-between",children:[w("div",{children:[d("h2",{className:"text-xl font-semibold text-gray-900",children:_}),w("p",{className:"text-sm text-gray-600",children:[S.length," ",S.length===1?"kurs":"kursy"," ",P," ukoczone"]})]}),w("div",{className:"text-right",children:[w("div",{className:"text-sm font-medium text-gray-900",children:[F,"%"]}),d("div",{className:"text-xs text-gray-500",children:"postp"})]})]}),d("div",{className:"bg-gray-200 rounded-full h-1.5",children:d("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${F}%`}})}),d(nc,{items:S,renderItem:$=>d(iN,{id:$.id,title:$.title,description:$.description,subject:$.subject,topic:$.topic,grade:$.grade,isCompleted:$.isCompleted,score:$.score,completedAt:$.completedAt},$.id),gridCols:"3",emptyState:{icon:d(Ld,{className:"w-6 h-6 text-gray-400"}),title:"Brak kursw",description:"Nie ma kursw w tym przedmiocie"}})]})};return w(mo,{title:"Twoje Kursy",subtitle:"Rozwijaj swoje umiejtnoci dziki starannie przygotowanym kursom",isLoading:i,isEmpty:!o.length,emptyState:{icon:d(Ld,{className:"w-8 h-8 text-gray-400"}),title:"Brak dostpnych kursw",description:"Obecnie nie ma adnych kursw do wywietlenia",actionLabel:"Odwie stron",onAction:()=>window.location.reload()},children:[d(fo,{type:"courses",data:x,className:"mb-12"}),d(k,{}),d(y,{}),g.length===0?w("div",{className:"text-center py-12",children:[d(K1,{className:"w-8 h-8 text-gray-400 mx-auto mb-4"}),d("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Brak wynikw"}),d("p",{className:"text-gray-600",children:"Nie znaleziono kursw pasujcych do wybranych filtrw"})]}):d("div",{className:"space-y-12",children:Object.entries(v).map(([_,S])=>d(N,{subject:_,lessons:S},_))}),d("div",{className:"max-w-4xl mx-auto mt-16",children:d(Cy,{})})]})}const cN=Object.freeze(Object.defineProperty({__proto__:null,default:lN,routeConfig:oN},Symbol.toStringTag,{value:"Module"})),uN={path:"/student/dashboard",title:"Student Dashboard"},dN=[{to:"/student/courses",icon:dn,title:"Przegldaj kursy",subtitle:"Znajd nowe lekcje",color:"blue"},{to:"/student/progress",icon:Is,title:"Moje postpy",subtitle:"Szczegowe statystyki",color:"green"},{to:"/student/achievements",icon:by,title:"Osignicia",subtitle:"Odznaki i nagrody",color:"purple"},{to:"/student/leaderboard",icon:_k,title:"Ranking",subtitle:"Porwnaj si z innymi",color:"amber"}];function hN(){const{lessons:n,progress:t,userBadges:s,stats:i,isLoading:o}=ho(),l=O.useMemo(()=>(t==null?void 0:t.sort((y,v)=>new Date(v.completed_at).getTime()-new Date(y.completed_at).getTime()).slice(0,5))||[],[t]),u=O.useMemo(()=>(n==null?void 0:n.filter(y=>!(t!=null&&t.some(v=>v.lesson_id===y.id))).slice(0,3))||[],[n,t]),f=()=>w("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6 mb-8",children:[d("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Szybkie akcje"}),d("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:dN.map(y=>w(ze,{to:y.to,className:`flex items-center gap-3 p-4 bg-${y.color}-50/50 hover:bg-${y.color}-100/50 rounded-lg border border-${y.color}-200/40 transition-colors group`,children:[d("div",{className:`w-10 h-10 bg-${y.color}-100 rounded-lg flex items-center justify-center group-hover:bg-${y.color}-200 transition-colors`,children:d(y.icon,{className:`w-5 h-5 text-${y.color}-600`})}),w("div",{className:"flex-1",children:[d("div",{className:"font-medium text-gray-900",children:y.title}),d("div",{className:"text-xs text-gray-600",children:y.subtitle})]}),d(Gp,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]},y.to))})]}),m=()=>w("div",{className:"lg:col-span-2 bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[w("div",{className:"flex items-center gap-3 mb-6",children:[d(F1,{className:"w-5 h-5 text-blue-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Polecane dla Ciebie"}),d(ze,{to:"/student/courses",className:"text-sm text-blue-600 hover:text-blue-700 font-medium ml-auto",children:"Zobacz wszystkie"})]}),d("div",{className:"space-y-3",children:u.length?u.map(y=>d(ze,{to:`/student/lesson/${y.id}`,className:"block p-4 bg-gray-50/50 rounded-lg hover:bg-gray-100/50 transition-colors border border-gray-200/30 group",children:w("div",{className:"flex items-center justify-between",children:[w("div",{className:"flex-1",children:[d("div",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:y.title}),w("div",{className:"text-sm text-gray-600 mt-1",children:[y.subject,"  ",y.topic]})]}),d(Gp,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})},y.id)):w("div",{className:"text-center py-8 text-gray-500",children:[d(dn,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Ukoczye wszystkie dostpne lekcje!"})]})})]}),g=()=>w("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[w("div",{className:"flex items-center gap-3 mb-6",children:[d(eo,{className:"w-5 h-5 text-green-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Ostatnia aktywno"})]}),d("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:l.length?l.map(y=>{const v=n==null?void 0:n.find(k=>k.id===y.lesson_id),x=k=>k>=90?d(Xa,{className:"w-4 h-4 text-green-600"}):k>=70?d(Ti,{className:"w-4 h-4 text-amber-600"}):d(D1,{className:"w-4 h-4 text-rose-600"});return w("div",{className:"flex items-center gap-3 p-3 bg-gray-50/50 rounded-lg",children:[d("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${y.score>=90?"bg-green-100":y.score>=70?"bg-amber-100":"bg-rose-100"}`,children:x(y.score)}),w("div",{className:"flex-1 min-w-0",children:[d("div",{className:"text-sm font-medium text-gray-900 truncate",children:(v==null?void 0:v.title)||"Nieznana lekcja"}),d("div",{className:"text-xs text-gray-500",children:new Date(y.completed_at).toLocaleDateString("pl-PL")})]}),d("div",{className:"text-right",children:w("div",{className:`text-sm font-semibold ${y.score>=90?"text-green-600":y.score>=70?"text-amber-600":"text-rose-600"}`,children:[y.score,"%"]})})]},y.id)}):w("div",{className:"text-center py-8 text-gray-500",children:[d(Is,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Rozpocznij nauk, aby zobaczy postpy"})]})})]});return w(mo,{title:`Witaj, ${i!=null&&i.level?"poziom "+i.level:""}! `,subtitle:"Twj panel do nauki i ledzenia postpw",isLoading:o,children:[d(fo,{type:"dashboard",data:i,gridCols:"6",className:"mb-12"}),d(f,{}),w("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[d(m,{}),d(g,{})]}),d(Cy,{})]})}const fN=Object.freeze(Object.defineProperty({__proto__:null,default:hN,routeConfig:uN},Symbol.toStringTag,{value:"Module"})),mN={path:"/student/lesson/:id",title:"Lesson"};function pN(){const{id:n}=un(),[t,s]=O.useState({}),[i,o]=O.useState(!1),{data:l,isLoading:u}=Ke(`lesson-${n}`,`lessons?id=eq.${n}`),{data:f,isLoading:m}=Ke(`lesson-${n}-articles`,`articles?lesson_id=eq.${n}`),{data:g,isLoading:y}=Ke(`lesson-${n}-tasks`,`tasks?lesson_id=eq.${n}`),v=u||m||y,x=l==null?void 0:l[0],k=((g==null?void 0:g.length)??0)>0,N=Object.keys(t).length===((g==null?void 0:g.length)??0),_=(F,$)=>{s(B=>({...B,[F]:$}))};return w("div",{className:"min-h-screen bg-gray-50/30",children:[d(()=>d("div",{className:"bg-gradient-to-b from-purple-50/40 to-white border-b border-gray-200/40 p-6",children:d("div",{className:"max-w-4xl mx-auto",children:w("div",{className:"flex items-center gap-4 mb-4",children:[d("button",{onClick:()=>window.history.back(),className:"w-10 h-10 bg-base-100 rounded-xl border border-gray-200/60 flex items-center justify-center hover:bg-gray-50 transition-colors shadow-sm",children:d(C1,{className:"w-5 h-5 text-gray-600"})}),w("div",{className:"flex-1",children:[w("div",{className:"flex items-center gap-2 mb-2",children:[d(dn,{className:"w-5 h-5 text-purple-600"}),d("span",{className:"text-sm font-medium text-purple-600",children:"Lekcja"})]}),d("h1",{className:"text-2xl font-semibold text-gray-900",children:x==null?void 0:x.title}),(x==null?void 0:x.description)&&d("p",{className:"text-gray-600 mt-1",children:x.description})]})]})})}),{}),v?d(mo,{title:"",subtitle:"",isLoading:!0,showPadding:!1,children:d(sr,{})}):d(()=>d("div",{className:"max-w-3xl mx-auto px-6 py-12",children:w("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm",children:[d("div",{className:"p-8 max-h-[70vh] overflow-y-auto",children:w("div",{className:"space-y-8",children:[f==null?void 0:f.map(F=>w("div",{className:"space-y-4",children:[d("h2",{className:"text-xl font-semibold text-gray-900",children:F.title}),d("div",{className:"prose max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-p:leading-relaxed",dangerouslySetInnerHTML:{__html:F.content}})]},F.id)),f&&f.length>0&&k&&w("div",{className:"flex items-center gap-4 py-6",children:[d("div",{className:"flex-1 h-px bg-gray-200"}),d("span",{className:"text-sm font-medium text-gray-500 px-4",children:"ZADANIA"}),d("div",{className:"flex-1 h-px bg-gray-200"})]}),g==null?void 0:g.map((F,$)=>w("div",{className:"space-y-4",children:[w("h3",{className:"text-lg font-medium text-gray-900",children:[g.length>1&&d("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-700 text-sm font-semibold rounded-full mr-3",children:$+1}),F.question_text]}),F.options&&d("div",{className:"space-y-3",children:F.options.map((B,Q)=>w("label",{className:`
                          flex items-center gap-4 p-4 rounded-xl cursor-pointer transition-all duration-200 border
                          ${t[F.id]===B?"bg-blue-50/50 border-blue-200/60 shadow-sm":"bg-gray-50/30 border-gray-200/40 hover:bg-gray-50/60 hover:border-gray-300/60"}
                          ${i?"cursor-default":""}
                        `,children:[w("div",{className:"relative",children:[d("input",{type:"radio",name:`task-${F.id}`,value:B,className:"sr-only",onChange:()=>_(F.id,B),disabled:i}),d("div",{className:`
                            w-5 h-5 rounded-full border-2 transition-colors
                            ${t[F.id]===B?"border-blue-500 bg-blue-500":"border-gray-300"}
                          `,children:t[F.id]===B&&d("div",{className:"w-full h-full rounded-full bg-base-100 scale-[0.4]"})})]}),d("span",{className:"flex-1 text-gray-700",children:B}),i&&t[F.id]===B&&d(Jp,{className:"w-5 h-5 text-green-600"})]},Q))})]},F.id))]})}),k&&d("div",{className:"p-6 border-t border-gray-200/40 bg-gray-50/30",children:d("div",{className:"text-center",children:i?w("div",{className:"space-y-3",children:[w("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[d(Jp,{className:"w-6 h-6"}),d("span",{className:"font-semibold text-lg",children:"wietnie!"})]}),w("p",{className:"text-sm text-gray-600",children:["Odpowiedziae na ",Object.keys(t).length," z ",g==null?void 0:g.length," pyta"]})]}):d("button",{className:`
                    px-8 py-3 rounded-xl font-medium transition-all duration-200 shadow-sm
                    ${N?"bg-gray-900 text-white hover:bg-gray-800 hover:shadow-md":"bg-gray-200 text-gray-500 cursor-not-allowed"}
                  `,onClick:()=>o(!0),disabled:!N,children:"Sprawd odpowiedzi"})})})]})}),{})]})}const gN=Object.freeze(Object.defineProperty({__proto__:null,default:pN,routeConfig:mN},Symbol.toStringTag,{value:"Module"})),yN={path:"/student/progress",title:"Moje Postpy"};function vN(){const{lessons:n,progress:t,stats:s,isLoading:i}=ho(),o=O.useMemo(()=>{if(!t||t.length<2)return null;const _=[...t].sort((Q,z)=>new Date(z.completed_at).getTime()-new Date(Q.completed_at).getTime()),S=_.slice(0,Math.min(5,_.length)),P=_.slice(5,Math.min(10,_.length));if(P.length===0)return null;const F=S.reduce((Q,z)=>Q+z.score,0)/S.length,$=P.reduce((Q,z)=>Q+z.score,0)/P.length,B=F-$;return{change:Math.round(B),direction:B>2?"up":B<-2?"down":"stable",recentAvg:Math.round(F),previousAvg:Math.round($)}},[t]),l=O.useMemo(()=>{if(!t||!n)return[];const _=new Map;return t.forEach(S=>{const P=n.find(F=>F.id===S.lesson_id);if(P){const F=P.subject;_.has(F)||_.set(F,{subject:F,scores:[],totalTasks:0,correctTasks:0,attempts:0,perfectScores:0});const $=_.get(F);$.scores.push(S.score),$.totalTasks+=S.total_tasks,$.correctTasks+=S.correct_tasks,$.attempts+=S.attempts_count,S.score===100&&$.perfectScores++}}),Array.from(_.values()).map(S=>({...S,averageScore:Math.round(S.scores.reduce((P,F)=>P+F,0)/S.scores.length),accuracy:Math.round(S.correctTasks/S.totalTasks*100),lessonsCount:S.scores.length,averageAttempts:(S.attempts/S.scores.length).toFixed(1)})).sort((S,P)=>P.averageScore-S.averageScore)},[t,n]),u=O.useMemo(()=>n?Array.from(new Set(n.map(_=>_.subject).filter(Boolean))):[],[n]),f=[{key:"timeFilter",type:"select",label:"Okres",options:[{value:"week",label:"Ostatni tydzie"},{value:"month",label:"Ostatni miesic"},{value:"all",label:"Wszystkie"}],defaultValue:"month"},{key:"subjectFilter",type:"select",label:"Przedmiot",options:[{value:"all",label:"Wszystkie"},...u.map(_=>({value:_,label:_}))],defaultValue:"all"}],m={timeFilter:(_,S)=>{if(S==="all")return!0;const P=new Date,F=new Date;return S==="week"?F.setDate(P.getDate()-7):S==="month"&&F.setMonth(P.getMonth()-1),new Date(_.completed_at)>=F},subjectFilter:(_,S)=>{if(S==="all")return!0;const P=n==null?void 0:n.find(F=>F.id===_.lesson_id);return(P==null?void 0:P.subject)===S}},{filteredData:g,FilterComponent:y}=sc({data:t||[],configs:f,filterFunctions:m}),v=()=>o?d("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6 mb-8",children:w("div",{className:"flex items-center gap-4",children:[d("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${o.direction==="up"?"bg-green-50 border border-green-200":o.direction==="down"?"bg-rose-50 border border-rose-200":"bg-gray-50 border border-gray-200"}`,children:o.direction==="up"?d(wy,{className:"w-6 h-6 text-green-600"}):o.direction==="down"?d(vy,{className:"w-6 h-6 text-rose-600"}):d(ky,{className:"w-6 h-6 text-gray-600"})}),w("div",{className:"flex-1",children:[d("h3",{className:"font-semibold text-gray-900",children:o.direction==="up"?"wietny postp! ":o.direction==="down"?"Skupmy si na poprawie ":"Stabilny poziom "}),w("p",{className:"text-gray-600 text-sm",children:["Twoja rednia z ostatnich lekcji: ",w("span",{className:"font-medium",children:[o.recentAvg,"%"]}),o.direction!=="stable"&&w("span",{className:`ml-2 ${o.direction==="up"?"text-green-600":"text-rose-600"}`,children:["(",o.change>0?"+":"",o.change,"% vs poprzednie)"]})]})]})]})}):null,x=()=>w("div",{className:"lg:col-span-2 bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[w("div",{className:"flex items-center gap-3 mb-6",children:[d(zd,{className:"w-5 h-5 text-purple-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Analiza per przedmiot"})]}),w("div",{className:"space-y-6",children:[l.map(_=>w("div",{className:"space-y-3",children:[w("div",{className:"flex items-center justify-between",children:[d("h3",{className:"font-medium text-gray-900",children:_.subject}),w("div",{className:"flex items-center gap-4 text-sm",children:[w("span",{className:`font-semibold ${_.averageScore>=90?"text-green-600":_.averageScore>=70?"text-amber-600":"text-rose-600"}`,children:[_.averageScore,"%"]}),w("span",{className:"text-gray-500",children:[_.lessonsCount," ",_.lessonsCount===1?"lekcja":"lekcje"]})]})]}),d("div",{className:"bg-gray-200 rounded-full h-2",children:d("div",{className:`h-2 rounded-full transition-all duration-500 ${_.averageScore>=90?"bg-green-500":_.averageScore>=70?"bg-amber-500":"bg-rose-500"}`,style:{width:`${Math.min(_.averageScore,100)}%`}})}),w("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[w("div",{className:"text-center p-3 bg-gray-50/50 rounded-lg",children:[w("div",{className:"font-semibold text-gray-900",children:[_.accuracy,"%"]}),d("div",{className:"text-xs text-gray-600",children:"Celno"})]}),w("div",{className:"text-center p-3 bg-gray-50/50 rounded-lg",children:[d("div",{className:"font-semibold text-gray-900",children:_.perfectScores}),d("div",{className:"text-xs text-gray-600",children:"Perfekcyjne"})]}),w("div",{className:"text-center p-3 bg-gray-50/50 rounded-lg",children:[d("div",{className:"font-semibold text-gray-900",children:_.averageAttempts}),d("div",{className:"text-xs text-gray-600",children:"r. prb"})]})]})]},_.subject)),l.length===0&&w("div",{className:"text-center py-8 text-gray-500",children:[d(zd,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Ukocz lekcje, aby zobaczy analiz per przedmiot"})]})]})]}),k=()=>w("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[w("div",{className:"flex items-center gap-3 mb-6",children:[d(Gl,{className:"w-5 h-5 text-blue-600"}),d("h2",{className:"text-lg font-semibold text-gray-900",children:"Ostatnie wyniki"})]}),d("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:g.length===0?w("div",{className:"text-center py-8 text-gray-500",children:[d(Gl,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),d("p",{children:"Nie ma wynikw w wybranym okresie"})]}):g.sort((_,S)=>new Date(S.completed_at).getTime()-new Date(_.completed_at).getTime()).map(_=>{const S=n==null?void 0:n.find(P=>P.id===_.lesson_id);return w("div",{className:"p-4 bg-gray-50/50 rounded-lg border border-gray-200/30",children:[w("div",{className:"flex items-start justify-between mb-2",children:[w("div",{className:"flex-1 min-w-0",children:[d("div",{className:"font-medium text-gray-900 text-sm truncate",children:(S==null?void 0:S.title)||"Nieznana lekcja"}),w("div",{className:"text-xs text-gray-600 mt-1",children:[S==null?void 0:S.subject,"  ",S==null?void 0:S.topic]})]}),w("div",{className:`text-sm font-semibold ${_.score>=90?"text-green-600":_.score>=70?"text-amber-600":"text-rose-600"}`,children:[_.score,"%"]})]}),w("div",{className:"flex items-center justify-between mb-2",children:[w("span",{className:"text-xs text-gray-500",children:[_.correct_tasks,"/",_.total_tasks," poprawnych"]}),d("span",{className:"text-xs text-gray-500",children:new Date(_.completed_at).toLocaleDateString("pl-PL")})]}),d("div",{className:"bg-gray-200 rounded-full h-1.5",children:d("div",{className:`h-1.5 rounded-full ${_.score>=90?"bg-green-500":_.score>=70?"bg-amber-500":"bg-rose-500"}`,style:{width:`${_.score}%`}})})]},_.id)})})]}),N=()=>w("div",{className:"bg-base-100 rounded-xl border border-gray-200/60 shadow-sm p-6",children:[d("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Szczegowe statystyki"}),w("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[w("div",{className:"text-center p-4 bg-blue-50/30 rounded-lg border border-blue-200/30",children:[d("div",{className:"text-2xl font-bold text-blue-600",children:s.completedLessons}),d("div",{className:"text-sm text-gray-600",children:"Ukoczone lekcje"})]}),w("div",{className:"text-center p-4 bg-green-50/30 rounded-lg border border-green-200/30",children:[d("div",{className:"text-2xl font-bold text-green-600",children:s.totalTasks}),d("div",{className:"text-sm text-gray-600",children:"Zadania cznie"})]}),w("div",{className:"text-center p-4 bg-amber-50/30 rounded-lg border border-amber-200/30",children:[d("div",{className:"text-2xl font-bold text-amber-600",children:s.correctTasks}),d("div",{className:"text-sm text-gray-600",children:"Poprawne odpowiedzi"})]}),w("div",{className:"text-center p-4 bg-purple-50/30 rounded-lg border border-purple-200/30",children:[d("div",{className:"text-2xl font-bold text-purple-600",children:s.perfectScores}),d("div",{className:"text-sm text-gray-600",children:"Wyniki 100%"})]})]})]});return w(mo,{title:"Moje Postpy",subtitle:"led swoje wyniki i analizuj postpy w nauce",isLoading:i,isEmpty:!s.completedLessons,emptyState:{icon:d(xy,{className:"w-8 h-8 text-gray-400"}),title:"Brak danych o postpach",description:"Ukocz kilka lekcji, aby zobaczy swoje statystyki",actionLabel:"Przejd do kursw",onAction:()=>window.location.href="/student/courses"},children:[d(fo,{type:"progress",data:s,className:"mb-12"}),d(v,{}),d(y,{}),w("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[d(x,{}),d(k,{})]}),d(N,{})]})}const wN=Object.freeze(Object.defineProperty({__proto__:null,default:vN,routeConfig:yN},Symbol.toStringTag,{value:"Module"})),bN={path:"/teacher/classes",title:"Zarzdzanie klasami",roles:["teacher"]};function xN(){const{data:n,isLoading:t,error:s}=Ke("classes","classes");return w("div",{children:[t&&d("p",{children:"adowanie..."}),s&&w("p",{children:["Bd: ",s.message]}),n&&d("pre",{children:JSON.stringify(n,null,2)})]})}const _N=Object.freeze(Object.defineProperty({__proto__:null,default:xN,routeConfig:bN},Symbol.toStringTag,{value:"Module"})),kN=[{path:"/teacher/quizzes/create",title:"Nowy quiz",roles:["teacher"]},{path:"/teacher/quizzes/:quizId/edit",title:"Edytuj quiz",roles:["teacher"]}],NN={lesson_id:"",type:"multiple_choice",question_text:"Przykadowe pytanie",options:["A","B","C"],correct_answer:"A",xp_reward:10};function SN(){const n=ic("tasks","tasks");return w("div",{children:[d("button",{onClick:()=>n.mutate(NN),children:"Wylij dane testowe"}),n.isPending&&d("p",{children:"adowanie..."}),n.error&&w("p",{children:["Bd: ",n.error.message]}),n.data&&d("pre",{children:JSON.stringify(n.data,null,2)})]})}const EN=Object.freeze(Object.defineProperty({__proto__:null,default:SN,routeConfig:kN},Symbol.toStringTag,{value:"Module"})),CN={path:"/teacher/quizzes",title:"Lista quizw",roles:["teacher"]};function PN(){const{data:n,isLoading:t,error:s}=Ke("tasks","tasks");return w("div",{children:[t&&d("p",{children:"adowanie..."}),s&&w("p",{children:["Bd: ",s.message]}),n&&d("pre",{children:JSON.stringify(n,null,2)})]})}const jN=Object.freeze(Object.defineProperty({__proto__:null,default:PN,routeConfig:CN},Symbol.toStringTag,{value:"Module"})),TN={path:"/teacher/progress",title:"Postp uczniw",roles:["teacher"]};function RN(){const{data:n,isLoading:t,error:s}=Ke("progress","progress");return w("div",{children:[t&&d("p",{children:"adowanie..."}),s&&w("p",{children:["Bd: ",s.message]}),n&&d("pre",{children:JSON.stringify(n,null,2)})]})}const ON=Object.freeze(Object.defineProperty({__proto__:null,default:RN,routeConfig:TN},Symbol.toStringTag,{value:"Module"})),LN={path:"/teacher/dashboard",title:"Panel nauczyciela",roles:["teacher"]};function zN(){const{data:n,isLoading:t,error:s}=Ke("lessons","lessons");return w("div",{children:[t&&d("p",{children:"adowanie..."}),s&&w("p",{children:["Bd: ",s.message]}),n&&d("pre",{children:JSON.stringify(n,null,2)})]})}const $N=Object.freeze(Object.defineProperty({__proto__:null,default:zN,routeConfig:LN},Symbol.toStringTag,{value:"Module"})),Py={teacher:[{path:"/teacher/dashboard",label:"Panel gwny",icon:Jl},{path:"/teacher/lessons",label:"Lekcje",icon:Jl},{path:"/teacher/students",label:"Studenci",icon:dn}]},ch=({userRole:n})=>{const t=Py[n]||[];return d("nav",{className:"space-y-2",children:t.map(s=>{const i=s.icon;return w(Yd,{to:s.path,className:({isActive:o})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${o?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,children:[d(i,{className:"w-5 h-5"}),s.label]},s.path)})})},AN=Object.freeze(Object.defineProperty({__proto__:null,TeacherMenu:ch,menuItems:Py},Symbol.toStringTag,{value:"Module"})),DN={path:"/teacher/lessons/:lessonId/articles/:articleId",title:"Article Detail"};function MN(){var u;const{lessonId:n,articleId:t}=un(),{data:s}=Ke("article-detail",`articles?id=eq.${t}`),{data:i}=Ke("lesson-detail-for-article",`lessons?id=eq.${n}`),o=s==null?void 0:s[0],l=i==null?void 0:i[0];return o?d(lh,{menuComponent:d(ch,{userRole:"teacher"}),children:w("div",{className:"max-w-4xl mx-auto space-y-6",children:[d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body py-3",children:d("div",{className:"breadcrumbs text-sm",children:w("ul",{children:[d("li",{children:d(ze,{to:"/teacher/lessons",children:"Lekcje"})}),d("li",{children:d(ze,{to:`/teacher/lessons/${n}`,children:(l==null?void 0:l.title)||"Lekcja"})}),d("li",{children:"Artyku"})]})})})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[w("div",{className:"flex justify-between items-start mb-4",children:[w("div",{children:[d("h1",{className:"text-2xl font-bold mb-2",children:o.title}),w("div",{className:"flex gap-2 items-center",children:[w("span",{className:"badge badge-outline",children:["Kolejno: ",o.sort_order]}),w("span",{className:"text-sm text-base-content/60",children:["ID: ",t]})]})]}),d("div",{className:"flex gap-2",children:d(ze,{to:`/teacher/lessons/${n}/articles/${t}/edit`,className:"btn btn-primary btn-sm",children:" Edytuj"})})]}),l&&d("div",{className:"alert alert-info",children:w("div",{className:"flex items-center gap-2",children:[d("span",{className:"text-info",children:""}),w("div",{children:[w("div",{className:"font-medium",children:["Lekcja: ",l.title]}),w("div",{className:"text-sm opacity-70",children:[l.subject,"  ",l.grade]})]})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[w("h2",{className:"card-title text-lg mb-4",children:[d("span",{className:"text-primary",children:""}),"Tre artykuu"]}),d("div",{className:"prose max-w-none",children:d("div",{className:"whitespace-pre-wrap text-base leading-relaxed",children:o.content})}),d("div",{className:"divider"}),w("div",{className:"text-sm text-base-content/60",children:["Liczba znakw: ",((u=o.content)==null?void 0:u.length)||0]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[w("h2",{className:"card-title text-lg mb-4",children:[d("span",{className:"text-primary",children:""}),"Szybkie akcje"]}),w("div",{className:"flex flex-wrap gap-3",children:[d(ze,{to:`/teacher/lessons/${n}/articles/${t}/edit`,className:"btn btn-outline",children:" Edytuj artyku"}),d(ze,{to:`/teacher/lessons/${n}`,className:"btn btn-ghost",children:" Powrt do lekcji"}),d(ze,{to:`/teacher/lessons/${n}/articles/create`,className:"btn btn-primary",children:" Dodaj kolejny artyku"}),d(ze,{to:`/student/lessons/${n}/articles/${t}`,className:"btn btn-info",children:" Podgld ucznia"})]})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})})}const IN=Object.freeze(Object.defineProperty({__proto__:null,default:MN,routeConfig:DN},Symbol.toStringTag,{value:"Module"})),UN={path:"/teacher/lessons/:lessonId/articles/create",title:"Add Content"};function FN(){const{lessonId:n}=un(),t=ir(),s=ic("lesson-articles","articles"),[i,o]=O.useState({title:"",content:"",sort_order:0});return w("div",{className:"p-4 space-y-4 max-w-4xl mx-auto",children:[d("h1",{className:"text-3xl font-bold mb-6",children:" Dodaj tre"}),w("form",{onSubmit:async u=>{u.preventDefault();try{await s.mutateAsync({...i,lesson_id:n}),t(`/teacher/lessons/${n}`)}catch(f){console.error("Error creating article:",f)}},className:"space-y-4",children:[w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Tytu treci"})}),d("input",{type:"text",className:"input input-bordered",value:i.title,onChange:u=>o({...i,title:u.target.value}),required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Kolejno"})}),d("input",{type:"number",className:"input input-bordered w-24",value:i.sort_order,onChange:u=>o({...i,sort_order:parseInt(u.target.value)})})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Tre"})}),d("textarea",{className:"textarea textarea-bordered h-96",value:i.content,onChange:u=>o({...i,content:u.target.value}),placeholder:"Wpisz tre lekcji...",required:!0})]}),w("div",{className:"flex gap-2",children:[d("button",{type:"submit",className:"btn btn-primary flex-1",disabled:s.isPending,children:s.isPending?"Dodawanie...":" Dodaj tre"}),d("button",{type:"button",onClick:()=>t(`/teacher/lessons/${n}`),className:"btn btn-ghost",children:"Anuluj"})]})]})]})}const BN=Object.freeze(Object.defineProperty({__proto__:null,default:FN,routeConfig:UN},Symbol.toStringTag,{value:"Module"})),qN={path:"/teacher/lessons/create",title:"Create Lesson"};function WN(){const{user:n}=pr(),t=ir(),s=ic("teacher-lessons","lessons"),[i,o]=O.useState({title:"",description:"",subject:"",grade:"",topic:""}),l=async u=>{u.preventDefault();try{await s.mutateAsync({...i,author_id:n==null?void 0:n.id}),t("/teacher/lessons")}catch(f){console.error("Error creating lesson:",f)}};return d("div",{className:"min-h-screen bg-base-200 p-4",children:w("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:d("div",{className:"card-body py-4",children:w("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:""}),"Nowa lekcja"]})})}),d("form",{onSubmit:l,children:w("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Podstawowe informacje"}),w("div",{className:"space-y-4",children:[w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Tytu lekcji"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wprowad tytu lekcji...",value:i.title,onChange:u=>o({...i,title:u.target.value}),required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Opis"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-24 resize-none w-full",placeholder:"Opisz czego dotyczy lekcja...",value:i.description,onChange:u=>o({...i,description:u.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Klasyfikacja"}),w("div",{className:"space-y-4",children:[w("div",{className:"grid md:grid-cols-2 gap-4",children:[w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Przedmiot"}),w("select",{className:"select select-bordered focus:select-primary w-full",value:i.subject,onChange:u=>o({...i,subject:u.target.value}),children:[d("option",{value:"",children:"Wybierz przedmiot"}),d("option",{value:"Matematyka",children:" Matematyka"}),d("option",{value:"Polski",children:" Polski"}),d("option",{value:"Historia",children:" Historia"}),d("option",{value:"Biologia",children:" Biologia"})]})]}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Klasa"}),w("select",{className:"select select-bordered focus:select-primary w-full",value:i.grade,onChange:u=>o({...i,grade:u.target.value}),children:[d("option",{value:"",children:"Wybierz klas"}),d("option",{value:"Klasa 1",children:" Klasa 1"}),d("option",{value:"Klasa 2",children:" Klasa 2"}),d("option",{value:"Klasa 3",children:" Klasa 3"})]})]})]}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Temat"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Gwny temat lekcji...",value:i.topic,onChange:u=>o({...i,topic:u.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:w("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>t("/teacher/lessons"),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",onClick:l,className:"btn btn-primary",disabled:s.isPending,children:s.isPending?w(sr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Tworzenie..."]}):w(sr,{children:[d("span",{children:""}),"Utwrz lekcj"]})})]})})})]})})]})})}const HN=Object.freeze(Object.defineProperty({__proto__:null,default:WN,routeConfig:qN},Symbol.toStringTag,{value:"Module"})),VN={path:"/teacher/lessons/:lessonId/tasks/create",title:"Create Quiz"};function KN(){const{lessonId:n}=un(),t=ir(),s=ic("lesson-tasks","tasks"),[i,o]=O.useState({type:"multiple_choice",question_text:"",options:["","","",""],correct_answer:"",explanation:"",xp_reward:10});return w("div",{className:"p-4 max-w-2xl mx-auto",children:[d("h1",{className:"text-3xl font-bold mb-6",children:" Nowy quiz"}),w("form",{onSubmit:async u=>{u.preventDefault();try{const f={lesson_id:n,type:i.type,question_text:i.question_text,options:i.type==="multiple_choice"?i.options.filter(m=>m.trim()):null,correct_answer:i.correct_answer,explanation:i.explanation,xp_reward:i.xp_reward};await s.mutateAsync(f),t(`/teacher/lessons/${n}`)}catch(f){console.error("Error creating task:",f)}},className:"space-y-4",children:[w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Typ pytania"})}),w("select",{className:"select select-bordered",value:i.type,onChange:u=>o({...i,type:u.target.value}),children:[d("option",{value:"multiple_choice",children:"Wielokrotny wybr"}),d("option",{value:"true_false",children:"Prawda/Fasz"}),d("option",{value:"fill_blank",children:"Uzupenij luk"})]})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Pytanie"})}),d("textarea",{className:"textarea textarea-bordered",value:i.question_text,onChange:u=>o({...i,question_text:u.target.value}),required:!0})]}),i.type==="multiple_choice"&&w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Opcje odpowiedzi"})}),i.options.map((u,f)=>d("input",{type:"text",className:"input input-bordered mb-2",placeholder:`Opcja ${f+1}`,value:u,onChange:m=>{const g=[...i.options];g[f]=m.target.value,o({...i,options:g})}},f))]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Poprawna odpowied"})}),i.type==="true_false"?w("select",{className:"select select-bordered",value:i.correct_answer,onChange:u=>o({...i,correct_answer:u.target.value}),required:!0,children:[d("option",{value:"",children:"Wybierz"}),d("option",{value:"true",children:"Prawda"}),d("option",{value:"false",children:"Fasz"})]}):d("input",{type:"text",className:"input input-bordered",value:i.correct_answer,onChange:u=>o({...i,correct_answer:u.target.value}),required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Wyjanienie (opcjonalne)"})}),d("textarea",{className:"textarea textarea-bordered",value:i.explanation,onChange:u=>o({...i,explanation:u.target.value})})]}),w("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:"Punkty XP"})}),d("input",{type:"number",className:"input input-bordered w-24",value:i.xp_reward,onChange:u=>o({...i,xp_reward:parseInt(u.target.value)}),min:"1",required:!0})]}),w("div",{className:"flex gap-2",children:[d("button",{type:"submit",className:"btn btn-primary flex-1",disabled:s.isPending,children:s.isPending?"Tworzenie...":" Utwrz quiz"}),d("button",{type:"button",onClick:()=>t(`/teacher/lessons/${n}`),className:"btn btn-ghost",children:"Anuluj"})]})]})]})}const QN=Object.freeze(Object.defineProperty({__proto__:null,default:KN,routeConfig:VN},Symbol.toStringTag,{value:"Module"})),GN={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl"},ac=({title:n,children:t,isLoading:s=!1,isEmpty:i=!1,emptyState:o,maxWidth:l="6xl"})=>{const u=()=>s?d(py,{message:`adowanie ${n.toLowerCase()}...`}):i&&o?d("div",{className:"flex justify-center",children:d("div",{className:"max-w-lg",children:d(nh,{...o})})}):t;return d(lh,{menuComponent:d(ch,{userRole:"teacher"}),children:d("div",{className:`${GN[l]} p-12 space-y-8`,children:u()})})},JN={path:"/teacher/dashboard",title:"Teacher Dashboard"};function YN(){const{user:n}=pr(),{data:t}=Ke("teacher-lessons",`lessons?author_id=eq.${n==null?void 0:n.id}`),{data:s}=Ke("students","users?role=eq.student"),{data:i}=Ke("teacher-tasks",`tasks?lesson_id=in.(${(t==null?void 0:t.map(g=>g.id).join(","))||"null"})`),{data:o}=Ke("teacher-articles",`articles?lesson_id=in.(${(t==null?void 0:t.map(g=>g.id).join(","))||"null"})`),{data:l}=Ke("recent-progress",`progress?lesson_id=in.(${(t==null?void 0:t.map(g=>g.id).join(","))||"null"})&order=completed_at.desc&limit=10`),u=(i==null?void 0:i.length)||0,f=(o==null?void 0:o.length)||0,m=l!=null&&l.length?Math.round(l.reduce((g,y)=>g+y.score,0)/l.length):0;return w(ac,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniw",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body py-4",children:[w("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:""}),"Panel nauczyciela"]}),w("p",{className:"text-base-content/70",children:["Witaj ",n==null?void 0:n.username,"!"]})]})}),w("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-primary",children:(t==null?void 0:t.length)||0}),d("div",{className:"text-sm opacity-70",children:"Moje lekcje"})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-accent",children:f}),d("div",{className:"text-sm opacity-70",children:"Treci"})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-info",children:u}),d("div",{className:"text-sm opacity-70",children:"Quizy"})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body py-6 text-center",children:[d("div",{className:"text-3xl font-bold text-secondary",children:(s==null?void 0:s.length)||0}),d("div",{className:"text-sm opacity-70",children:"Uczniowie"})]})})]}),w("div",{className:"grid md:grid-cols-3 gap-6",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Szybkie akcje"}),w("div",{className:"space-y-3",children:[d(ze,{to:"/teacher/lessons/create",className:"btn btn-primary w-full",children:" Nowa lekcja"}),d(ze,{to:"/teacher/lessons",className:"btn btn-outline w-full",children:" Zarzdzaj lekcjami"}),d(ze,{to:"/teacher/students",className:"btn btn-outline w-full",children:" Lista uczniw"})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Moje lekcje"}),w("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[t==null?void 0:t.slice(0,6).map(g=>w(ze,{to:`/teacher/lessons/${g.id}`,className:"block p-3 bg-base-200 rounded-lg hover:bg-base-300 transition-colors",children:[d("div",{className:"font-medium text-sm",children:g.title}),w("div",{className:"text-xs opacity-70 flex gap-2 mt-1",children:[d("span",{children:g.subject}),d("span",{children:""}),d("span",{children:g.grade})]})]},g.id)),(t==null?void 0:t.length)===0&&w("div",{className:"text-center py-8 text-base-content/50",children:[d("p",{className:"mb-2",children:"Brak lekcji"}),d(ze,{to:"/teacher/lessons/create",className:"link link-primary text-sm",children:"Utwrz pierwsz lekcj"})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Ostatnie wyniki"}),m>0&&d("div",{className:"card bg-base-200 shadow-sm mb-4",children:w("div",{className:"card-body py-3 text-center",children:[w("div",{className:"text-2xl font-bold text-success",children:[m,"%"]}),d("div",{className:"text-xs opacity-70",children:"redni wynik"})]})}),w("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[l==null?void 0:l.slice(0,5).map(g=>{const y=t==null?void 0:t.find(v=>v.id===g.lesson_id);return w("div",{className:"p-3 bg-base-200 rounded-lg",children:[d("div",{className:"font-medium text-sm",children:(y==null?void 0:y.title)||"Nieznana lekcja"}),w("div",{className:"text-xs opacity-70 flex justify-between mt-1",children:[w("span",{children:["Wynik: ",g.score,"%"]}),w("span",{children:[g.correct_tasks,"/",g.total_tasks]})]})]},`${g.user_id}-${g.lesson_id}`)}),(!l||l.length===0)&&d("div",{className:"text-center py-8 text-base-content/50",children:d("p",{className:"text-sm",children:"Brak aktywnoci uczniw"})})]})]})})]}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Podsumowanie"}),w("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[w("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-primary",children:(t==null?void 0:t.length)||0}),d("div",{className:"text-sm opacity-70",children:"Utworzonych lekcji"})]}),w("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-accent",children:f}),d("div",{className:"text-sm opacity-70",children:"Treci napisanych"})]}),w("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-info",children:u}),d("div",{className:"text-sm opacity-70",children:"Quizw przygotowanych"})]}),w("div",{className:"text-center",children:[d("div",{className:"text-2xl font-bold text-secondary",children:(l==null?void 0:l.reduce((g,y)=>g+y.attempts_count,0))||0}),d("div",{className:"text-sm opacity-70",children:"Rozwiza uczniw"})]})]})]})})]})}const ZN=Object.freeze(Object.defineProperty({__proto__:null,default:YN,routeConfig:JN},Symbol.toStringTag,{value:"Module"})),XN={path:"/teacher/lessons/:lessonId/articles/:articleId/edit",title:"Edit Article"};function eS(){const{lessonId:n,articleId:t}=un(),s=ir(),{data:i,isLoading:o}=Ke("article-edit",`articles?id=eq.${t}`),l=oh("lesson-articles","articles"),[u,f]=O.useState({title:"",content:"",sort_order:0}),m=i==null?void 0:i[0];O.useEffect(()=>{m&&f({title:m.title||"",content:m.content||"",sort_order:m.sort_order||0})},[m]);const g=async y=>{if(y.preventDefault(),!!t)try{await l.mutateAsync({id:t,updates:u}),s(`/teacher/lessons/${n}`)}catch(v){console.error("Error updating article:",v)}};return o?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):m?d("div",{className:"min-h-screen bg-base-200 p-4",children:w("div",{className:"max-w-4xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:w("div",{className:"card-body py-4",children:[w("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:""}),"Edytuj artyku"]}),w("p",{className:"text-base-content/70",children:["Lekcja ID: ",n," | Artyku ID: ",t]})]})}),d("form",{onSubmit:g,children:w("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Informacje podstawowe"}),d("div",{className:"space-y-4",children:w("div",{className:"grid md:grid-cols-4 gap-4",children:[d("div",{className:"md:col-span-3",children:w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Tytu artykuu"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wprowad tytu artykuu...",value:u.title,onChange:y=>f({...u,title:y.target.value}),required:!0})]})}),d("div",{className:"md:col-span-1",children:w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Kolejno"}),d("input",{type:"number",className:"input input-bordered focus:input-primary w-full",value:u.sort_order,onChange:y=>f({...u,sort_order:parseInt(y.target.value)||0}),min:"0"})]})})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Tre artykuu"}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Zawarto"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary resize-none w-full",style:{height:"400px"},placeholder:"Wpisz tre artykuu...",value:u.content,onChange:y=>f({...u,content:y.target.value}),required:!0}),d("div",{className:"label",children:w("span",{className:"label-text-alt text-base-content/60",children:["Znaki: ",u.content.length]})})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:w("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>s(`/teacher/lessons/${n}`),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",className:"btn btn-primary",disabled:l.isPending,children:l.isPending?w(sr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Zapisywanie..."]}):w(sr,{children:[d("span",{children:""}),"Zapisz zmiany"]})})]})})})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Artyku nie zosta znaleziony"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie mona znale artykuu o podanym ID."}),d("button",{onClick:()=>s(`/teacher/lessons/${n}`),className:"btn btn-primary",children:" Powrt do lekcji"})]})})})}const tS=Object.freeze(Object.defineProperty({__proto__:null,default:eS,routeConfig:XN},Symbol.toStringTag,{value:"Module"})),rS={path:"/teacher/lessons/:id/edit",title:"Edit Lesson"};function nS(){const{id:n}=un(),{user:t}=pr(),s=ir(),{data:i,isLoading:o}=Ke("lesson-edit",`lessons?id=eq.${n}`),l=oh("teacher-lessons","lessons"),[u,f]=O.useState({title:"",description:"",subject:"",grade:"",topic:""}),m=i==null?void 0:i[0];O.useEffect(()=>{m&&f({title:m.title||"",description:m.description||"",subject:m.subject||"",grade:m.grade||"",topic:m.topic||""})},[m]);const g=async y=>{if(y.preventDefault(),!!n)try{await l.mutateAsync({id:n,updates:u}),s(`/teacher/lessons/${n}`)}catch(v){console.error("Error updating lesson:",v)}};return o?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):m?d("div",{className:"min-h-screen bg-base-200 p-4",children:w("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:w("div",{className:"card-body py-4",children:[w("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:""}),"Edytuj lekcj"]}),w("p",{className:"text-base-content/70",children:["ID: ",n]})]})}),d("form",{onSubmit:g,children:w("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Podstawowe informacje"}),w("div",{className:"space-y-4",children:[w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Tytu lekcji"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wprowad tytu lekcji...",value:u.title,onChange:y=>f({...u,title:y.target.value}),required:!0})]}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Opis"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-24 resize-none w-full",placeholder:"Opisz czego dotyczy lekcja...",value:u.description,onChange:y=>f({...u,description:y.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Klasyfikacja"}),w("div",{className:"space-y-4",children:[w("div",{className:"grid md:grid-cols-2 gap-4",children:[w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Przedmiot"}),w("select",{className:"select select-bordered focus:select-primary w-full",value:u.subject,onChange:y=>f({...u,subject:y.target.value}),children:[d("option",{value:"",children:"Wybierz przedmiot"}),d("option",{value:"Matematyka",children:" Matematyka"}),d("option",{value:"Polski",children:" Polski"}),d("option",{value:"Historia",children:" Historia"}),d("option",{value:"Biologia",children:" Biologia"})]})]}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Klasa"}),w("select",{className:"select select-bordered focus:select-primary w-full",value:u.grade,onChange:y=>f({...u,grade:y.target.value}),children:[d("option",{value:"",children:"Wybierz klas"}),d("option",{value:"Klasa 1",children:" Klasa 1"}),d("option",{value:"Klasa 2",children:" Klasa 2"}),d("option",{value:"Klasa 3",children:" Klasa 3"})]})]})]}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Temat"}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Gwny temat lekcji...",value:u.topic,onChange:y=>f({...u,topic:y.target.value})})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:w("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>s(`/teacher/lessons/${n}`),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",className:"btn btn-primary",disabled:l.isPending,children:l.isPending?w(sr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Zapisywanie..."]}):w(sr,{children:[d("span",{children:""}),"Zapisz zmiany"]})})]})})})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Lekcja nie zostaa znaleziona"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie mona znale lekcji o podanym ID."}),d("button",{onClick:()=>s("/teacher/lessons"),className:"btn btn-primary",children:" Powrt do listy lekcji"})]})})})}const sS=Object.freeze(Object.defineProperty({__proto__:null,default:nS,routeConfig:rS},Symbol.toStringTag,{value:"Module"})),iS={path:"/teacher/lessons/:lessonId/tasks/:taskId/edit",title:"Edit Quiz"};function aS(){const{lessonId:n,taskId:t}=un(),s=ir(),{data:i,isLoading:o}=Ke("task-edit",`tasks?id=eq.${t}`),l=oh("lesson-tasks","tasks"),[u,f]=O.useState({type:"multiple_choice",question_text:"",options:["","","",""],correct_answer:"",explanation:"",xp_reward:10}),m=i==null?void 0:i[0];O.useEffect(()=>{m&&f({type:m.type||"multiple_choice",question_text:m.question_text||"",options:m.options||["","","",""],correct_answer:m.correct_answer||"",explanation:m.explanation||"",xp_reward:m.xp_reward||10})},[m]);const g=async y=>{if(y.preventDefault(),!!t)try{const v={type:u.type,question_text:u.question_text,options:u.type==="multiple_choice"?u.options.filter(x=>x.trim()):null,correct_answer:u.correct_answer,explanation:u.explanation,xp_reward:u.xp_reward};await l.mutateAsync({id:t,updates:v}),s(`/teacher/lessons/${n}`)}catch(v){console.error("Error updating task:",v)}};return o?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):m?d("div",{className:"min-h-screen bg-base-200 p-4",children:w("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:w("div",{className:"card-body py-4",children:[w("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:""}),"Edytuj quiz"]}),w("p",{className:"text-base-content/70",children:["Lekcja ID: ",n," | Zadanie ID: ",t]})]})}),d("form",{onSubmit:g,children:w("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Typ pytania"}),d("div",{className:"form-control",children:w("select",{className:"select select-bordered focus:select-primary w-full",value:u.type,onChange:y=>f({...u,type:y.target.value}),children:[d("option",{value:"multiple_choice",children:" Wielokrotny wybr"}),d("option",{value:"true_false",children:" Prawda/Fasz"}),d("option",{value:"fill_blank",children:" Uzupenij luk"})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Pytanie"}),d("div",{className:"form-control",children:d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-24 resize-none w-full",placeholder:"Wpisz tre pytania...",value:u.question_text,onChange:y=>f({...u,question_text:y.target.value}),required:!0})})]})}),u.type==="multiple_choice"&&d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Opcje odpowiedzi"}),d("div",{className:"space-y-3",children:u.options.map((y,v)=>w("div",{className:"form-control",children:[w("label",{className:"block text-sm font-medium mb-1",children:["Opcja ",v+1]}),d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:`Wprowad opcj ${v+1}...`,value:y,onChange:x=>{const k=[...u.options];k[v]=x.target.value,f({...u,options:k})}})]},v))})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Poprawna odpowied"}),d("div",{className:"form-control",children:u.type==="true_false"?w("select",{className:"select select-bordered focus:select-primary w-full",value:u.correct_answer,onChange:y=>f({...u,correct_answer:y.target.value}),required:!0,children:[d("option",{value:"",children:"Wybierz odpowied"}),d("option",{value:"true",children:" Prawda"}),d("option",{value:"false",children:" Fasz"})]}):d("input",{type:"text",className:"input input-bordered focus:input-primary w-full",placeholder:"Wpisz poprawn odpowied...",value:u.correct_answer,onChange:y=>f({...u,correct_answer:y.target.value}),required:!0})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Dodatkowe informacje"}),w("div",{className:"space-y-4",children:[w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Wyjanienie (opcjonalne)"}),d("textarea",{className:"textarea textarea-bordered focus:textarea-primary h-20 resize-none w-full",placeholder:"Dodaj wyjanienie do odpowiedzi...",value:u.explanation,onChange:y=>f({...u,explanation:y.target.value})})]}),w("div",{className:"form-control",children:[d("label",{className:"block text-sm font-medium mb-1",children:"Punkty XP za poprawn odpowied"}),d("input",{type:"number",className:"input input-bordered focus:input-primary w-32",value:u.xp_reward,onChange:y=>f({...u,xp_reward:parseInt(y.target.value)||0}),min:"1",required:!0})]})]})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:w("div",{className:"card-actions justify-end",children:[d("button",{type:"button",onClick:()=>s(`/teacher/lessons/${n}`),className:"btn btn-ghost",children:"Anuluj"}),d("button",{type:"submit",className:"btn btn-primary",disabled:l.isPending,children:l.isPending?w(sr,{children:[d("span",{className:"loading loading-spinner loading-sm"}),"Zapisywanie..."]}):w(sr,{children:[d("span",{children:""}),"Zapisz zmiany"]})})]})})})]})})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Zadanie nie zostao znalezione"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie mona znale zadania o podanym ID."}),d("button",{onClick:()=>s(`/teacher/lessons/${n}`),className:"btn btn-primary",children:" Powrt do lekcji"})]})})})}const oS=Object.freeze(Object.defineProperty({__proto__:null,default:aS,routeConfig:iS},Symbol.toStringTag,{value:"Module"})),lS={path:"/teacher/lessons/:id",title:"Lesson Detail"};function cS(){const{id:n}=un(),{data:t}=Ke("lesson-detail",`lessons?id=eq.${n}`),{data:s}=Ke("lesson-articles",`articles?lesson_id=eq.${n}&order=sort_order`),{data:i}=Ke("lesson-tasks",`tasks?lesson_id=eq.${n}`),o=t==null?void 0:t[0];return o?w(ac,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniw",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h1",{className:"text-2xl font-bold mb-2",children:o.title}),d("p",{className:"text-base-content/70 mb-4",children:o.description}),w("div",{className:"flex gap-2",children:[d("span",{className:"badge badge-primary",children:o.subject}),d("span",{className:"badge badge-secondary",children:o.grade}),o.topic&&d("span",{className:"badge badge-outline",children:o.topic})]})]})}),w("div",{className:"grid md:grid-cols-2 gap-6",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[w("div",{className:"flex justify-between items-center mb-4",children:[w("h2",{className:"card-title text-lg",children:[d("span",{className:"text-primary",children:""}),"Treci (",(s==null?void 0:s.length)||0,")"]}),d(ze,{to:`/teacher/lessons/${n}/articles/create`,className:"btn btn-sm btn-primary",children:" Dodaj tre"})]}),d("div",{className:"space-y-3",children:s&&s.length>0?s.map(l=>d("div",{className:"card bg-base-200 shadow-sm",children:w("div",{className:"card-body py-3",children:[d("div",{className:"font-medium text-sm",children:l.title}),w("div",{className:"flex gap-2 mt-2",children:[d(ze,{to:`/teacher/lessons/${n}/articles/${l.id}/edit`,className:"btn btn-xs btn-outline",children:" Edytuj"}),d(ze,{to:`/teacher/lessons/${n}/articles/${l.id}`,className:"btn btn-xs btn-ghost",children:" Zobacz"})]})]})},l.id)):w("div",{className:"text-center py-8 text-base-content/50",children:[d("div",{className:"text-3xl opacity-30 mb-2",children:""}),d("p",{className:"text-sm mb-3",children:"Brak treci"}),d(ze,{to:`/teacher/lessons/${n}/articles/create`,className:"btn btn-sm btn-primary",children:"Dodaj pierwsz tre"})]})})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[w("div",{className:"flex justify-between items-center mb-4",children:[w("h2",{className:"card-title text-lg",children:[d("span",{className:"text-primary",children:""}),"Quizy (",(i==null?void 0:i.length)||0,")"]}),d(ze,{to:`/teacher/lessons/${n}/tasks/create`,className:"btn btn-sm btn-primary",children:" Dodaj quiz"})]}),d("div",{className:"space-y-3",children:i&&i.length>0?i.map(l=>d("div",{className:"card bg-base-200 shadow-sm",children:w("div",{className:"card-body py-3",children:[d("div",{className:"font-medium text-sm line-clamp-2",children:l.question_text}),w("div",{className:"flex gap-2 mt-2",children:[d("span",{className:"badge badge-xs badge-outline",children:l.type}),w("span",{className:"badge badge-xs badge-accent",children:[l.xp_reward," XP"]})]}),d("div",{className:"flex gap-2 mt-2",children:d(ze,{to:`/teacher/lessons/${n}/tasks/${l.id}/edit`,className:"btn btn-xs btn-outline",children:" Edytuj"})})]})},l.id)):w("div",{className:"text-center py-8 text-base-content/50",children:[d("div",{className:"text-3xl opacity-30 mb-2",children:""}),d("p",{className:"text-sm mb-3",children:"Brak quizw"}),d(ze,{to:`/teacher/lessons/${n}/tasks/create`,className:"btn btn-sm btn-primary",children:"Dodaj pierwszy quiz"})]})})]})})]}),d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[w("h2",{className:"card-title text-lg mb-4",children:[d("span",{className:"text-primary",children:""}),"Szybkie akcje"]}),w("div",{className:"flex flex-wrap gap-3",children:[d(ze,{to:`/teacher/lessons/${n}/edit`,className:"btn btn-outline",children:" Edytuj lekcj"}),d(ze,{to:"/teacher/lessons",className:"btn btn-ghost",children:" Powrt do listy"}),d(ze,{to:`/student/lessons/${n}`,className:"btn btn-info",children:" Podgld ucznia"})]})]})})]}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})})}const uS=Object.freeze(Object.defineProperty({__proto__:null,default:cS,routeConfig:lS},Symbol.toStringTag,{value:"Module"})),dS={path:"/teacher/lessons",title:"Manage Lessons"};function hS(){const{user:n}=pr(),{data:t,isLoading:s}=Ke("teacher-lessons",`lessons?author_id=eq.${n==null?void 0:n.id}`);return s?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):w(ac,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniw",children:[d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body py-4",children:w("div",{className:"flex justify-between items-center",children:[w("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:""}),"Moje lekcje"]}),d(ze,{to:"/teacher/lessons/create",className:"btn btn-primary",children:" Nowa lekcja"})]})})}),t&&t.length>0?d("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(i=>d("div",{className:"card bg-base-100 shadow-sm hover:shadow-md transition-shadow",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg",children:i.title}),d("p",{className:"text-sm opacity-70 line-clamp-3",children:i.description}),w("div",{className:"flex gap-2 mt-2",children:[d("div",{className:"badge badge-outline",children:i.subject}),i.grade&&d("div",{className:"badge badge-ghost",children:i.grade})]}),w("div",{className:"card-actions justify-end mt-4",children:[d(ze,{to:`/teacher/lessons/${i.id}/edit`,className:"btn btn-sm btn-outline",children:" Edytuj"}),d(ze,{to:`/teacher/lessons/${i.id}`,className:"btn btn-sm btn-primary",children:" Zobacz"})]})]})},i.id))}):d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body py-16 text-center",children:[d("div",{className:"text-6xl opacity-30 mb-4",children:""}),d("h2",{className:"text-xl font-medium mb-2",children:"Brak lekcji"}),d("p",{className:"text-base-content/70 mb-6",children:"Nie masz jeszcze adnych lekcji. Utwrz swoj pierwsz lekcj!"}),d(ze,{to:"/teacher/lessons/create",className:"btn btn-primary",children:" Utwrz pierwsz lekcj"})]})})]})}const fS=Object.freeze(Object.defineProperty({__proto__:null,default:hS,routeConfig:dS},Symbol.toStringTag,{value:"Module"})),mS={path:"/teacher/students",title:"Students List"};function pS(){const{data:n,isLoading:t}=Ke("students","users?role=eq.student");return t?d("div",{className:"loading loading-spinner loading-lg"}):w(ac,{showPadding:!0,title:"Uczniowie",subtitle:"Lista uczniw",children:[d("h1",{className:"text-3xl font-bold mb-6",children:" Lista uczniw"}),d("div",{className:"overflow-x-auto",children:w("table",{className:"table table-zebra",children:[d("thead",{children:w("tr",{children:[d("th",{children:"Ucze"}),d("th",{children:"Email"}),d("th",{children:"Poziom"}),d("th",{children:"XP"}),d("th",{children:"Seria"})]})}),d("tbody",{children:n==null?void 0:n.map(s=>{var i;return w("tr",{children:[d("td",{children:w("div",{className:"flex items-center gap-3",children:[d("div",{className:"avatar placeholder",children:d("div",{className:"bg-neutral text-neutral-content rounded-full w-8",children:d("span",{className:"text-xs",children:((i=s.username)==null?void 0:i[0])||"U"})})}),d("span",{children:s.username||"Brak nazwy"})]})}),d("td",{children:s.email}),d("td",{children:d("div",{className:"badge badge-primary",children:s.level})}),d("td",{children:s.xp}),d("td",{children:d("div",{className:"badge badge-secondary",children:s.streak})})]},s.id)})})]})})]})}const gS=Object.freeze(Object.defineProperty({__proto__:null,default:pS,routeConfig:mS},Symbol.toStringTag,{value:"Module"})),yS={path:"/teacher/lessons/:lessonId/tasks/:taskId",title:"Quiz Details"};function vS(){const{lessonId:n,taskId:t}=un(),s=ir(),{data:i,isLoading:o}=Ke("task-detail",`tasks?id=eq.${t}`),l=Bk("lesson-tasks","tasks"),u=i==null?void 0:i[0],f=async()=>{if(window.confirm("Czy na pewno chcesz usun ten quiz?"))try{await l.mutateAsync({id:t}),s(`/teacher/lessons/${n}`)}catch(g){console.error("Error deleting task:",g)}},m=g=>{switch(g){case"multiple_choice":return" Wielokrotny wybr";case"true_false":return" Prawda/Fasz";case"fill_blank":return" Uzupenij luk";default:return g}};return o?d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"loading loading-spinner loading-lg"})}):u?d("div",{className:"min-h-screen bg-base-200 p-4",children:w("div",{className:"max-w-2xl mx-auto",children:[d("div",{className:"card bg-base-100 shadow-sm mb-6",children:d("div",{className:"card-body py-4",children:w("div",{className:"flex items-center justify-between",children:[w("div",{children:[w("h1",{className:"card-title text-2xl",children:[d("span",{className:"text-primary",children:""}),"Szczegy quizu"]}),w("p",{className:"text-base-content/70",children:["Lekcja ID: ",n," | Quiz ID: ",t]})]}),w("div",{className:"flex gap-2",children:[w("button",{onClick:()=>s(`/teacher/lessons/${n}/tasks/${t}/edit`),className:"btn btn-primary btn-sm",children:[d("span",{children:""}),"Edytuj"]}),w("button",{onClick:f,className:"btn btn-error btn-sm",disabled:l.isPending,children:[l.isPending?d("span",{className:"loading loading-spinner loading-xs"}):d("span",{children:""}),"Usu"]})]})]})})}),w("div",{className:"space-y-4",children:[d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Podstawowe informacje"}),w("div",{className:"space-y-4",children:[w("div",{children:[d("label",{className:"block text-sm font-medium mb-2 text-base-content/70",children:"Typ pytania"}),d("div",{className:"badge badge-primary badge-lg",children:m(u.type)})]}),w("div",{children:[d("label",{className:"block text-sm font-medium mb-2 text-base-content/70",children:"Pytanie"}),d("div",{className:"bg-base-200 p-4 rounded-lg border-l-4 border-primary",children:u.question_text})]}),w("div",{children:[d("label",{className:"block text-sm font-medium mb-2 text-base-content/70",children:"Punkty XP za poprawn odpowied"}),w("div",{className:"badge badge-accent badge-lg",children:[" ",u.xp_reward," XP"]})]})]})]})}),u.type==="multiple_choice"&&u.options&&d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Opcje odpowiedzi"}),d("div",{className:"space-y-3",children:u.options.map((g,y)=>d("div",{className:`p-3 rounded-lg border-l-4 ${g===u.correct_answer?"bg-success/10 border-success":"bg-base-200 border-base-300"}`,children:w("div",{className:"flex items-center justify-between",children:[w("span",{children:[w("span",{className:"font-semibold mr-2",children:[String.fromCharCode(65+y),"."]}),g]}),g===u.correct_answer&&d("span",{className:"badge badge-success badge-sm",children:" Poprawna"})]})},y))})]})}),u.type!=="multiple_choice"&&d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Poprawna odpowied"}),d("div",{className:"bg-success/10 border-l-4 border-success p-4 rounded-lg",children:d("span",{className:"font-medium",children:u.type==="true_false"?u.correct_answer==="true"?" Prawda":" Fasz":u.correct_answer})})]})}),u.explanation&&d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body",children:[d("h2",{className:"card-title text-lg mb-4",children:" Wyjanienie"}),d("div",{className:"bg-info/10 border-l-4 border-info p-4 rounded-lg",children:u.explanation})]})}),d("div",{className:"card bg-base-100 shadow-sm",children:d("div",{className:"card-body",children:d("div",{className:"card-actions",children:d("button",{onClick:()=>s(`/teacher/lessons/${n}`),className:"btn btn-ghost",children:" Powrt do lekcji"})})})})]})]})}):d("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:d("div",{className:"card bg-base-100 shadow-sm",children:w("div",{className:"card-body text-center",children:[d("h2",{className:"text-xl font-medium mb-2",children:"Quiz nie zosta znaleziony"}),d("p",{className:"text-base-content/70 mb-4",children:"Nie mona znale quizu o podanym ID."}),d("button",{onClick:()=>s(`/teacher/lessons/${n}`),className:"btn btn-primary",children:" Powrt do lekcji"})]})})})}const wS=Object.freeze(Object.defineProperty({__proto__:null,default:vS,routeConfig:yS},Symbol.toStringTag,{value:"Module"})),jy=Object.assign({"../../pages/auth/ui.Login.tsx":p1,"../../pages/auth/ui.Register.tsx":v1,"../../pages/auth/ui.StudentWelcome.tsx":Ek,"../../pages/auth/ui.TeacherWelcome.tsx":jk,"../../pages/auth/ui.Welcome.tsx":Ok,"../../pages/student/filters.FilterTabs.tsx":zk,"../../pages/student/grid.BadgeGrid.tsx":$k,"../../pages/student/grid.UniversalGrid.tsx":Uk,"../../pages/student/hooks/useFilters.tsx":Fk,"../../pages/student/hooks/useStudentData.tsx":Wk,"../../pages/student/menu.StudentMenu.tsx":Hk,"../../pages/student/overview.AchievementsOverview.tsx":Kk,"../../pages/student/section.StatsSection.tsx":Jk,"../../pages/student/stats.CurrentStats.tsx":Zk,"../../pages/student/ui.Achievements.tsx":sN,"../../pages/student/ui.Courses.tsx":cN,"../../pages/student/ui.Dashboard.tsx":fN,"../../pages/student/ui.Lesson.tsx":gN,"../../pages/student/ui.Progress.tsx":wN,"../../pages/teacher/ClassManagement.tsx":_N,"../../pages/teacher/QuizEditor.tsx":EN,"../../pages/teacher/QuizList.tsx":jN,"../../pages/teacher/StudentProgress.tsx":ON,"../../pages/teacher/TeacherDashboard.tsx":$N,"../../pages/teacher/menu.TeacherMenu.tsx":AN,"../../pages/teacher/ui.ArticleDetail.tsx":IN,"../../pages/teacher/ui.CreateArticle.tsx":BN,"../../pages/teacher/ui.CreateLesson.tsx":HN,"../../pages/teacher/ui.CreateTask.tsx":QN,"../../pages/teacher/ui.Dashboard.tsx":ZN,"../../pages/teacher/ui.EditArticle.tsx":tS,"../../pages/teacher/ui.EditLesson.tsx":sS,"../../pages/teacher/ui.EditTask.tsx":oS,"../../pages/teacher/ui.LessonDetail.tsx":uS,"../../pages/teacher/ui.Lessons.tsx":fS,"../../pages/teacher/ui.Students.tsx":gS,"../../pages/teacher/ui.TaskDetail.tsx":wS});function $d(n=!1){const t={};return Object.entries(jy).forEach(([s,i])=>{var f;const o=((f=s.split("/").pop())==null?void 0:f.toLowerCase())||"";if(o.startsWith("agent.")){if(!n)return}else if(o.startsWith("ui.")){if(n)return}else if(o.endsWith(".agent.tsx")){if(!n)return}else if(o.endsWith(".ui.tsx")){if(n)return}else return;const l=i.routeConfig;if(!l)return;(Array.isArray(l)?l:[l]).forEach(m=>{t[m.path]={...m,modulePath:s}})}),t}function bS(n,t){const s=jy[n];return s!=null&&s.default?s.default:(console.error(`Nie znaleziono komponentu dla cieki: ${n}`),null)}const xS=({children:n,roles:t=[]})=>{const{user:s,loading:i}=pr();return i?d("div",{children:"adowanie"}):s?t.length>0&&!t.includes(s.role)?d(kd,{to:"/unauthorized",replace:!0}):d(sr,{children:n}):d(kd,{to:"/login",replace:!0})};function _S(n,t){const s=n.split("/").filter(Boolean),i=t.split("/").filter(Boolean);return s.length!==i.length?!1:i.every((o,l)=>o.startsWith(":")||o===s[l])}function kS(n,t){if(t[n])return t[n];for(const[s,i]of Object.entries(t))if(_S(n,s))return i;return null}const Ad=()=>{const{agentMode:n=!1}=gb(),{pathname:t}=cn(),s=O.useMemo(()=>$d(n),[n]),i=kS(t,s);if(!i)return d("div",{className:"min-h-screen flex items-center justify-center",children:w("div",{className:"text-center",children:[d("h1",{className:"text-2xl font-bold mb-4",children:"404  Strona nie znaleziona"}),w("p",{className:"text-gray-600",children:["cieka: ",t]}),w("div",{className:"mt-4 text-sm text-gray-500",children:[w("p",{children:["Tryb: ",n?"Agent":"UI"]}),d("p",{children:"Dostpne cieki:"}),d("ul",{className:"list-disc list-inside",children:Object.keys(s).map(u=>d("li",{children:u},u))})]})]})});O.useEffect(()=>{i.title&&(document.title=i.title)},[i.title]);const o=bS(i.modulePath);if(!o)return d("div",{className:"min-h-screen flex items-center justify-center",children:w("div",{className:"text-center",children:[d("h1",{className:"text-2xl font-bold mb-4",children:"Bd adowania komponentu"}),w("p",{className:"text-gray-600",children:["Nie mona zaadowa komponentu dla: ",t]})]})});const l=d(o,{},t);return i.roles?d(xS,{roles:i.roles,children:l}):l},NS=async({request:n})=>({agentMode:new URL(n.url).searchParams.get("agentMode")==="true"}),SS=()=>{const n=$d(!0),t=$d(!1),s=[];return Object.values(t).forEach(i=>{s.push({path:i.path,loader:()=>({agentMode:!1}),element:d(Ad,{})})}),Object.values(n).forEach(i=>{s.push({path:i.path,loader:()=>({agentMode:!0}),element:d(Ad,{})})}),s},ES=Gb([{path:"/",element:d(kd,{to:"/auth/login",replace:!0})},...SS(),{path:"*",loader:NS,element:d(Ad,{})}]);function CS(){return d(ox,{router:ES})}const PS=O.createContext(null);function jS({children:n}){const[t,s]=O.useState(()=>localStorage.getItem("theme")||"light");O.useEffect(()=>{document.documentElement.dataset.theme=t,localStorage.setItem("theme",t),console.log("[ThemeProvider] Zastosowano motyw:",t),console.log("[ThemeProvider] <html data-theme=>",document.documentElement.getAttribute("data-theme"));const u=getComputedStyle(document.documentElement);console.log("[ThemeProvider] --p (primary):",u.getPropertyValue("--p")),console.log("[ThemeProvider] --b1 (base-100):",u.getPropertyValue("--b1"))},[t]);const l={theme:t,toggle:()=>{const u=t==="dark"?"light":"dark";console.log("[ThemeProvider] Zmieniam motyw na:",u),s(u)},setTheme:u=>{console.log("[ThemeProvider] Ustawiam motyw na:",u),s(u)}};return d(PS.Provider,{value:l,children:n})}function TS(){const[n,t]=O.useState(()=>localStorage.getItem("theme")||"light");return O.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]),{theme:n,toggle:()=>{t(i=>i==="light"?"dark":"light")},setTheme:t}}function RS(){const{theme:n,toggle:t}=TS();return d("button",{onClick:t,className:"btn btn-ghost btn-sm fixed bottom-4 left-4 z-50","aria-label":"Przecz motyw",children:n==="light"?d(sk,{size:16,className:"text-primary"}):d(pk,{size:16,className:"text-warning"})})}const OS=new D0({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function LS(){return d(W0,{client:OS,children:w(jS,{children:[" ",w(d1,{children:[" ",d("div",{className:"App",children:d(CS,{})})]}),d(RS,{})]})})}const zS=document.getElementById("root"),$S=w0.createRoot(zS);$S.render(d(m0.StrictMode,{children:d(LS,{})}));export{cg as a,h0 as g};
