import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
// src/pages/teacher/ui.ArticleDetail.tsx
import { SidebarLayout } from "@/components/layout/SidebarLayout";
import { useFetch } from "@/pages/api/hooks";
import { useParams, Link } from "react-router-dom";
import { TeacherMenu } from "./menu.TeacherMenu";
export const routeConfig = {
    path: "/teacher/lessons/:lessonId/articles/:articleId",
    title: "Article Detail",
};
export default function ArticleDetail() {
    const { lessonId, articleId } = useParams();
    const { data: articles } = useFetch("article-detail", `articles?id=eq.${articleId}`);
    const { data: lesson } = useFetch("lesson-detail-for-article", `lessons?id=eq.${lessonId}`);
    const articleData = articles?.[0];
    const lessonData = lesson?.[0];
    if (!articleData) {
        return (_jsx("div", { className: "min-h-screen bg-base-200 flex items-center justify-center", children: _jsx("div", { className: "loading loading-spinner loading-lg" }) }));
    }
    return (_jsx(SidebarLayout, { menuComponent: _jsx(TeacherMenu, { userRole: "teacher" }), children: _jsxs("div", { className: "max-w-4xl mx-auto space-y-6", children: [_jsx("div", { className: "card bg-base-100 shadow-sm", children: _jsx("div", { className: "card-body py-3", children: _jsx("div", { className: "breadcrumbs text-sm", children: _jsxs("ul", { children: [_jsx("li", { children: _jsx(Link, { to: "/teacher/lessons", children: "Lekcje" }) }), _jsx("li", { children: _jsx(Link, { to: `/teacher/lessons/${lessonId}`, children: lessonData?.title || "Lekcja" }) }), _jsx("li", { children: "Artyku\u0142" })] }) }) }) }), _jsx("div", { className: "card bg-base-100 shadow-sm", children: _jsxs("div", { className: "card-body", children: [_jsxs("div", { className: "flex justify-between items-start mb-4", children: [_jsxs("div", { children: [_jsx("h1", { className: "text-2xl font-bold mb-2", children: articleData.title }), _jsxs("div", { className: "flex gap-2 items-center", children: [_jsxs("span", { className: "badge badge-outline", children: ["Kolejno\u015B\u0107: ", articleData.sort_order] }), _jsxs("span", { className: "text-sm text-base-content/60", children: ["ID: ", articleId] })] })] }), _jsx("div", { className: "flex gap-2", children: _jsx(Link, { to: `/teacher/lessons/${lessonId}/articles/${articleId}/edit`, className: "btn btn-primary btn-sm", children: "\u270F\uFE0F Edytuj" }) })] }), lessonData && (_jsx("div", { className: "alert alert-info", children: _jsxs("div", { className: "flex items-center gap-2", children: [_jsx("span", { className: "text-info", children: "\uD83D\uDCDA" }), _jsxs("div", { children: [_jsxs("div", { className: "font-medium", children: ["Lekcja: ", lessonData.title] }), _jsxs("div", { className: "text-sm opacity-70", children: [lessonData.subject, " \u2022 ", lessonData.grade] })] })] }) }))] }) }), _jsx("div", { className: "card bg-base-100 shadow-sm", children: _jsxs("div", { className: "card-body", children: [_jsxs("h2", { className: "card-title text-lg mb-4", children: [_jsx("span", { className: "text-primary", children: "\uD83D\uDCC4" }), "Tre\u015B\u0107 artyku\u0142u"] }), _jsx("div", { className: "prose max-w-none", children: _jsx("div", { className: "whitespace-pre-wrap text-base leading-relaxed", children: articleData.content }) }), _jsx("div", { className: "divider" }), _jsxs("div", { className: "text-sm text-base-content/60", children: ["Liczba znak\u00F3w: ", articleData.content?.length || 0] })] }) }), _jsx("div", { className: "card bg-base-100 shadow-sm", children: _jsxs("div", { className: "card-body", children: [_jsxs("h2", { className: "card-title text-lg mb-4", children: [_jsx("span", { className: "text-primary", children: "\u26A1" }), "Szybkie akcje"] }), _jsxs("div", { className: "flex flex-wrap gap-3", children: [_jsx(Link, { to: `/teacher/lessons/${lessonId}/articles/${articleId}/edit`, className: "btn btn-outline", children: "\u270F\uFE0F Edytuj artyku\u0142" }), _jsx(Link, { to: `/teacher/lessons/${lessonId}`, className: "btn btn-ghost", children: "\u2190 Powr\u00F3t do lekcji" }), _jsx(Link, { to: `/teacher/lessons/${lessonId}/articles/create`, className: "btn btn-primary", children: "\u2795 Dodaj kolejny artyku\u0142" }), _jsx(Link, { to: `/student/lessons/${lessonId}/articles/${articleId}`, className: "btn btn-info", children: "\uD83D\uDC41\uFE0F Podgl\u0105d ucznia" })] })] }) })] }) }));
}
